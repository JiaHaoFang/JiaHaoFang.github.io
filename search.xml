<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo 相关记录</title>
    <url>//hexo-record/</url>
    <content><![CDATA[<h2 id="使用git分支保存源码"><a class="markdownIt-Anchor" href="#使用git分支保存源码"></a> 使用git分支保存源码</h2>
<ol>
<li>
<p>拉取分支</p>
<p>因Github Page要求使用master分支作为发布网站的源代码，我们只能用master分支来保存hexo生成的静态网页，对于博客源码，可以新建一个source分支来存储。在github上打开Pages对应的仓库，也就是以”<a href="http://username.github.io/">username.github.io</a>”命名的仓库，然后建立一个source分支，仓库的默认分支改为保存源码的source分支，这样通过<code>git clone</code>拉取的就是source分支代码了。</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone &lt;https://github.com/JiaHaoFang/JiaHaoFang.github.io.git&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>配置环境</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装hexo</span></span><br><span class="line">npm install hexo</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">git支持</span></span><br><span class="line">npm install hexo-deployer-git -save</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="添加next主题配置"><a class="markdownIt-Anchor" href="#添加next主题配置"></a> 添加next主题配置</h2>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone &lt;https://github.com/theme-next/hexo-theme-next.git&gt; themes/next</span><br></pre></td></tr></table></figure>
<h2 id="显示摘要"><a class="markdownIt-Anchor" href="#显示摘要"></a> 显示摘要</h2>
<figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="code"><pre><span class="line"># 显示摘要</span><br><span class="line">npm install hexo-excerpt --save</span><br></pre></td></tr></table></figure>
<h2 id="用typora写作"><a class="markdownIt-Anchor" href="#用typora写作"></a> 用typora写作</h2>
<h3 id="markdown语法支持"><a class="markdownIt-Anchor" href="#markdown语法支持"></a> markdown语法支持</h3>
<p>使用typora作为语法编辑器，使用插件使网页能够支持markdown的编辑格式</p>
<ol>
<li>
<p>安装库</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">markdown语法支持</span></span><br><span class="line">npm uni hexo-renderer-marked --save</span><br><span class="line">npm i @upupming/hexo-renderer-markdown-it-plus --save</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用<br />
在hexo站点配置文件_config.yml中添加如下配置，<a href="https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus">详细配置</a>:</p>
 <figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Markdown config</span></span><br><span class="line"><span class="attr">markdown_it_plus:</span></span><br><span class="line">	<span class="attr">highlight:</span> <span class="literal">true</span></span><br><span class="line">	<span class="attr">html:</span> <span class="literal">true</span></span><br><span class="line">	<span class="attr">xhtmlOut:</span> <span class="literal">true</span></span><br><span class="line">	<span class="attr">breaks:</span> <span class="literal">true</span></span><br><span class="line">	<span class="attr">langPrefix:</span></span><br><span class="line">	<span class="attr">linkify:</span> <span class="literal">true</span></span><br><span class="line">	<span class="attr">typographer:</span></span><br><span class="line">	<span class="attr">quotes:</span> <span class="string">“”‘’</span></span><br><span class="line">	<span class="attr">pre_class:</span> <span class="string">highlight</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="图片链接"><a class="markdownIt-Anchor" href="#图片链接"></a> 图片链接</h3>
<p>为了与typora写作，使网页能够直接渲染typora编辑的markdown文档，需要在typora中设置图片保存在./$${filename}下，安装该插件即可（该插件md写着是为了与typora共同使用而开发）</p>
<figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="code"><pre><span class="line"># 图片链接</span><br><span class="line">npm install hexo-image-link --save</span><br></pre></td></tr></table></figure>
<h2 id="文章置顶"><a class="markdownIt-Anchor" href="#文章置顶"></a> 文章置顶</h2>
<figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="code"><pre><span class="line"># 添加文章置顶功能，未使用</span><br><span class="line">npm uninstall hexo-generator-index --save</span><br><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure>
<p>安装后在文章顶部增加字段<code>top: true</code>即可</p>
<h2 id="页脚增加网站运行时间统计next80-以下"><a class="markdownIt-Anchor" href="#页脚增加网站运行时间统计next80-以下"></a> 页脚增加网站运行时间统计(NexT8.0 以下)</h2>
<ol>
<li>
<p>找到 <code>\\themes\\next\\layout\\_partials\\</code> 下面的 <code>footer.swig</code> 文件</p>
</li>
<li>
<p>在合适的位置添加下面代码（通过运行调试，查看运行时间出现的位置）（45行）</p>
 <figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;!--添加运行时间--&gt;</span><br><span class="line">&lt;span id=&quot;sitetime&quot;&gt;&lt;/span&gt;</span><br><span class="line">&lt;script language=javascript&gt;</span><br><span class="line">	function siteTime()&#123;</span><br><span class="line">		window.setTimeout(&quot;siteTime()&quot;, 1000);</span><br><span class="line">		var seconds = 1000;</span><br><span class="line">		var minutes = seconds * 60;</span><br><span class="line">		var hours = minutes * 60;</span><br><span class="line">		var days = hours * 24;</span><br><span class="line">		var years = days * 365;</span><br><span class="line">		var today = new Date();</span><br><span class="line">		var todayYear = today.getFullYear();</span><br><span class="line">		var todayMonth = today.getMonth()+1;</span><br><span class="line">		var todayDate = today.getDate();</span><br><span class="line">		var todayHour = today.getHours();</span><br><span class="line">		var todayMinute = today.getMinutes();</span><br><span class="line">		var todaySecond = today.getSeconds();</span><br><span class="line">		/*</span><br><span class="line">		Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)</span><br><span class="line">		year - 作为date对象的年份，为4位年份值</span><br><span class="line">		month - 0-11之间的整数，做为date对象的月份</span><br><span class="line">		day - 1-31之间的整数，做为date对象的天数</span><br><span class="line">		hours - 0(午夜24点)-23之间的整数，做为date对象的小时数</span><br><span class="line">		minutes - 0-59之间的整数，做为date对象的分钟数</span><br><span class="line">		seconds - 0-59之间的整数，做为date对象的秒数</span><br><span class="line">		microseconds - 0-999之间的整数，做为date对象的毫秒数</span><br><span class="line">		*/</span><br><span class="line">		var t1 = Date.UTC(2022,02,21,13,30,00); //北京时间2018-2-13 00:00:00</span><br><span class="line">		var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);</span><br><span class="line">		var diff = t2-t1;</span><br><span class="line">		var diffYears = Math.floor(diff/years);</span><br><span class="line">		var diffDays = Math.floor((diff/days)-diffYears*365);</span><br><span class="line">		var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);</span><br><span class="line">		var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);</span><br><span class="line">		var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);</span><br><span class="line">		document.getElementById(&quot;sitetime&quot;).innerHTML=&quot; 已运行&quot;+/*diffYears+&quot; 年 &quot;+*/diffDays+&quot; 天 &quot;+diffHours+&quot; 小时 &quot;+diffMinutes+&quot; 分钟 &quot;+diffSeconds+&quot; 秒&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	siteTime();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;!--添加运行时间--&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="页脚增加网站运行时间统计next80-以上"><a class="markdownIt-Anchor" href="#页脚增加网站运行时间统计next80-以上"></a> 页脚增加网站运行时间统计(NexT8.0 以上)</h2>
<ol>
<li>
<p>找到 <code>themes/next/layout/_partials/footer.njk</code>文件</p>
</li>
<li>
<p>在末尾加入以下代码</p>
 <figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;!-- &lt;br /&gt; --&gt;</span><br><span class="line">&lt;!-- 网站运行时间的设置 --&gt;</span><br><span class="line">&lt;span id=&quot;timeDate&quot;&gt;载入天数...&lt;/span&gt;</span><br><span class="line">&lt;!-- &lt;span id=&quot;times&quot;&gt;载入时分秒...&lt;/span&gt; --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var now = new Date();</span><br><span class="line">function createtime() &#123;</span><br><span class="line">	var grt= new Date(&quot;02/21/2022 13:30:00&quot;);//(2022,02,21,13,30,00)</span><br><span class="line">	now.setTime(now.getTime()+250);</span><br><span class="line">	days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);</span><br><span class="line">	hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);</span><br><span class="line">	if(String(hnum).length ==1 )&#123;hnum = &quot;0&quot; + hnum;&#125; minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);</span><br><span class="line">	mnum = Math.floor(minutes); if(String(mnum).length ==1 )&#123;mnum = &quot;0&quot; + mnum;&#125;</span><br><span class="line">	seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);</span><br><span class="line">	snum = Math.round(seconds);</span><br><span class="line">	if(String(snum).length ==1 )&#123;snum = &quot;0&quot; + snum;&#125;</span><br><span class="line">	// var times = document.getElementById(&quot;times&quot;).innerHTML = hnum + &quot; 小时 &quot; + mnum + &quot; 分 &quot; + snum + &quot; 秒&quot;;</span><br><span class="line">	document.getElementById(&quot;timeDate&quot;).innerHTML = &quot;本站已安全运行 &quot;+dnum+&quot; 天 &quot;+hnum + &quot; 小时 &quot; + mnum + &quot; 分 &quot; + snum + &quot; 秒&quot;;</span><br><span class="line">&#125;</span><br><span class="line">setInterval(&quot;createtime()&quot;,250);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="搜索引擎支持"><a class="markdownIt-Anchor" href="#搜索引擎支持"></a> 搜索引擎支持</h2>
<ol>
<li>
<p>各搜索引擎网站管理员中心</p>
<ul>
<li>Google：<a href="https://www.google.com/webmasters/tools">https://www.google.com/webmasters/tools</a></li>
<li>bing：<a href="https://www.bing.com/webmasters/home">https://www.bing.com/webmasters/home</a></li>
</ul>
</li>
<li>
<p>向搜索引擎提交站点</p>
<blockquote>
<p>以Google为例</p>
</blockquote>
<p>修改<code>themes/next/_config.yml</code>文件：</p>
 <figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Google Webmaster tools verification.</span></span><br><span class="line"><span class="comment"># See: &lt;https://www.google.com/webmasters&gt;</span></span><br><span class="line"><span class="attr">google_site_verification:</span> <span class="string">xxxxxxxxxx</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>提交网站地图</p>
<blockquote>
<p>提交网站地图加快索引</p>
</blockquote>
<ol>
<li>
<p>安装插件sitemap</p>
 <figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-sitemap –save</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>在<code>themes/next/_config.yml</code>中修改：</p>
 <figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line"><span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-th</span></span><br><span class="line"><span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line"><span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line"><span class="comment">#schedule: /schedule/ || fa fa-calendar</span></span><br><span class="line"><span class="attr">sitemap:</span> <span class="string">/sitemap.xml</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-sitemap</span></span><br><span class="line"><span class="comment">#commonweal: /404/ || fa fa-heartbeat</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>生成静态网页，上传，然后在对应搜索引擎的webmasters中添加站点地图的地址即可</p>
</li>
</ol>
</li>
<li>
<p>验证是否被检索<br />
以GitHub Pages为例，新建的GitHub Pages是没有被谷歌检索的。在谷歌搜索栏中输入如下信息进行检索：</p>
 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line">site: jiahaofang.github.io</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="本地搜索功能"><a class="markdownIt-Anchor" href="#本地搜索功能"></a> 本地搜索功能</h2>
<ol>
<li>
<p>在根目录执行命令</p>
 <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>配置 hexo 的<code>_config.yml</code>文件<br />
在文件末尾新增配置项</p>
 <figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line"> 	<span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line"> 	<span class="attr">field:</span> <span class="string">post</span></span><br><span class="line"> 	<span class="attr">format:</span> <span class="string">html</span></span><br><span class="line"> 	<span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>配置 <code>NexT</code> 主题的 <code>_config.yml</code>（根据 next 文档，应为<code>/_config.next.yml</code>）</p>
 <figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">	<span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Notion+Hexo 博客解决方案</title>
    <url>//notion-hexo-deploy/</url>
    <content><![CDATA[<h1 id="创作开发"><a class="markdownIt-Anchor" href="#创作开发"></a> 创作&amp;开发</h1>
<h2 id="notion"><a class="markdownIt-Anchor" href="#notion"></a> Notion</h2>
<ul>
<li>
<p>使用 notion 进行内容创作</p>
</li>
<li>
<p>使用 notion database 进行知识库整理</p>
<p>本文使用 hexo 平台，可参考<a href="https://1874.notion.site/867486af567f4a8897427b15ffd10b3c?v=a25aec8e27d5415e8605e43034f822bd"><strong>elog-hexo-template</strong></a> 创建数据库副本或增加必要属性到已有 Notion 数据库</p>
<p><img src="../images/e2615f760424eea3212a9e6c8e86e975.png" alt="image.png" /></p>
</li>
</ul>
<h2 id="hexo"><a class="markdownIt-Anchor" href="#hexo"></a> Hexo</h2>
<blockquote>
<p>使用 Hexo 进行博客开发</p>
</blockquote>
<ul>
<li>
<p>使用git分支保存源码</p>
<p>因Github Page要求使用master分支作为发布网站的源代码，我们只能用master分支来保存hexo生成的静态网页，对于博客源码，可以新建一个source分支来存储。在github上打开Pages对应的仓库，也就是以”<a href="http://username.github.io/">username.github.io</a>”命名的仓库，然后建立一个source分支，仓库的默认分支改为保存源码的source分支，这样通过<code>git clone</code>拉取的就是source分支代码了。</p>
</li>
<li>
<p>根据自己喜好配置 Hexo</p>
<p>这里可以自行搜索，也可以参考《Hexo 相关记录》一文</p>
</li>
<li>
<p>仓库源码大致目录结构如下</p>
  <figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">.</span></span><br><span class="line"><span class="string">├──</span> <span class="string">README.md</span></span><br><span class="line"><span class="string">├──</span> <span class="string">_config.landscape.yml</span></span><br><span class="line"><span class="string">├──</span> <span class="string">_config.next.yml</span></span><br><span class="line"><span class="string">├──</span> <span class="string">_config.yml</span></span><br><span class="line"><span class="string">├──</span> <span class="string">db.json</span></span><br><span class="line"><span class="string">├──</span> <span class="string">elog.cache.json</span></span><br><span class="line"><span class="string">├──</span> <span class="string">elog.config.js</span></span><br><span class="line"><span class="string">├──</span> <span class="string">hexo.sh</span></span><br><span class="line"><span class="string">├──</span> <span class="string">node_modules</span></span><br><span class="line"><span class="string">├──</span> <span class="string">package-lock.json</span></span><br><span class="line"><span class="string">├──</span> <span class="string">package.json</span></span><br><span class="line"><span class="string">├──</span> <span class="string">public</span></span><br><span class="line"><span class="string">├──</span> <span class="string">scaffolds</span></span><br><span class="line"><span class="string">├──</span> <span class="string">source</span></span><br><span class="line"><span class="string">├──</span> <span class="string">themes</span></span><br><span class="line"><span class="string">└──</span> <span class="string">time.txt</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="cicd"><a class="markdownIt-Anchor" href="#cicd"></a> CI/CD</h1>
<blockquote>
<p>本项目持续集成的路径为：notion ⇒ slack ⇒ pipedream ⇒ elog + github action</p>
</blockquote>
<h2 id="slack"><a class="markdownIt-Anchor" href="#slack"></a> Slack</h2>
<ol>
<li>注册 <a href="%5Bhttps://slack.com/%5D(https://slack.com/)">Slack</a></li>
</ol>
<p>注册完成后创建工作区</p>
<pre><code>![image.png](../images/39b5b6f7aff90d3a40276068bc36f00e.png)
</code></pre>
<ol>
<li>
<p>创建频道（channel）</p>
<p><img src="../images/a4f3f89e1b452b4fbea77694e2b16f4a.png" alt="image.png" /></p>
</li>
<li>
<p>添加应用 Notion</p>
<p><img src="../images/6f87e4e694d8503977ee727ea0e218df.png" alt="image.png" /></p>
</li>
<li>
<p>全部创建完成后如图</p>
<p><img src="../images/8a8b173ff36627dd043c73e58ac6595b.png" alt="image.png" /></p>
</li>
</ol>
<h2 id="notion-2"><a class="markdownIt-Anchor" href="#notion-2"></a> Notion</h2>
<ol>
<li>
<p>创建 automation，设置触发器</p>
<p>在数据库页面点击闪电按钮，可以创建 <code>automation</code> ，增加触发器以及执行器</p>
<p><img src="../images/59b7ae74bc93604dd2cd965ff8239753.png" alt="image.png" /></p>
<p>根据自己喜好设置触发器，设置完成后如下</p>
<p><img src="../images/a09959b6d8f342693a06ee57658afcf6.png" alt="image.png" /></p>
</li>
</ol>
<h2 id="pipedream"><a class="markdownIt-Anchor" href="#pipedream"></a> Pipedream</h2>
<ol>
<li>
<p>注册</p>
</li>
<li>
<p>创建 Project</p>
<p><img src="../images/5802157622609c6c80ad2244909257c1.png" alt="image.png" /></p>
</li>
<li>
<p>创建 workflow</p>
<p>在 project 下创建workflow</p>
<p><img src="../images/b77409d352c2cd6111fc1210c95af271.png" alt="image.png" /></p>
</li>
<li>
<p>设置 workflow</p>
</li>
</ol>
<p>设置 workflow，触发器选择 Slack，选择<code>New Message In Channels</code> ，按照如下设置</p>
<pre><code>![image.png](../images/51ef693bc2dab2a08feb5d373debb903.png)
</code></pre>
<p>Slack 的相关配置示例如下</p>
<pre><code>![image.png](../images/69e9cb0f6c83874a2091e07a199b5f5b.png)
</code></pre>
<ol>
<li>
<p>增加 Python step</p>
<p>增加一个 Python Step，代码如下所示</p>
<p><img src="../images/28846230c321742e37208feb17a242f6.png" alt="image.png" /></p>
 <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">handler</span>(<span class="params">pd: <span class="string">&quot;pidedream&quot;</span></span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line"></span><br><span class="line">        token = os.environ[<span class="string">&#x27;GITHUB_TOKEN&#x27;</span>]</span><br><span class="line">        user = <span class="string">&quot;github_username&quot;</span></span><br><span class="line">        repo = <span class="string">&quot;github_repo&quot;</span></span><br><span class="line">        event_type = <span class="string">&quot;deploy&quot;</span></span><br><span class="line">        headers = &#123;</span><br><span class="line">            <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;@elog/serverless-api&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Accept&quot;</span>: <span class="string">&#x27;*/*&#x27;</span>,</span><br><span class="line">            <span class="string">&quot;Authorization&quot;</span>: <span class="string">f&quot;token <span class="subst">&#123;token&#125;</span>&quot;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        response = requests.post(</span><br><span class="line">            <span class="string">f&quot;https://api.github.com/repos/<span class="subst">&#123;user&#125;</span>/<span class="subst">&#123;repo&#125;</span>/dispatches&quot;</span>,</span><br><span class="line">            headers=headers,</span><br><span class="line">            data=json.dumps(&#123;<span class="string">&quot;event_type&quot;</span>: event_type&#125;)</span><br><span class="line">        )</span><br><span class="line">        <span class="comment"># response.raise_for_status()</span></span><br><span class="line">        <span class="built_in">print</span>(response.text, response.json())</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;message&quot;</span>: response.json() <span class="keyword">or</span> <span class="string">&#x27;Success!&#x27;</span>&#125;</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>设置完成后如图所示</p>
<p><img src="../images/e6b5dc60ca2aafd8b83df5ccfeff4a38.png" alt="image.png" /></p>
</li>
<li>
<p>配置环境变量，用于 code 中使用，在环境中通过 <code>os.environ['your_token']</code>来使用</p>
<p><img src="../images/c71d6f68e237f4b427b9e601bad2b87e.png" alt="image.png" /></p>
</li>
</ol>
<h2 id="elog-github-action"><a class="markdownIt-Anchor" href="#elog-github-action"></a> Elog + Github Action</h2>
<ol>
<li>
<p>在博客文件夹根目录配置 Elog</p>
<p>参考<a href="%5Bhttps://elog.1874.cool/notion/start%5D(https://elog.1874.cool/notion/start)">官方文档</a>进行操作，其余相关配置以官方文档为准。</p>
</li>
<li>
<p>项目添加 workflow 配置</p>
<p>在项目文件夹根目录增加 github actions 相关配置文件<code>.github/workflows/</code><strong><code>main.yaml</code></strong></p>
 <figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">To</span> <span class="string">Github</span> <span class="string">Pages</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="comment"># 允许手动push触发</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">    <span class="comment"># 存放源码的分支</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line">  <span class="comment"># 允许外部仓库事件触发</span></span><br><span class="line">  <span class="attr">repository_dispatch:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">  <span class="comment"># api中的event_type就是这个</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">deploy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">检查分支</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@master</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装node环境</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@master</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&quot;16.x&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装依赖</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          export TZ=&#x27;Asia/Shanghai&#x27;</span></span><br><span class="line"><span class="string">          npm install --prod</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">拉取语雀/Notion的文章</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="comment"># 语雀相关环境变量</span></span><br><span class="line">          <span class="attr">YUQUE_TOKEN:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.YUQUE_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">YUQUE_LOGIN:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.YUQUE_LOGIN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">YUQUE_REPO:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.YUQUE_REPO</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="comment"># Notion相关环境变量</span></span><br><span class="line">          <span class="attr">NOTION_TOKEN:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.NOTION_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">NOTION_DATABASE_ID:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.NOTION_DATABASE_ID</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="comment"># 图床相关环境变量，以腾讯云COS为例</span></span><br><span class="line">          <span class="attr">COS_SECRET_ID:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.COS_SECRET_ID</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">COS_SECRET_KEY:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.COS_SECRET_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">COS_IMAGE_BUCKET:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.COS_IMAGE_BUCKET</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">COS_IMAGE_REGION:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.COS_IMAGE_REGION</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          # 对应package.json中的script.sync</span></span><br><span class="line"><span class="string">          npm run sync</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">配置Git用户名邮箱</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          git config --global user.name &quot;xxx&quot;</span></span><br><span class="line"><span class="string">          git config --global user.email &quot;xxx@xx.com&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">提交yuque拉取的文章到GitHub仓库</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          echo `date +&quot;%Y-%m-%d %H:%M:%S&quot;` begin &gt; time.txt</span></span><br><span class="line"><span class="string">          git add .</span></span><br><span class="line"><span class="string">          git commit -m &quot;更新文档&quot; -a</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">推送文章到仓库</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">ad-m/github-push-action@master</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">github_token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITHUB_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">生成静态文件</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          # 对应package.json中的script.build</span></span><br><span class="line"><span class="string">          npm run build</span></span><br><span class="line"><span class="string"></span>          </span><br><span class="line">      </span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">部署到Github</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">peaceiris/actions-gh-pages@v4</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">	        <span class="comment"># 这里使用 github token</span></span><br><span class="line">          <span class="attr">personal_token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITHUB_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="comment"># hexo 设置为这个路径</span></span><br><span class="line">          <span class="attr">publish_dir:</span> <span class="string">./public</span></span><br><span class="line">          <span class="attr">external_repository:</span> <span class="string">JiaHaoFang/JiaHaoFang.github.io</span></span><br><span class="line">          <span class="comment"># 存放 github page 静态文件的分支</span></span><br><span class="line">          <span class="attr">publish_branch:</span> <span class="string">master</span></span><br><span class="line">          <span class="attr">commit_message:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.head_commit.message</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>添加环境变量</p>
<p>根据 Elog 文档获取对应的环境变量，添加到 github 仓库设置</p>
<p><img src="../images/e5c43682a02030bda9bbf86b9f2f1360.png" alt="image.png" /></p>
</li>
<li>
<p>配置Actions 执行权限</p>
<p>在仓库的 Settings-Actions-Genaral-Workflow permissions 中配置执行权限</p>
<p><img src="../images/3cbfc8ba00c1137d28e401d6f77590b6.png" alt="image.png" /></p>
</li>
<li>
<p>Github Page 设置</p>
<p>设置 Github Page 的部署分支（区分与源代码分支），这里本人使用 master 部署静态页面，使用 source 分支存放源码</p>
<p><img src="../images/c79c2a64e8754ddeef1a90f574ed7dd6.png" alt="image.png" /></p>
</li>
</ol>
<h2 id="执行效果"><a class="markdownIt-Anchor" href="#执行效果"></a> 执行效果</h2>
<ul>
<li>
<p>Slack</p>
<p><img src="../images/e3ab807c4efc51d6e852c495e0985f98.png" alt="image.png" /></p>
</li>
<li>
<p>pipedream</p>
</li>
</ul>
<p><img src="../images/9c168243848442a2eeb1bcbac9b18212.png" alt="image.png" /></p>
<ul>
<li>
<p>Github Actions</p>
<p><img src="../images/84837c7b86fe27b83755de83784d1a5d.png" alt="image.png" /></p>
<p><img src="../images/c5a6191c9835210b1a20d1b9592961f1.png" alt="image.png" /></p>
</li>
</ul>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>elog</tag>
        <tag>notion</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS 代码发布为组件</title>
    <url>//ios-send2cocoapods/</url>
    <content><![CDATA[<h1 id="前期准备"><a class="markdownIt-Anchor" href="#前期准备"></a> 前期准备</h1>
<h2 id="远程仓库"><a class="markdownIt-Anchor" href="#远程仓库"></a> 远程仓库</h2>
<blockquote>
<p>准备好两个远程仓库，在GitHub上创建即可；</p>
<p>权限建议为public</p>
</blockquote>
<ul>
<li>
<p>用来存放源码的仓库，该仓库用来存放自己编写的组件的源码，其应为正确的目录结构，如何模板创建下文详细说；</p>
  <figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;https://github.com/JiaHaoFang/SFAPPRealTimeLogCaughter.git&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>用来存放组件的仓库，相当于xxxRepo、CocoaPods/Spec，是自己私有的组件仓库，用来存放.podspec文件；</p>
  <figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;https://github.com/JiaHaoFang/SFPodRepo.git&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>注：该仓库非必要，可以使用官方仓库，此处为了熟悉流程使用自己创建的仓库</li>
</ul>
</li>
</ul>
<h2 id="本地代码"><a class="markdownIt-Anchor" href="#本地代码"></a> 本地代码</h2>
<blockquote>
<p>由于该组件为一个完整工程作为组件发布，需要抽离</p>
</blockquote>
<ul>
<li>保证需要发布为组件的工程，其核心功能完整，去耦，能够实现核心功能的抽离</li>
<li>保证编译可通过，同时核心功能具备可移植性</li>
</ul>
<h1 id="本地目录创建"><a class="markdownIt-Anchor" href="#本地目录创建"></a> 本地目录创建</h1>
<h2 id="创建私有repo目录"><a class="markdownIt-Anchor" href="#创建私有repo目录"></a> 创建私有Repo目录</h2>
<ul>
<li>
<p>在～/.cocoapods/repo中能看到本地有的repo仓库，其中cocoapods为官方仓库，trunk也是官方仓库（历史遗留问题）；xxxRepo为公司私有仓库。</p>
</li>
<li>
<p>该步骤将创建私人仓库SFRepo，作用类似上文的官方仓库，后续将用来存放个人的组件。</p>
</li>
<li>
<p>或者也可以选择发布到官方仓库。</p>
</li>
<li>
<p>命令</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pod repo add SFPod &lt;https://github.com/JiaHaoFang/SFPodRepo.git&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>创建完成之后可通过命令查看目录结构</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">open ~/.cocoapods/repos/SFPod</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="创建个人组件目录"><a class="markdownIt-Anchor" href="#创建个人组件目录"></a> 创建个人组件目录</h2>
<ul>
<li>
<p>发布的组件需要按照Cocoapod严格遵守官方给出的目录结构，官方给出了命令可以直接生成模版</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pod lib create SFAPPRealTimeLogCaughter</span><br></pre></td></tr></table></figure>
<ul>
<li>过程中终端会向我们提出一系列问题，包括开发语言是OC还是Swift，demo程序，测试框架，界面测试。我选择了包含demo程序，没有测试框架.</li>
</ul>
</li>
<li>
<p>生成模版后可以使用tree命令查看该文件夹下的目录结构</p>
</li>
</ul>
<h2 id="编辑模版"><a class="markdownIt-Anchor" href="#编辑模版"></a> 编辑模版</h2>
<blockquote>
<p>在2.2创建的公共模版就是组件的模板，我们需要将我们的代码添加进去将其作为自己的组件</p>
</blockquote>
<ul>
<li>我们需要发布的组件核心功能代码存放在/SFPod/Pod/Classes文件夹中</li>
<li>另外在Example中编写Demo测试自己的组件是否能正常工作，点击.xcworkspace可以作为一个完整工程运行</li>
<li>在写Example的时候，如果修改了Classes中文件的，需要pod install一下，将组件在自己的Demo中更新一下</li>
</ul>
<h2 id="编辑podspec文件"><a class="markdownIt-Anchor" href="#编辑podspec文件"></a> 编辑.podspec文件</h2>
<ul>
<li>自行Google</li>
</ul>
<h1 id="发布组件"><a class="markdownIt-Anchor" href="#发布组件"></a> 发布组件</h1>
<blockquote>
<p>如果上面的步骤完成了，恭喜，完成了一半</p>
</blockquote>
<h2 id="校验"><a class="markdownIt-Anchor" href="#校验"></a> 校验</h2>
<ul>
<li>
<p>当2中的步骤全部完成，我们可以使用下面的命令检验自己组件代码的合法性（主要是检验.podspec文件）</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pod lib lint</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">只从本地验证你的pod能否通过验证。</span></span><br><span class="line">pod spec lint</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从本地和远程验证你的pod能否通过验证，建议使用这个</span></span><br><span class="line">--allow-warnings</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如何库代码中有警告导致通不过验证。加上这个忽略警告</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="提交源码"><a class="markdownIt-Anchor" href="#提交源码"></a> 提交源码</h2>
<ul>
<li>
<p>提交源码到个人仓库</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git add -a</span><br><span class="line">git commit -m &quot;xxx&quot;</span><br><span class="line">git push</span><br><span class="line">git tag 0.1.0</span><br><span class="line">git push --tags</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="发布组件到个人repo"><a class="markdownIt-Anchor" href="#发布组件到个人repo"></a> 发布组件到个人Repo</h2>
<ul>
<li>
<p>使用命令将.podspec文件添加到~/.cocoapods/repos/SFPod中，同时也发布到远程仓库</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pod repo push SFPod SFAPPRealTimeLogCaughter.podspec</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>执行完该步骤后， ~/.cocoapods/repos/SFPod会新增对应版本的.podspec文件</p>
</li>
</ul>
<h2 id="查询"><a class="markdownIt-Anchor" href="#查询"></a> 查询</h2>
<ul>
<li>
<p>搜索组件库</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pod search SFAPPRealTimeLogCaughter</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>搜索到了说明安装成功</p>
</li>
</ul>
<h1 id="使用组件"><a class="markdownIt-Anchor" href="#使用组件"></a> 使用组件</h1>
<ul>
<li>
<p>在Podfile文件新增源</p>
  <figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">source <span class="string">&#x27;&lt;https://github.com/JiaHaoFang/SFPodRepo.git&gt;&#x27;</span></span><br><span class="line">source <span class="string">&#x27;&lt;https://github.com/CocoaPods/Specs.git&gt;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>添加pod</p>
  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pod &#x27;SFAPPRealTimeLogCaughter&#x27;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>上面两项可以合起来写，合不起来。。。</p>
</li>
<li>
<p>执行 pod install</p>
</li>
<li>
<p>运行代码</p>
</li>
</ul>
<blockquote>
<p>参考资料：<a href="https://www.jianshu.com/p/103a6f0bf3a4">https://www.jianshu.com/p/103a6f0bf3a4</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Programming</category>
      </categories>
      <tags>
        <tag>iOS</tag>
        <tag>Cocoapods</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS 暗黑模式适配</title>
    <url>//ios-darkmode-practice/</url>
    <content><![CDATA[<blockquote>
<p>本文已发表在微信公众号，<a href="https://mp.weixin.qq.com/s/GolsykOfKmhaloVTjoZk3g">《当我们在谈论DarkMode时我们在谈论什么》</a></p>
</blockquote>
<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1>
<p>2024年6月，Apple 在 WWDC2024 发布了iOS18。新版本的 iOS 系统中包含了一项褒贬不一的新特性：把深色模式扩展到了主屏幕的图标，这让已经融入我们生活中的深色模式功能多多少少又秀了一把存在感。</p>
<p>距离 iOS13 深色模式功能上线已经过去五年了，市面上常见的手机应用绝大部分也适配了深色模式，笔者个人更是对这一功能情有独钟，将其视为 App 中并非最重要，但不可或缺的功能之一。同时作为一个 iOS 开发者，笔者也十分清楚对于一个功能完整，已经运营了一段时间的 App 要适配这一功能需要付出怎么样的努力，这篇文章不只是对深色模式适配的介绍，也是对 VeSync App 完整适配过程的分享。</p>
<h1 id="原理"><a class="markdownIt-Anchor" href="#原理"></a> 原理</h1>
<p>在进行适配之前，肯定要先了解Apple 给出的相关API。本篇文章的重点其实并不是介绍这些<a href="https://developer.apple.com/documentation/uikit/appearance_customization/supporting_dark_mode_in_your_interface">官网</a>白纸黑字写清楚的东西，但是出于文章完整性的考虑，这部分内容还是必不可少的。</p>
<p>注意：下文介绍的内容均默认 App 的最低支持版本为 iOS13，省略了版本判断的相关代码。</p>
<h2 id="api"><a class="markdownIt-Anchor" href="#api"></a> API</h2>
<ul>
<li>UIView 的 overrideUserInterfaceStyle 属性</li>
</ul>
<p>获取当前window之后，修改window的overrideUserInterfaceStyle属性，页面的颜色/图标会根据设置的模式同步更新，不需要手动操作。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">guard</span> <span class="keyword">let</span> windowScene <span class="operator">=</span> <span class="type">UIApplication</span>.shared.connectedScenes.first <span class="keyword">as?</span> <span class="type">UIWindowScene</span>, <span class="keyword">let</span> window <span class="operator">=</span> windowScene.windows.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line"><span class="comment">// 设置为Light模式</span></span><br><span class="line">window.overrideUserInterfaceStyle <span class="operator">=</span> .light</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">UIUserInterfaceStyle</span> : <span class="title class_">Int</span> &#123;</span><br><span class="line">    <span class="comment">// 未指明的</span></span><br><span class="line">    <span class="keyword">case</span> unspecified</span><br><span class="line">    <span class="comment">// 浅色模式</span></span><br><span class="line">    <span class="keyword">case</span> light</span><br><span class="line">    <span class="comment">// 深色模式</span></span><br><span class="line">    <span class="keyword">case</span> dark</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>获取当前深色模式状态</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// 在 UIView 中</span></span><br><span class="line"><span class="keyword">let</span> mode <span class="operator">=</span> <span class="keyword">self</span>.traitCollection.userInterfaceStyle</span><br><span class="line"><span class="comment">/// 不在 UIView 中</span></span><br><span class="line"><span class="keyword">let</span> mode <span class="operator">=</span> <span class="type">UITraitCollection</span>.current.userInterfaceStyle</span><br></pre></td></tr></table></figure>
<ul>
<li>监听深色模式切换</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">traitCollectionDidChange</span>(<span class="keyword">_</span> <span class="params">previousTraitCollection</span>: <span class="type">UITraitCollection</span>?) &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="type">UITraitCollection</span>.current.userInterfaceStyle <span class="operator">==</span> .dark &#123;</span><br><span class="line">        <span class="comment">// Do something</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Do something else</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>某个页面单独设置不支持深色模式</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">ViewController</span> &#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">viewWillAppear</span>(<span class="keyword">_</span> <span class="params">animated</span>: <span class="type">Bool</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewWillAppear(animated)</span><br><span class="line">        <span class="keyword">self</span>.overrideUserInterfaceStyle <span class="operator">=</span> .light</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="颜色资源支持"><a class="markdownIt-Anchor" href="#颜色资源支持"></a> 颜色资源支持</h2>
<p>系统提供了一种创建自定义颜色的方法</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 创建自定义颜色的方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">init</span>(<span class="params">dynamicProvider</span>: <span class="keyword">@escaping</span> (<span class="type">UITraitCollection</span>) -&gt; <span class="type">UIColor</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过当前traitCollection得到对应UIColor</span></span><br><span class="line"><span class="keyword">open</span> <span class="keyword">func</span> <span class="title function_">resolvedColor</span>(<span class="params">with</span> <span class="params">traitCollection</span>: <span class="type">UITraitCollection</span>) -&gt; <span class="type">UIColor</span></span><br></pre></td></tr></table></figure>
<p>或者在assets 中直接添加颜色资源，如下图</p>
<p><img src="../images/ebde22c5e12faedd53e48809f263135e.png" alt="image.png" /></p>
<ol>
<li>修改 Appearance 为 Any,Dark；</li>
<li>点击选中浅色/深色模式下的颜色；</li>
<li>编辑色值</li>
</ol>
<h2 id="图片资源支持"><a class="markdownIt-Anchor" href="#图片资源支持"></a> 图片资源支持</h2>
<p><img src="../images/f7d32e77d60402793b9bb235245af3f1.png" alt="image.png" /></p>
<ol>
<li>修改 Appearance 为 Any,Dark；</li>
<li>把深色模式的资源拖到对应位置；</li>
</ol>
<h2 id="其他需要注意的地方"><a class="markdownIt-Anchor" href="#其他需要注意的地方"></a> 其他需要注意的地方</h2>
<ol>
<li>CGColor 不支持动态更新颜色，原因是 CoreGraphic 是比 UIKit 更底层的库，动态更新颜色是 UIKit 支持的功能，cgColor 只会使用一开始设置的颜色色值（<code>xxx.cgColor = UIColor.systemBackground.cgColor</code>），并不会跟着系统的外观切换而动态更新色值。</li>
<li>在iOS系统切换模式之后，会调用<code>layoutSubviews</code>方法，也可以在这个方法里做UI更新</li>
<li>使用 UIGraphics 绘制的图片，可以分别绘制亮色和暗色的图片，再通过<code>UIImage.imageAsset</code>注册，让其能够自动切换外观</li>
</ol>
<h1 id="中场休息"><a class="markdownIt-Anchor" href="#中场休息"></a> 中场休息</h1>
<p>以上是深色模式相关的所有内容，你已经学会了，现在来试试看吧！</p>
<p><img src="../images/9041ddd09b96dc19b2e8a7d583488825.jpg" alt="%E7%BC%96%E7%A8%8B%E6%95%B0%E5%AD%A6%E4%B9%A6.jpg" /></p>
<p>开个玩笑～</p>
<p>从上面的官方接口说明中看出，深色模式的适配分为图片资源和颜色资源两个板块，如果你的 App 从一开始就使用官方的资源管理方案进行图片和颜色资源的管理，那恭喜你，你们的适配将会非常轻松，你们只需要导出图片和颜色的资源，让设计师在原有资源名字下提供深色模式的图片和颜色，比如XXX_dark，这样我们就可以通过脚本将图片和颜色资源导入资源管理库，即可完成深色模式适配的绝大部分工作。</p>
<p>实际上，理论与实践总是存在着巨大差异，接下来让我们一起看看 VeSync 在深色模式适配的实践中到底是怎么做的。</p>
<h1 id="图片资源处理"><a class="markdownIt-Anchor" href="#图片资源处理"></a> 图片资源处理</h1>
<p>VeSync App的图片资源，绝大多数都是使用的系统资源管理库进行管理，所以我们使用标准的处理方案进行处理即可。</p>
<h2 id="方案"><a class="markdownIt-Anchor" href="#方案"></a> 方案</h2>
<p>上文已经提过，只要在 assets 中管理的图片资源添加对应的深色模式的图片，系统就会在外观切换的时候自动切换图片的样式。按照VeSync 的图片资源命名规范，一张图片的深色样式是在原有图片名加上”_dark”或者”Dark”后缀，这取决于图片原本的命名方式是下划线还是驼峰，最终效果如：</p>
<p><img src="../images/8784a15dc04333a200710ab3c27f46d7.png" alt="image.png" /></p>
<p><img src="../images/146e5d2cbe84855cce342de2b99d021d.png" alt="image.png" /></p>
<p>但是上面只是理想情况，实际上我们还遇到了下面的问题：</p>
<ol>
<li>由于新的 UI 图片采用了统一的命名规范，导致旧版图片无法直接通过文件名匹配批量处理；</li>
<li>UI 设计师会要求在新增深色样式图片的同时，更新浅色样式的图片；</li>
<li>早期项目中相同图片被反复添加，形成了冗余资源，这些重复图片需要去重处理。</li>
</ol>
<p>以上这些问题我们都使用了脚本进行辅助处理。</p>
<h2 id="实施"><a class="markdownIt-Anchor" href="#实施"></a> 实施</h2>
<p>辅助脚本的整个流程基于图片相似度计算、脚本自动化处理与人工补充相结合。每一步的中间结果（如未匹配图片、重复图片等）都会生成 Excel 文件，以便人工确认和后续处理。</p>
<p>因为 App 的图片资源已经抽离在系统文件资源库中，对图片资源的更新不会影响到业务代码，所以这一部分工作由专人负责，负责整个 App 的所有图片的补充、替换、去重工作。工作流的大致流程图下图所示：</p>
<p>我帮您检查了全文，发现以下需要注意的地方：</p>
<pre class="mermaid">graph TB
A[自动匹配与配置更新] ---> B[人工补充未匹配图片]
B ---> C[扫描查找重复图片]
C ---> D[删除重复图片并更新项目引用]</pre>
<ol>
<li>
<p>图片相似度匹配</p>
<p>使用脚本计算浅色模式图片的相似度，找到与暗色模式图片匹配的目标路径。将匹配成功的暗黑模式图片复制到目标文件夹，同时修改目标文件夹中的 Contents.json，为每张图片添加暗色模式配置。</p>
<p>这一步完成之后，大部分浅色模式图片能够匹配到对应的暗黑模式图片并完成更新。（因尺寸、色彩空间、内容轻微差异等问题）未匹配到的图片会被记录到一个 Excel 文件中，供后续人工处理。</p>
<p>注：这一步使用 OpenCV 提供的模板匹配（Template Matching）方法进行图像相似度计算以建立新旧图片之间的关系。</p>
</li>
<li>
<p>人工补充未匹配图片目标，补充第一步中未能自动匹配的图片。</p>
<p>在第一步生成的 Excel 表格人工填写未匹配图片对应的暗黑模式图片路径，将补充完成的表格作为输入，使用脚本批量将这些图片添加到目标路径，并更新 Contents.json，为所有浅色模式图片都具备对应的暗黑模式版本。</p>
</li>
<li>
<p>扫描查找重复图片，清理项目中存在的重复图片。</p>
<p>使用脚本扫描项目文件，定位所有重复的暗黑模式图片。将重复的图片记录到一个 Excel 文件中，供后续人工校对。</p>
</li>
<li>
<p>删除重复图片并更新项目中引用的图片名称。</p>
<p>人工校对第三步生成的重复图片 Excel 表格，确认需要删除的图片。此后遍历项目中所有代码源文件，查找并替换引用的旧图片路径为新图片的路径。</p>
</li>
</ol>
<h2 id="其他图片资源"><a class="markdownIt-Anchor" href="#其他图片资源"></a> 其他图片资源</h2>
<p>除了 assets 中的图片资源，我们还有两种资源：</p>
<ol>
<li>本地图片资源：一些使用不规范的图片资源没有使用 assets 管理，而是直接把资源添加到工程文件夹目录，导致了这些资源无法根据系统外观自动切换。一种处理方案是在资源使用处手动添加两个版本的图片资源使其自动切换（<code>UIImage.imageAsset</code>的方式），更优的方案是将这些资源迁移到 assets 中统一管理。</li>
<li>网络图片资源：对于 url 资源，我们无法做到动态切换。这常见于一些用户自定义的图片、头像等，也有一些配置化的资源需要存在云端，在使用的时候才会拉取下来进行展示。对于这种情况，在我们与设计团队进行沟通之后，决定对于这些资源进行统一化处理，即在深色模式和浅色模式下都用同一张图片资源，这样就免去了动态切换的麻烦。在进行统一化处理的时候，需要注意图片的背景颜色、图片透明度的问题，同时如果需要在不同外观下具有不同的背景色，则背景色应该交由 App 进行绘制，再将图片叠加其上。</li>
</ol>
<p>此外，除了单纯的图片资源，我们还有动画资源。</p>
<ol>
<li>JSON 动画资源：目前我们团队采用的动画方案是 Lottie + JSON，显而易见地，这种方案并不支持在系统层面上根据外观自动切换。我们采用的方案是手动监听系统的外观模式切换，根据系统的外观更新对应的 JSON 以达成动画的深色模式或浅色模式更新。在处理一些与当前状态相关的动画效果的时候，需要注意动画切换时的流畅性。</li>
<li>GIF 动画资源：在一些老旧的业务代码中还存留着 GIF 动画资源。与 JSON 动画类似，我们需要监听系统的外观切换，手动更新动画。</li>
</ol>
<h1 id="颜色资源处理"><a class="markdownIt-Anchor" href="#颜色资源处理"></a> 颜色资源处理</h1>
<p>根据官方指南，相较于以前的硬编码颜色色值的使用方式，支持深色模式的资源更适合使用语义化的名称，根据颜色的使用场景为其命名，配置好的颜色资源会自动适应当前的 App 外观。</p>
<p>在支持深色模式的场景下，颜色应该使用“颜色的场景名称”而不是“颜色的色值”。在这种定义推动下，我们“只需要”工程里用到的所有的颜色色值替换成语义化颜色名即可。</p>
<p>对于一个持续运营迭代了好几年的 App，这样子的颜色色值替换可不是简单的工作。在一个体量并不小的工程中，找出所有的颜色色值并替换会遇到下面这些问题：</p>
<ol>
<li>Swift/OC创建颜色的方法有很多种，对于这些五花八门的颜色使用方式，我们要怎么找到它们然后再一一替换成需要的资源？</li>
<li>对于海量的颜色色值，我们势必采用批量处理的方式进行替换，如果仅使用 IDE 的 Find-Replace 方式进行替换效率太低，要如何提升效率并保证准确率？</li>
<li>对于各种各样的业务及所用到的颜色色值，要怎么定义它们的一一对应关系？换句话说，原本的么处理？</li>
<li>对于 VeSync 来说，业务形态决定了某一些板块会相对独立，在开发者对某一模块并不熟悉的情况下要怎么进行这一部分的适配工作？</li>
</ol>
<p>显然，量变产生质变，要人工逐个替换已经是不可能完成的工作了，通过<code>脚本</code>进行颜色替换就是自然而然选择了。以下就介绍一下颜色处理的方案和实践流程。</p>
<h3 id="方案-2"><a class="markdownIt-Anchor" href="#方案-2"></a> 方案</h3>
<p>在脚本替换之前，我们需要先建立我们的颜色资源库。</p>
<p>根据官方指南， 我们需要一个语义化的颜色资源库。这一部分工作由设计部门完成，他们需要为 App 内所用到的所有颜色色值增加对应深色模式的颜色色值，并为其命名，形成一套完整的语义化颜色资源。</p>
<p>在拿到语义化的颜色资源后，我们要将这些颜色资源导入到工程中。由于涉及到跨部门、跨工具的合作（Zeplin/Figma、Xcode/VSCode），这一部分并没办法用脚本处理，只能人工一个个颜色搬运到工程的 .xcassets 文件中。在辛苦搬运完成后，我们就可以使用脚本读取这些资源并使用它们了。</p>
<p>至此我们有了语义化的颜色资料库，那么接下来就是识别工程中的存量的硬编码的颜色代码，并进行替换了。虽然先前的问题中提到了硬编码色值的方式多种多样，但事实上这些编码方式总是可以穷举的。既然可以穷举，那我们就可以编写脚本进行批量处理。我们采用的方式是通过遍历源文件，以正则匹配的方式获取到硬编码色值的代码段及其对应的色值。</p>
<p>当有了颜色资料库、有了工程所用到的颜色，下一步要做的事情已经显而易见了。我们对比两者，将原本的硬编码色值的相关代码替换为语义化的颜色名代码。此外，为了处理一些“边界情况”，我们需要使用 Excel 表格记录下我们的替换结果，让开发人员能够有所凭依地进行开发和检查。</p>
<p>到这里为止，我们使用脚本适配深色模式的流程就已经基本构思完成，如下流程图所示：</p>
<pre class="mermaid">graph TB
A(人工导入语义化颜色资源) ---> B[脚本读取.xcassets中的颜色资源]
B -- 输出 --> C1(颜色代码)
B ---> D{使用色值进行比对}
D --色值不同--> D1(输出 error.xml)
E(穷举颜色编码方式) ---> F[识别、解析存量的硬编码颜色]
F ---> D
D --色值相同--> G[替换硬编码颜色为语义化颜色]
G -- 输出 --> H[工程源码替换]
G -- 输出 --> H1(记录success.xml)
H ---> I(替换完成，结束)</pre>
<h3 id="实施-2"><a class="markdownIt-Anchor" href="#实施-2"></a> 实施</h3>
<p>接下来我们简单介绍一下具体的实践方式。</p>
<p>iOS 使用 .xcassets 的方式储存颜色资源，配置好的颜色资源如下图所示：</p>
<p><img src="../images/4f2f3449d38be5692bf965de75e11c9e.png" alt="%E9%A2%9C%E8%89%B2%E8%B5%84%E6%BA%90%E5%BA%93.png" /></p>
<p>这一个个颜色资源本质上是<code>Contents.json</code>文件：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;colors&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;color&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;color-space&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;srgb&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;components&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;alpha&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;1.000&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;blue&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;0x89&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;green&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;0x66&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;red&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;0x00&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;universal&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;appearances&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;appearance&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;luminosity&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;value&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;dark&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;color&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;color-space&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;srgb&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;components&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;alpha&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;1.000&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;blue&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;0x77&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;green&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;0x59&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;red&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;0x02&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;idiom&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;universal&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;info&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;author&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;xcode&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span> <span class="punctuation">:</span> <span class="number">1</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>通过解析 json 中的<code>components</code>我们可以得到颜色名和色值的对应关系。需要注意的是，<code>components</code>中的色值可能存在不同的写法，这与xcassets文件中颜色的 <code>Input Method</code>有关。</p>
<p>在读取完语义化颜色后，我们会把这些资源输出为一个单独的模块。在这一步我们使用了一些模板代码，将解析到的语义化颜色名及其色值按照 swift 规范整理成我们需要的方法及其注释，如下所示，以便在业务代码中引用。</p>
<p>这些颜色读取的脚本和模板代码应该单独抽离出来或生成一个可执行文件，为后续项目的开发新增颜色创造便利条件。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@objc</span> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VSColor</span>: <span class="title class_">NSObject</span> &#123;&#125;</span><br><span class="line"><span class="comment">/// 语义化颜色</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">extension</span> <span class="title class_">VSColor</span> &#123;</span><br><span class="line">    <span class="comment">// MARK: - Auxiliary</span></span><br><span class="line">    <span class="comment">/// Light - 006689, 1.00</span></span><br><span class="line">    <span class="comment">/// Dark - 025977, 1.00</span></span><br><span class="line">    <span class="keyword">@objc</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">auxiliary_blue</span>() -&gt; <span class="type">UIColor</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> color(named: <span class="string">&quot;auxiliary_blue&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/// Light - 64EDC2, 1.00</span></span><br><span class="line">    <span class="comment">/// Dark - 57CBA7, 1.00</span></span><br><span class="line">    <span class="keyword">@objc</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">auxiliary_brilliant_green</span>() -&gt; <span class="type">UIColor</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> color(named: <span class="string">&quot;auxiliary_brilliant_green&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>类似地，我们采用脚本读取工程中存量的硬编码颜色。对于各种各样的颜色编码方式，我们只能采用”比较笨”的穷举的方式，找到工程中使用的编码方式，采用字符串分割或者是正则匹配的方式提取到这一段代码块并解析色值，具体问题具体分析。这一步其实就是“玩转字符串”，相信大家一定很熟悉，笔者就不在这里献丑了。</p>
<p>事实上这一步需要处理的细节会想象中的更多，比如处理 swift、OC 的语法区别（没错，还有 OC 代码）；比如 RGBA 和 HEX 的写法需要区分和解析；比如处理浅色模式的同一个色值在深色模式下可能会有不同的色值，即同一个硬编码色值在不同的业务板块需要替换成不同的语义化颜色。</p>
<p>此外，我们除了需要记录提取到的代码块的源码、解析到的rgba值之外，还需要额外记录代码的文件位置和行数等有用信息，以便后续进行字符串替换。</p>
<p>放一个图让大家看看“穷举”到底有多少</p>
<p><img src="../images/45538b7ee06e8a22f6afe2d2902d7368.png" alt="%E9%A2%9C%E8%89%B2%E7%A9%B7%E4%B8%BE.png" /></p>
<p>接下来要做的事情就比较简单了，遍历两个数组（硬编码颜色、语义化颜色），使用他们的 rgba 值进行比对，如果硬编码颜色匹配到了对应的语义化的颜色名，则直接在源码中进行文件读写操作，替换为语义化颜色名，同时记录到 Excel 文件中。下面是这个功能的伪代码：</p>
<figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="code"><pre><span class="line">Read color resources into vscolor_json</span><br><span class="line">Identify and parse hardcoded colors into color_json</span><br><span class="line"></span><br><span class="line">For each sheet in color_json</span><br><span class="line">    For each line in sheet</span><br><span class="line">        If line contains &quot;red value&quot;, &quot;green value&quot;, &quot;blue value&quot;, &quot;alpha value&quot;, and &quot;result&quot; is &quot;correct&quot;</span><br><span class="line">            For each vscolor in vscolor_json</span><br><span class="line">                If line&#x27;s color values match vscolor&#x27;s color values</span><br><span class="line">                    Get file_path, line_number, old_color</span><br><span class="line">                    Determine new_color based on sheet type</span><br><span class="line">                    Print replacement information</span><br><span class="line">                    Replace color code in file</span><br><span class="line">                    Exit loop</span><br><span class="line">          Else</span><br><span class="line">              Continue to next loop</span><br></pre></td></tr></table></figure>
<p>写到这里，脚本的任务基本就完成了，这些脚本为我们提取并替换颜色，大幅度提高了工作效率，为程序员的头发作出了巨大贡献。</p>
<h3 id="机器队vs人工队"><a class="markdownIt-Anchor" href="#机器队vs人工队"></a> 机器队VS人工队</h3>
<p>VeSync App 是使用组件化的方式进行业务开发，在一个组件内的业务代码相对完整，他们的开发者对自己负责过的业务组件更加熟悉，但考虑到实际情况，这些开发者并没有很多时间投入到存量业务的深色模式适配项目中。面对这个问题，我们采用了<strong>脚本替换+人工校对+UI阶段性验收</strong>的方式进行项目开发，具体的开发流程如下</p>
<pre class="mermaid">sequenceDiagram
    autonumber
    participant UI as UI
    participant Dev as App开发-负责人
    participant Bus as App开发-业务线

    UI->>Dev: 按模块出设计稿
    Note right of Dev: 开始开发流程
    Dev->>Bus: 协调模块对应开发人员
    Bus->>Dev: 业务线提前告知介入时间
    Dev->>Dev: 1. 申请Zeplin/Figma权限<br>2. 申请相关开发仓库分支<br>3. 执行颜色替换脚本<br>4. 大致修正颜色
    Dev->>Bus: 业务线实际介入开发
    Note right of Bus: 业务线进行校对&开发工作
    Bus->>Dev: 开发完成，返回开发负责人
    Dev->>Dev: 代码合并、打包
    Note right of Dev: 开发完成，准备审查
    Dev->>UI: 阶段性审查
    UI->>Dev: UI问题修正
    Note right of UI: 根据审查结果进行调整
    Dev->>UI: 最终审查
    Note right of UI: 确认无误，流程结束</pre>
<p>对于上图的流程这里再做一些补充说明：</p>
<ul>
<li>App 开发-负责人：</li>
<li>申请分支：负责人会与业务线开发人员沟通，申请对应业务相关的仓库分支</li>
<li>执行脚本：在申请完分支以后，负责人会执行脚本，替换大部分颜色，保证各页面基本适配</li>
<li>大致修正颜色：对于一些特殊颜色，开发负责人会在业务线介入之前大致修正白色的使用（根据颜色的使用语境判断）</li>
<li>App 开发-业务线</li>
<li>前告知介入时间：在介入的提前两天与负责人沟通</li>
<li>实际开发：对模块的每个页面逐个核对，修正遗漏掉的颜色等错误展示效果</li>
</ul>
<p>按照上面的流程，深色模式的适配对于业务线的开发者来说，只需要如常执行他们的业务流程，指出并修复个别错误展示效果（颜色或图片），而工作量最大的颜色替换部分则由项目负责人使用脚本进行处理。在一个板块的适配完成后，会打包交付 UI、产品阶段性验收，验收完成后，开发再针对提出的 UI 问题进行修改。这样一来，我们就同时保证了开发的效率和准确率。</p>
<h1 id="尾声"><a class="markdownIt-Anchor" href="#尾声"></a> 尾声</h1>
<p>在探讨了深色模式的技术细节之后，我们不难发现，尽管其核心概念和实现方法在技术层面上并不复杂，但真正要将深色模式完美融入我们的应用中，却远非易事。对于已经上线并拥有一定用户基础的应用来说，如何在不破坏现有功能和用户体验的前提下，平滑过渡到深色模式，是一个需要精心策划和逐步实施的过程。虽然技术实现本身并不复杂，但要真正做到完美适配，却需要我们投入更多的精力和智慧。在未来，随着用户对个性化和舒适度要求的不断提高，深色模式无疑将成为应用中不可或缺的一部分。我们期待，通过不断的探索和实践，能够为用户带来更加丰富和舒适的使用体验。</p>
<p>感谢您的阅读，希望本文能够为您提供一些关于深色模式适配的有益见解和启发。如果您有任何疑问或建议，欢迎留言交流。</p>
]]></content>
      <categories>
        <category>Programming</category>
      </categories>
      <tags>
        <tag>iOS</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS 横屏适配</title>
    <url>//ipad-adaption/</url>
    <content><![CDATA[<blockquote>
<p>本文已发表在微信公众号，<a href="https://mp.weixin.qq.com/s/mbZzBNYlzku2vn4ElUspXA">《iPad 适配二三事》</a></p>
</blockquote>
<h1 id="背景前言"><a class="markdownIt-Anchor" href="#背景前言"></a> <strong>背景&amp;前言</strong></h1>
<p>当谈及移动设备的应用程序开发时，iPad是一个备受关注的平台。作为一款功能强大且备受欢迎的设备，iPad是许多人日常生活中不可或缺的工具之一。对于开发者来说，确保他们的应用在iPad上的完美适配是至关重要的。</p>
<p>然而，大部分公司都会选择优先开发和推广手机端 app 的发展策略，前期不会花费过多精力在iPad 端进行适配，在 app 有了一定体量之后，用户对 iPad 端的体验提出需求之后，才会开始考虑进行 iPad 的适配。这就势必造成 iPad 的适配必须要考虑原有业务代码对适配工作造成的影响——这并不是一个简单的任务。</p>
<p>在本文中，我们将探讨一些iPad应用适配策略和最佳实践，介绍一些常见的适配问题，并提供解决方案和建议，帮助开发人员克服这些障碍。无论您是一个经验丰富的开发人员还是一个新手，我们相信这篇文章将为您提供有关在iPad上适配应用程序的经验建议和指导。</p>
<h1 id="技术储备"><a class="markdownIt-Anchor" href="#技术储备"></a> <strong>技术储备</strong></h1>
<h2 id="工程配置"><a class="markdownIt-Anchor" href="#工程配置"></a> <strong>工程配置</strong></h2>
<p>要让原本为 iPhone 平台开发的 app 能在 iPad 上使用，第一步就是要在 target 中添加对 iPad 平台的支持，这个配置项能让 app 在 iPad 平台运行。</p>
<p><img src="../images/d10025b4724e56a9cde4c45d77a283dc.png" alt="image.png" /></p>
<p>经常用 iPad 的朋友们都知道，一个 app 在 iPad 端的呈现方式是十分多样化的，可以有横屏竖屏分屏浮窗等样式。在实际开发中，iPad 横竖屏的支持在 <code>iPad Orientation</code> 配置项中设置；浮窗/分屏的支持由 <code>Requires full screen</code>决定，勾选了此项之后即不支持浮窗或分屏。</p>
<p>本文主要涉及的是 iPad 横竖屏的适配，不涉及浮窗/分屏的适配。</p>
<p><img src="../images/0ae78ee0bc2e45d6a08478f96083e335.png" alt="image.png" /></p>
<p>到这里为止，我们的应用就可以在 iPad 上跑起来了。</p>
<h2 id="屏幕方向的定义"><a class="markdownIt-Anchor" href="#屏幕方向的定义"></a> 屏幕方向的定义</h2>
<p>对于开发者来说，app 在 iPad 上和 iPhone 上运行最大的区别就是对屏幕旋转的处理，绝大多数应用在手机上都是固定一个方向，但是在 iPad 上则需要支持多个方向的展示。另外在实际项目中，可能有一些场景，比如视频播放，需要强制应用变成横屏/竖屏，这需要我们在代码里做特殊处理。</p>
<p>要处理屏幕旋转，首先我们要知道屏幕方向是怎么定义的。在 UIKit 中， 屏幕方向一般使用<code>UIApplication.shared.statusBarOrientation</code>进行判断。它的定义如下：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">UIInterfaceOrientation</span> : <span class="title class_">Int</span>, @<span class="title class_">unchecked</span> <span class="title class_">Sendable</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> unknown <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">case</span> portrait <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">case</span> portraitUpsideDown <span class="operator">=</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">case</span> landscapeLeft <span class="operator">=</span> <span class="number">4</span></span><br><span class="line">    <span class="keyword">case</span> landscapeRight <span class="operator">=</span> <span class="number">3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>要注意的是，有另外一个易混用的方向：<code>UIDevice.current.orientation</code>。这个变量的含义是设备的方向，为<code>UIDeviceOrientation</code>类型，包含有<code>FaceUp</code>、<code>FaceDown</code>的信息，但我们只想要屏幕的方向（横/竖），过多的类型会影响我们的判断，<strong>不推荐</strong>使用这个方式。</p>
<h2 id="设置屏幕方向"><a class="markdownIt-Anchor" href="#设置屏幕方向"></a> <strong>设置屏幕方向</strong></h2>
<p>在知道如何判断屏幕方向之后，我们就可以处理屏幕方向的旋转问题了。在开发过程中，除了 2.1 中的工程配置，常见的有两种设置方向的方式：</p>
<ol>
<li>Target - General - Deployment Info - iPad Orientation即 2.1 的工程配置，这里不再重复。</li>
<li>AppDelegate</li>
</ol>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 自定义属性, 用于控制全局旋转方向</span></span><br><span class="line"><span class="keyword">var</span> supportOrientation: <span class="type">UIInterfaceOrientationMask</span> <span class="operator">=</span> isPad <span class="operator">?</span> .all : .portrait</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">application</span>(<span class="keyword">_</span> <span class="params">application</span>: <span class="type">UIApplication</span>, <span class="params">supportedInterfaceOrientationsFor</span> <span class="params">window</span>: <span class="type">UIWindow</span>?) -&gt; <span class="type">UIInterfaceOrientationMask</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>.supportOrientation</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 AppDelegate 中有一个方法<strong>全局</strong>可以配置 App 的展示方向，这样设置的屏幕方向优先级会高于 Target 中设置的屏幕方向。此外，这里使用一个自定义变量来存放支持的屏幕方向的原因是，我们在特定场景下可以修改<code>supportOrientation</code>的值强制更改应用的方向。</p>
<ol>
<li>UIViewController</li>
</ol>
<p>同样地，通过在 UIViewController 中设置自己的<code>supportedInterfaceOrientations</code>，可以设置某一个 VC 支持的方向：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="keyword">var</span> shouldAutorotate: <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">override</span> <span class="keyword">var</span> supportedInterfaceOrientations: <span class="type">UIInterfaceOrientationMask</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> [.landscapeLeft, .landscapeRight]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">override</span> <span class="keyword">var</span> preferredInterfaceOrientationForPresentation: <span class="type">UIInterfaceOrientation</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> .landscapeRight</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里需要特别说明的是，上面三个设置横竖屏的方式是有<strong>优先级顺序</strong>的，从上到下优先级依次提高。另外在实际开发中，对于每个根控制器 (<code>UITabBarController</code> 和 <code>UINavigationController</code>)，我们都需要设置上述第三点的三个方法</p>
<h2 id="监听屏幕旋转"><a class="markdownIt-Anchor" href="#监听屏幕旋转"></a> <strong>监听屏幕旋转</strong></h2>
<p>我们不只是希望能设置屏幕方向，我们还希望在屏幕旋转的时候我们的获取到这一事件的通知。比较常见的有几种方式获取横竖屏切换事件：</p>
<ol>
<li>在<code>UIViewController</code>中重写<code>viewWillTransition</code> 方法，系统在屏幕发生旋转的时候会调用该方法，我们在coordinator的闭包中即可处理业务。</li>
</ol>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">viewWillTransition</span>(<span class="params">to</span> <span class="params">size</span>: <span class="type">CGSize</span>, <span class="params">with</span> <span class="params">coordinator</span>: <span class="type">UIViewControllerTransitionCoordinator</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewWillTransition(to: size, with: coordinator)</span><br><span class="line">    coordinator.animate &#123; <span class="keyword">_</span> <span class="keyword">in</span></span><br><span class="line">        <span class="comment">// 更新UI</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>监听通知 <code>UIApplication.didChangeStatusBarOrientationNotification</code> ；在使用NotificationCenter的方式进行监听时，需要注意通知的注册和移除时机，以免造成不必要的内存泄露问题。</li>
</ol>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">setupDeviceOrientationObserver</span>() &#123;</span><br><span class="line">    <span class="comment">// 开启并监听系统通知</span></span><br><span class="line">    <span class="type">UIDevice</span>.current.beginGeneratingDeviceOrientationNotifications()</span><br><span class="line">    <span class="type">NotificationCenter</span>.default.addObserver(<span class="keyword">self</span>, selector: <span class="keyword">#selector</span>(onDeviceOrientationChange), name: <span class="type">UIApplication</span>.didChangeStatusBarOrientationNotification, object: <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@objc</span> <span class="keyword">func</span> <span class="title function_">onDeviceOrientationChange</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> currentDeviceOrientation <span class="operator">=</span> <span class="type">UIDevice</span>.current.orientation</span><br><span class="line">    <span class="comment">// 只处理竖屏或横屏的情况（可能出现unknow或屏幕朝上/朝下）</span></span><br><span class="line">    <span class="keyword">guard</span> currentDeviceOrientation.isPortrait <span class="operator">||</span> currentDeviceOrientation.isLandscape <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">removeDeviceOrientationObserver</span>() &#123;</span><br><span class="line">    <span class="type">NotificationCenter</span>.default.removeObserver(<span class="keyword">self</span>, name: <span class="type">UIDevice</span>.orientationDidChangeNotification, object: <span class="literal">nil</span>)</span><br><span class="line">    <span class="comment">// 记得关闭使计数器-1</span></span><br><span class="line">    <span class="type">UIDevice</span>.current.endGeneratingDeviceOrientationNotifications()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>另外，习惯使用 Rx 的小伙伴也可以使用 RxSwift 的方式监听：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">NotificationCenter</span>.default.rx</span><br><span class="line">    .notification(<span class="type">UIApplication</span>.didChangeStatusBarOrientationNotification)</span><br><span class="line">    .subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] <span class="keyword">_</span> <span class="keyword">in</span></span><br><span class="line">       <span class="comment">// 重绘 UI</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .disposed(by: rx.disposeBag)</span><br></pre></td></tr></table></figure>
<p>在监听设备方向的通知时，我们需要注意上文提到过的<code>UIDevice.current.orientation</code>。相对应的，<code>UIDevice.current.orientation</code>也有类似的通知方法<code>UIDevice.orientationDidChangeNotification</code>。我们使用<code>UIApplication.didChangeStatusOrientationNotification</code>通知而不是<code>UIDevice.orientationDidChangeNotification</code>通知的原因是：</p>
<ul>
<li>UIDevice 的通知会在从后台进入前台时调用三次，调用次数过多且不必要；
<ul>
<li>UIDevice 会有多个方向的通知，比如从 faceUp 转向 faceDown 时也会发出一个通知，而这个事件我们是不需要关注的</li>
</ul>
</li>
</ul>
<ol>
<li>除了上述的两种获取屏幕旋转事件的方式以外， 系统在发生屏幕旋转的行为的时候，会调用这 UIView 的<code>layoutSubviews</code> 方法和 UIViewController 的 <code>viewWillLayoutSubviews</code> 方法，我们还可以在这两个方法中进行 UI 的布局和刷新。</li>
</ol>
<h2 id="在旋转时刷新-ui"><a class="markdownIt-Anchor" href="#在旋转时刷新-ui"></a> <strong>在旋转时刷新 UI</strong></h2>
<p>在知道了如何监听屏幕旋转之后，我们接下来要做的事情就是在屏幕旋转的时候去刷新 UI。</p>
<p>在 ios 开发中，常见的页面布局方式有两种，一种是使用 <code>frame</code> 的<strong>绝对布局</strong>，一种是使用 AutoLayout 或 Masonry、SnapKit等框架的<strong>相对布局</strong>（下称<code>AutoLayout</code>）。</p>
<p>在屏幕尺寸会变化的情况下，绝对布局的方式受影响比较大，业务方需要在屏幕尺寸发生变化的时候更新这些 frame 的值。对于某些比较简单的 frame 布局的 UI，可以使用 UIView 的 <code>AutoresizingMask</code> 属性进行适配，系统会根据设置的属性对对应的 view 进行拉伸等操作。但是在实际使用中，这种方法的表现并不尽如人意，这个设置项并不能保证你的自定义视图根据你需要的方式变化。我们推荐的方案是在<code>layoutSubviews</code>方法中进行视图的 frame 的计算和赋值，这保证了代码的简洁性和 UI 的正确性。</p>
<p>而正确使用<code>AutoLayout</code>的布局方式能使页面较好地适应动态变化的屏幕尺寸，且在屏幕旋转时过渡效果流畅丝滑。 在使用自动布局的时候，我们应该摒弃手动计算尺寸的方式，譬如在处理一个横向三等分的布局的时候，我们不应该使用 “父视图宽度÷3” 的方式手动计算三个子视图的宽度，而应该在<code>AutoLayout</code> 中设置子视图的左右约束、三个子视图宽度相等，如此一来，我们就不需要再为变化的屏幕尺寸做多余的工作了。</p>
<p>根据以上原因，笔者建议在开发/适配 iPad 时应尽量使用<code>AutoLayout</code>，在遇到难以处理的 frame 布局方式时，可以考虑将其改写为<code>AutoLayout</code>。</p>
<p>此外，除了布局的原因需要刷新 UI，有些系统控件控件也需要手动刷新使其正确展示，常见的有：</p>
<ol>
<li>UICollectionView 需要调用 <code>collectionView.collectionViewLayout.invalidateLayout()</code>方法使其刷新 itemSize；</li>
<li>使用 UIScrollView 实现一些多页滑动效果的页面需要重新计算<code>contentOffset</code>使其有正确的偏移量；</li>
<li>有使用 CALayer 绘制颜色/圆角/渐变色的业务需要重新绘制 layer 使其尺寸正确。</li>
</ol>
<h1 id="落地方案"><a class="markdownIt-Anchor" href="#落地方案"></a> <strong>落地方案</strong></h1>
<p>本文前半段聊的都是专注于某一处业务细节如何处理屏幕旋转、尺寸变化，但实际上具体到业务落地还有很关键的一点是整体的适配方案，也就是页面的排版。</p>
<h2 id="常见适配方案介绍"><a class="markdownIt-Anchor" href="#常见适配方案介绍"></a> <strong>常见适配方案介绍</strong></h2>
<h3 id="左右分栏"><a class="markdownIt-Anchor" href="#左右分栏"></a> 左右分栏</h3>
<p>iPad 原生应用程序，如信息、相册、备忘录等，绝大部分采用了左右分栏的形式（如下图所示）。这种设计形式的好处在于分栏的设计能够最大化利用 iPad 的大屏，合理地利用横屏展示更多的内容。但是这种方案对原有架构的改动较大，从 UI 样式到页面交互都会发生比较大的变动，需要开发人员单独为 iPad 编写业务代码。</p>
<p><img src="../images/9722c1080f6d5d149e3af96dac4c3edd.png" alt="image.png" /></p>
<h3 id="内容响应式布局"><a class="markdownIt-Anchor" href="#内容响应式布局"></a> 内容响应式布局</h3>
<p>App Store 的设计方案采用的则是内容响应式布局，根据页面的宽度和高度按照特定的规则调整布局。这种方案灵活性更佳，用户体验好， 但是对设计人员和开发人员的要求也会更高。</p>
<p><img src="../images/6083a0643ec2e4b2d4670c14ce12ab74.png" alt="image.png" /></p>
<h3 id="横向拉伸页面"><a class="markdownIt-Anchor" href="#横向拉伸页面"></a> 横向拉伸页面</h3>
<p>最常见的适配方案就是横向拉伸页面，页面的元素按照原有的布局逻辑横向拉伸，与手机端的布局基本保持一致。这种方式既保证了页面布局的合理性，同时也不需要开发人员过多地为 iPad 单独编写代码，是一种相对折中的适配方案。</p>
<p><img src="../images/61d91799d9c561d21709e0d552fddeec.png" alt="image.png" /></p>
<h2 id="vesync-适配方案"><a class="markdownIt-Anchor" href="#vesync-适配方案"></a> <strong>VeSync 适配方案</strong></h2>
<p>VeSync App 手机端用户居多，几乎所有的页面都只考虑了手机端的展示，在适配 iPad 之前，iPad 对于我们来说只是一个屏幕稍微大点的 iPhone。此外，由于 iPad 用户占比不高，公司也暂时没有在 iPad 端大力推广 VeSync App 的计划，如果要所有业务都使用 3.1 中提及的前几种方案适配，这对于我们来说成本过高。</p>
<p>由于 VeSync 是一个智能家庭类软件，大部分功能业务都与设备相关，而品类繁多的设备和功能导致业务代码体量庞大，要每个页面都完美适配 iPad 横屏/竖屏/旋转的工作量巨大。综合考虑适配成本和用户体验后，决定采用以下的适配方案：</p>
<ul>
<li>对 App 首页（即设备列表页、wellness首页、论坛、商城）这类使用频率最高的页面使用响应式布局的适配方式，最大化保证用户体验；</li>
<li>对登录页、设置页这类功能页直接横向拉伸进行适配；</li>
<li>涉及到设备业务的设备主页的业务采用<code>弹出位于屏幕中心的小窗口</code>（下称<strong>中心小窗</strong>）的适配方案。</li>
</ul>
<p>这种适配方案实际上是对 3.1 中提及的方案进行了“混搭”，再根据 VeSync 的实际情况进行调整（中心小窗）。方案综合考虑了用户体验和开发周期，在有限的开发时间内保证用户能有良好的使用体验。此外，对于开发者来说，这种方案不需要单独为 iPad 适配编写过多代码，保证了业务代码的纯净。</p>
<h3 id="弹出的中心小窗"><a class="markdownIt-Anchor" href="#弹出的中心小窗"></a> <strong>“弹出”的中心小窗</strong></h3>
<p><img src="../images/fb2aad38a5e32c0c8f8094b30a0513b1.png" alt="image.png" /></p>
<p>中心小窗的方案实际效果如图所示，用文字大致描述如下：</p>
<ol>
<li>涉及<strong>设备</strong>的页面都使用 Modal 的方式弹出，用一个已封装好的<code>UINavigationController</code>（下称<strong>容器</strong>）进行管理；</li>
<li>中心小窗大小根据屏幕高度计算得出，通过重写容器的<code>preferredContentSize</code>属性实现，其大小在 iPad 的横竖屏状态下均保持不变；</li>
<li>在进入中心小窗之后，后续的页面导航都在容器的导航栈里进行管理，直到这个容器被 dismiss。</li>
</ol>
<p>由于中心小窗的大小不会发生变化，大量的业务代码不需要再关心屏幕是否旋转、窗口是否发生变化，更直白地说，在中心小窗的页面的展示模式和 iPhone 基本保持一致了。这大幅减少了开发人员在这部分内容的适配工作，同时也保证了良好的用户体验。</p>
<p>在弹窗内的页面，获取容器大小的方式也要发生改变。大部分开发者会采用<code>UIScreen.main.bounds</code>的方式获取容器大小，这种方式在此方案下是有局限性的，无法获取到页面真正的大小。我们需要通过定义一个新的变量来获取当前容器的大小（W+H）。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// 顶层控制器的宽度</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> adaptiveScreenW: <span class="type">CGFloat</span> &#123; adaptiveScreenSize.width &#125;</span><br><span class="line"><span class="comment">/// 顶层控制器的高度</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> adaptiveScreenH: <span class="type">CGFloat</span> &#123; adaptiveScreenSize.height &#125;</span><br><span class="line"><span class="comment">/// 顶层控制器的尺寸</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> adaptiveScreenSize: <span class="type">CGSize</span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="type">VS</span>.isPad, <span class="keyword">let</span> window <span class="operator">=</span> <span class="type">UIApplication</span>.shared.keyWindow <span class="keyword">else</span> &#123; <span class="keyword">return</span> screenSize &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> present <span class="operator">=</span> window.rootViewController<span class="operator">?</span>.presentedViewController, present.preferredContentSize <span class="operator">!=</span> .zero &#123;</span><br><span class="line">        <span class="keyword">return</span> present.preferredContentSize</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> window.bounds.size</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以看出，<code>adaptiveScreenSize</code>优先获取容器的大小，否则返回屏幕大小。无论是iPhone、iPad 全屏、iPad 中心小窗，通过这种定义方式，设备方的业务代码只需要使用这一套屏幕尺寸变量即可获取正确的容器大小。</p>
<h3 id="中心小窗带来的变化及问题"><a class="markdownIt-Anchor" href="#中心小窗带来的变化及问题"></a> 中心小窗带来的变化及问题</h3>
<p>上文已经提到，中心小窗实际上是通过 present 一个封装的<code>UINavigationController</code>实现的，这样的导航管理与 iPhone 端是有区别的——从一个导航栈管理变成两个导航栈管理，这势必导致原有业务代码的导航的更新，具体需要更新的内容包括但不限于：</p>
<ol>
<li>原有的<code>popToRoot</code>事件在小窗口内会变成<code>dismiss</code>事件</li>
<li>在设备主页（此时该页面为<code>rootViewController</code>）的返回 <code>pop</code> 事件会变成<code>dismiss</code>事件，其他二级页面的返回事件保持不变</li>
<li>有些业务代码对整个栈的 <code>VC</code> 做了处理，简单地用&quot;栈内的第i个<code>VC</code>&quot;处理业务（此处的 i 指代一个代码里固定的 index 值），由于此时的导航栈结构与之前发生了变化，不能简单地用 <code>VC</code> 的 index 判断，而应该用 <code>firstIndex(of:)</code>去获取目标 VC 的下标。</li>
</ol>
<p>此外，一些作用于<code>keyWindow</code>的代码也要发生相应的变化，我们需要在获取 keyWindow 之前判断 keyWindow 是否有<code>presentedViewController</code>，如果有，我们处理的对象就应该变成<code>presentedViewController</code>。举个例子，对 keyWindow的 addSubview 操作在存在中心小窗业务的场景下应该变为：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> presentedViewController <span class="operator">=</span> <span class="type">UIApplication</span>.shared.keyWindow<span class="operator">?</span>.rootViewController<span class="operator">?</span>.presentedViewController &#123;</span><br><span class="line">    presentedViewController.view.addSubview(someView)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="type">UIApplication</span>.shared.keyWindow<span class="operator">?</span>.addSubview(someView)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在中心小窗的页面还可能遇到手势冲突的问题。ios 系统原生的 Modal 支持手势下滑dismiss，如果容器内的页面有其他手势操作的业务，可能会有手势冲突的情况，常见的问题及解决方式如下：</p>
<ol>
<li>使用UISwipeGestureRecognizer造成手势冲突</li>
</ol>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1. 设置手势代理</span></span><br><span class="line">downGes.delegate <span class="operator">=</span> <span class="keyword">self</span></span><br><span class="line"><span class="comment">// 2. 处理冲突</span></span><br><span class="line"><span class="keyword">extension</span> <span class="title class_">xxxx</span>: <span class="title class_">UIGestureRecognizerDelegate</span> &#123;</span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">gestureRecognizer</span>(<span class="keyword">_</span> <span class="params">gestureRecognizer</span>: <span class="type">UIGestureRecognizer</span>, <span class="params">shouldBeRequiredToFailBy</span> <span class="params">otherGestureRecognizer</span>: <span class="type">UIGestureRecognizer</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="operator">!</span>(gestureRecognizer <span class="keyword">is</span> <span class="type">UIPanGestureRecognizer</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>使用 UIControl 造成手势冲突</li>
</ol>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">gestureRecognizerShouldBegin</span>(<span class="keyword">_</span> <span class="params">gestureRecognizer</span>: <span class="type">UIGestureRecognizer</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="operator">!</span>(gestureRecognizer <span class="keyword">is</span> <span class="type">UIPanGestureRecognizer</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="结语"><a class="markdownIt-Anchor" href="#结语"></a> <strong>结语</strong></h1>
<p>通过本文的介绍，我们大致了解了应用程序适配 iPad 平台的方式和技术实践。值得一提的是，在适配过程中，不断地测试和反馈是至关重要的。通过与用户进行互动和收集意见反馈，开发人员可以及时发现和解决潜在的问题，不断改进应用的性能和用户体验。</p>
<p>最后的最后，感谢您的阅读，希望本文对您在iPad应用适配方面有所启发。</p>
]]></content>
      <categories>
        <category>Programming</category>
      </categories>
      <tags>
        <tag>iOS</tag>
      </tags>
  </entry>
  <entry>
    <title>哲学-死亡（一）</title>
    <url>//philosophy-death-1/</url>
    <content><![CDATA[<blockquote>
<p>source: BV1P7411C7Gz<br />
Philosophy Of Death</p>
</blockquote>
<h1 id="metaphysics"><a class="markdownIt-Anchor" href="#metaphysics"></a> Metaphysics</h1>
<ul>
<li>my surviving my death</li>
<li>how I build</li>
<li>what’s the idea of surviving</li>
</ul>
<h2 id="what-is-a-person"><a class="markdownIt-Anchor" href="#what-is-a-person"></a> What is a person</h2>
<h3 id="dualist-view"><a class="markdownIt-Anchor" href="#dualist-view"></a> Dualist view</h3>
<blockquote>
<p>Interactionist view<br />
A person is a combination of a <code>body</code> and something else, a mind, a <code>soul</code></p>
</blockquote>
<ul>
<li>the mind is this immaterial substance, is based in, or just something nonphysical, call it soul, a mind, a psyche</li>
<li>soul &amp; body, a two-way interactionist dualism</li>
<li>“What I am strictly speaking is a soul”, the soul has a very intimate connection with the body but the person is not the soul plus the body.</li>
<li>three issues:
<ol>
<li>Are bodies and souls distinct?</li>
<li>Does the soul, even if it exists, survive the destruction of the body?</li>
<li>If it survives, how long does it survive? Forever? Immortal?</li>
</ol>
</li>
</ul>
<h3 id="physicalist-view"><a class="markdownIt-Anchor" href="#physicalist-view"></a> Physicalist view</h3>
<blockquote>
<p>Materialist view<br />
A person is just a certain kind of <code>material object</code>, a body</p>
</blockquote>
<ul>
<li>physicalist doesn’t mean that as a person is just any old body</li>
<li>A person is a body that has a certain set of abilities, can do a certain array of activities.</li>
<li><code>P-functioning</code> body</li>
<li><code>Mind</code> is a way of talking about various mental abilities of the body.</li>
</ul>
<h3 id="idealism"><a class="markdownIt-Anchor" href="#idealism"></a> Idealism</h3>
<blockquote>
<p>There a soul but there are no bodies, all that exists, are minds and their ideas</p>
</blockquote>
<h2 id="argument-for-the-existence-of-the-soul"><a class="markdownIt-Anchor" href="#argument-for-the-existence-of-the-soul"></a> Argument for the <code>existence</code> of the <code>soul</code></h2>
<blockquote>
<p>What argument might be offered for the existence of a soul?</p>
</blockquote>
<ul>
<li><code>Inference to the best explanation</code>（最佳解释推理）
<ul>
<li>Are there things that we need to appeal to the soul in order to explain these things about us?</li>
</ul>
</li>
</ul>
<h3 id="consciousness"><a class="markdownIt-Anchor" href="#consciousness"></a> Consciousness</h3>
<ul>
<li>Argument:
<ul>
<li>the <u>animation</u> of body</li>
<li>the ability to <u>think</u>, to reason. People have believe and desire, etc.</li>
<li>an aspect of desires, the emotional side — <u>emotions</u>, <u>feelings</u> (love, afraid, fear)</li>
<li>two aspect of emotions, behaviors and <u>sensations</u> (<u>feelings</u>, which is different from previous one) inside</li>
<li>the qualitative aspect of experience —— <u>qualia</u> （感受性）, <code>consciousness</code> （意识）</li>
</ul>
<blockquote>
<p>It’s not just the question, “Who’s got an explanation?”, but “Who’s got the better explanation?”.<br />
But how soul can create the consciousness? As far as i can see, right now nobody’s got a good explanation about how consciousness works. The soul theorist don’t have a very compelling theory of this argument.</p>
</blockquote>
</li>
</ul>
<h3 id="free-will"><a class="markdownIt-Anchor" href="#free-will"></a> Free will</h3>
<ul>
<li>Argument:
<ul>
<li>the <u>creativity</u>? but the machine can also have creativity</li>
<li>but machine is follow the program. It doesn’t have <code>free will</code>, but we have.（自由意志）</li>
<li>People have free will! We must something more than a merely physical object. It must be something immaterial about us, the <u>soul</u>.</li>
</ul>
</li>
<li>Argument from free will and <code>determinism</code>（决定论）
<ol>
<li>We have free will</li>
<li>Nothing subject to determinism has free will</li>
<li>All purely physical systems are subject to determinism.</li>
<li>1+2+3 = conclusion: we are not a purely physical systems .</li>
</ol>
<ul>
<li>free will and determinism are incompatible</li>
</ul>
</li>
<li>Are the three premises true?——rejected!
<ol>
<li>There are philosophers who have said we believe that we have got free will, but it’s an illusion. Free will isn’t something that we can see.（有些人相信，但有些人反驳并且论证）</li>
<li>It was a incompatibilism claim. But there was a theory called <u>compatibilism</u> says that the idea of free will is not compatible with determinism.（相容主义）</li>
<li>A claim about empirical science. But the <u>quantum mechanics</u> says that the fundamental laws of physics are not deterministic. （决定论在量子力学范畴内不正确）</li>
</ol>
</li>
</ul>
<h3 id="supernatural"><a class="markdownIt-Anchor" href="#supernatural"></a> Supernatural</h3>
<blockquote>
<p>ghosts, ESP（第六感）, near-death experiences</p>
</blockquote>
<ul>
<li>example about  near-death experiences
<blockquote>
<p>Schick and Vaughan</p>
</blockquote>
<ul>
<li>experiences about already dead, leave the body, see some light … (two-room notion）</li>
<li>Objection: Near-death is the real dead which is permanently die. Whatever unusual experience they may be having, they a not reports of the afterlife.</li>
<li>Point2 is a misguided objection. The border between real death and near-death isn’t very clear. They didn’t stay death, they had some experience of being dead. Isn’t relevant to what it would be like to be dead? They are on the border looking in.</li>
<li>Two-room explanation (dualist) and One-room explanation (physicalist, in science).</li>
<li>The scientific explanation sufficiently persuasive and compelling.</li>
</ul>
</li>
</ul>
<h3 id="descartes"><a class="markdownIt-Anchor" href="#descartes"></a> Descartes</h3>
<blockquote>
<p>A purely philosophical argument</p>
</blockquote>
<ul>
<li>Descartes view
<ul>
<li>imagine a story about ourselves/myself</li>
<li>“my body doesn’t exist, but my mind does exists”</li>
<li>It shows that the mind and the body must be two logically distinct things. Because what I did was imagine my mind existing without my body. Talking my mind cannot be just talking about a part of my body.</li>
<li>A exists but B doesn’t exist ⇒ A and B are not the same thing.</li>
<li><strong>NOT</strong> saying, “If something is possible if I can imagine it, it’s true”</li>
<li>Since I can image my mind without my body, it must be the case that my mind is something separate and distinct from my body.</li>
</ul>
</li>
<li>Counter Example
<ul>
<li>Evening Star &amp; Morning Star</li>
<li>“If I can imagine a Evening Star without a Morning Star, that shows that the ES and the MS must be two different heavenly bodies.”</li>
<li>but they are the same heavenly bodies —— Venus.</li>
</ul>
</li>
</ul>
<blockquote>
<p>the Cartesian argument does fail.</p>
<ul>
<li>Contingent Identity</li>
</ul>
</blockquote>
<h2 id="argument-for-the-immortality-of-the-soul"><a class="markdownIt-Anchor" href="#argument-for-the-immortality-of-the-soul"></a> Argument for the <code>immortality</code> of the <code>soul</code></h2>
<blockquote>
<p><em>the Phaedo</em>, Plato</p>
</blockquote>
<ul>
<li>Plato’s view
<ul>
<li>the immortality of the soul</li>
<li>Socrates thinks that there is a soul, it will survive and it’s immortal. He think he will go to heaven when he’s died.</li>
<li>The body takes care of all the bodies sensations, all the desiring and the wanting and the emotions, that’s all body stuff</li>
<li>The soul takes care of the thinking side of things.</li>
</ul>
</li>
</ul>
<h3 id="platos-metaphysics"><a class="markdownIt-Anchor" href="#platos-metaphysics"></a> Plato’s metaphysics</h3>
<ul>
<li>basic idea
<blockquote>
<p><code>Platonic Ideas</code>, <code>Platonic Forms</code>（柏拉图理念、柏拉图型相） : the soul can think about certain pure concepts or ideas itself, like justice, beauty, goodness, health itself.</p>
</blockquote>
<ul>
<li>In addition to the ordinary empirical physical world, we have to posit the existence of second realm, in which exist the Platonic forms. The sorts of things that perhaps we might call as abstract objects or abstract properties.</li>
<li>The reason for positing these things is because we’re clearly able to think about these ideas.</li>
</ul>
</li>
<li>Example about justice
<ul>
<li>There are various arrangements that can be just or unjust to varying degrees. But we don’t think there is any society that’s perfectly just.</li>
<li>The mind can think about perfect justice.</li>
<li>And notice how ordinary social arrangements fall short of perfect justice.</li>
<li>Perfect justice isn’t not one more thing in the empirical world.</li>
</ul>
</li>
<li>It’s the soul that thinks about the Platonic forms.</li>
</ul>
<h3 id="argument"><a class="markdownIt-Anchor" href="#argument"></a> Argument</h3>
<blockquote>
<p>We want to free ourselves from the distractions of the body, but we don’t want the body to die because when the body dies the soul dies as well.</p>
</blockquote>
<ol>
<li>The argument from the <code>nature</code> of the forms （型相本质论）
<blockquote>
<p>the forms are not physical object, so the soul must be something non-physical.</p>
</blockquote>
<ul>
<li>a fuller version of the argument:
<ol>
<li>Ideas, forms are eternal and non-physical</li>
<li>Eternal / non-physical can only be grasped by the eternal /  non-physical.</li>
<li><u>So</u> that which grasps the Ideas / Forms must be eternal /  non-physical.</li>
</ol>
</li>
<li>Number2 might be wrong.
<ul>
<li>General claim “Take one to know one” is false. but the particular claim my be right.</li>
<li><u>OBJECTION</u>: We haven’t been given any adequate argument for the conclusion.</li>
</ul>
</li>
</ul>
</li>
<li>The argument from <code>recycling</code> （循环观点）
<blockquote>
<p>Parts get re-used.</p>
</blockquote>
<ul>
<li>Things come into being by being composed of previous existing parts. And then, when those things cease to have the form they had, the parts get used for other purposes. —— get recycle.</li>
<li>We can’t conclude that the soul is one of the parts that’s going to continue to exist after our death, as if my heart, even if the atoms will be recycling take place.</li>
<li><u>OBJECTION</u>: We have no good reason yet to believe that the soul is one of the recycle part.</li>
</ul>
</li>
<li>The argument from <code>recollection</code> （回忆论）
<blockquote>
<p>If seeing things that participate in the forms remind me of the forms, it’s got to be because I’ve met or been acquainted directly with the forms before.</p>
</blockquote>
<ul>
<li>Ordinary objects in the world participate to a greater or lesser degree in the Platonic forms. “These things remind us of the Platonic forms.”</li>
<li>Before “remind”, I have to have already been acquainted with the ideas for forms.</li>
<li>But we don’t meet, see or grasp or become acquainted with the forms in this life, so it’s got to have happened before this life.</li>
<li><u>OBJECTION1</u>: Something (partially just or partially beautiful) trigger our minds in such a way that we begin to think about the forms in this life for the very first time.</li>
<li><u>OBJECTION2</u>:  Even if the soul existed before birth, it doesn’t follow that it exists after death.</li>
</ul>
</li>
<li>The argument from <code>simplicity</code> （精简论）
<blockquote>
<p>What kind of things can and can not break? (deal with <u>OBJECTION2</u>)</p>
</blockquote>
<ul>
<li>The kinds of things that can be destroyed  have parts. The are composed.</li>
<li>NUMBER-3 can’t be destroyed —— Platonic forms are eternal, changeless——because they are simple (no part to take apart).（单一性）</li>
<li>Arguments:
<ol>
<li>only composite things can be destroyed</li>
<li>only changing things are composite</li>
<li>invisible things don’t change (need a definition of invisible)</li>
<li><u>So</u> invisible things can’ be destroyed</li>
<li><u>But</u> soul is invisible</li>
<li>→ Soul can’t be destroyed! (or nearly so)</li>
</ol>
</li>
<li><u>OBJECTION</u>: invisible things can be destroyed —— harmony, you can destroy it by destroying the musical instrument on which it depend. (like mind &amp; body)</li>
<li>what do we mean by “invisible”? 3 claims:
<ol>
<li>can’t be seen (but can be sensed by another way, another sense)</li>
<li>can’t be observed (5 senses)</li>
<li>can’t be detected (it doesn’t leave traces behind)</li>
</ol>
</li>
<li>if we use Claim3, the Point5 is no longer clear. ( Is it still invisible if by invisibility we mean can’t be detected?)
<ul>
<li>Example: radio &amp; radio wave</li>
<li>We can detected the soul through the effects on our body.</li>
<li>→ Soul isn’t invisible.</li>
</ul>
</li>
<li><u>OBJECTION of OBJECTION</u> soul isn’t harmony, soul is like harmony. It’s an analogy (said Plato)
<ol>
<li>harmony cannot exist before existence of the harp itself. / the soul exists prior to the body ( argument from the recollection, POINT-3)</li>
<li>harmony can vary / soul doesn’t come in degrees</li>
<li>the soul can be good or wicked / the harmony of harmony …?</li>
<li>soul can oppose the body / harmoniousness of the harp doesn’t affect the way the physical object the harp is</li>
</ol>
</li>
</ul>
</li>
<li>the argument from <code>essential properties</code>  （基本属性论证）
<blockquote>
<p>the distinction between an essential properties and a contingent properties. （偶然属性）</p>
</blockquote>
<ul>
<li>Wherever there’s a soul, it’s alive (capable of thought)</li>
<li>Argument
<ol>
<li>life is an essential property of the soul</li>
<li>→ soul is <u>deathless</u> —— ambiguous
<ol>
<li>can’t be that soul exists and is dead ——Plato’s mean</li>
<li>can’t be that soul was destroyed —— <u>OBJECTION</u></li>
</ol>
</li>
<li>→ soul cannot die, indestructible</li>
<li>→ soul cannot be destroyed</li>
</ol>
</li>
</ul>
</li>
</ol>
<h2 id="conclusion"><a class="markdownIt-Anchor" href="#conclusion"></a> Conclusion</h2>
<ul>
<li><code>Souls are not impossible, but I think I’m believing there aren’t any.</code></li>
<li>Do I, as a physicalist who does not believe in the existence of the souls, immaterial entities above and beyond the body, do I need to disprove the existence of souls?</li>
<li>What I need to do is to rebut the arguments that get offered for the existence of a soul, and explain why those arguments are not compelling.</li>
<li>I don’t need to prove that souls are impossible, to  undermine the case for souls.</li>
<li>If there’s no good reason to believe in souls, that actually constitutes a reason to believe there are no souls.</li>
<li>I’ll be assuming the physicalist view is correct, and will be thinking about the issues of death as they’d be understood from the physicalist point of view.</li>
</ul>
<h1 id="personal-identity"><a class="markdownIt-Anchor" href="#personal-identity"></a> Personal identity</h1>
<blockquote>
<p>the nature of personal identity across time, 人格同一性</p>
</blockquote>
<ul>
<li>what am I</li>
<li>what’s the idea of surviving</li>
</ul>
<h2 id="space-time-worm"><a class="markdownIt-Anchor" href="#space-time-worm"></a> space-time worm</h2>
<ul>
<li>object that extend not only over space, but also over time.</li>
<li>we should think about extension over time analogously to the way we think about extension over space.</li>
<li>Points
<ol>
<li>“Don’t confuse the stages with the entire space-time worm.” The stage can differ without the entire space-time worm being a different worm</li>
<li>“What’s the relevant glue?” What make two stages stages of the very same thing?</li>
</ol>
</li>
</ul>
<h2 id="the-key-of-personal-identity"><a class="markdownIt-Anchor" href="#the-key-of-personal-identity"></a> the key of personal identity</h2>
<ul>
<li>Questions
<ol>
<li>
<p>Is it the same space-time worm or different as the one we mention about?</p>
<p>—— It depends on getting clear on whether the stages are glued together in the right metaphysical way.</p>
</li>
<li>
<p>what does it take for two person stages to make up or be part of the very same extended-through-time person? what’s the metaphysical glue that underlies being a single extended-through-time person?</p>
<p>—— the key of personal identity</p>
</li>
<li>
<p>could I survive my death?</p>
<p>—— we can’t answer that question until we are clearer about what does it take to have identity across time. <u>What’s the key to personal identity? What the metaphysical glue?</u></p>
</li>
</ol>
</li>
</ul>
<h3 id="the-soul-theory"><a class="markdownIt-Anchor" href="#the-soul-theory"></a> the soul theory</h3>
<ul>
<li>
<p>natural thing for a soul theorist to say ( not the only thing a soul theorist can say) the key of personal identity is having the very same soul. Same soul, same person.</p>
<p>—— If God were to replace my soul sometime, I die. But THAT I have no way to know that.</p>
<p>—— how did you know this didn’t happen to you last night? LOL!</p>
<p>—— even if souls do exist, they may not be the key of personal identity.</p>
<p>—— what the alternative?</p>
</li>
</ul>
<h3 id="the-body-theory"><a class="markdownIt-Anchor" href="#the-body-theory"></a> the body theory</h3>
<ul>
<li>
<p>the secret to being the same person is having the same body</p>
<p>—— we could believe in the possibility of surviving one’s death, the death of one’s body, if we’re willing to believe in bodily resurrection</p>
<p>—— if I put my body back together, is that still my body?</p>
<p>—— the WATCH case and the TOWER case.</p>
</li>
<li>
<p>there can be changes in your body that are compatible with it still being the same body.</p>
<p>—— which changes?</p>
<p>—— the parts of the body are not equally important</p>
<p>—— brain is the most important part, the house of your personality</p>
<p>—— the crucial part of the body for personal identity is not sameness of torso, but the sameness of brain</p>
</li>
<li>
<p>the best version of the body view was the brain view</p>
<p>—— enough of the brain was good enough, what counts was good enough?</p>
<p>—— enough to keep the personality</p>
<p>—— so the personality is the key of person identity</p>
</li>
</ul>
<h3 id="the-personality-theory"><a class="markdownIt-Anchor" href="#the-personality-theory"></a> the personality theory</h3>
<blockquote>
<p>it can be accepted by physicalist and can be accepted by dualist</p>
</blockquote>
<ul>
<li>
<p>Doesn’t require item for item, having the very same belief, memories, desires and so forth. But instead requires enough gradual overlap, the same slowly evolving personality.</p>
</li>
<li>
<p>thought experiments</p>
<ul>
<li>Which one do I think is me when my body goes one way and my personality goes another way? Where do I go?</li>
<li>What I’m going to do once I’ve separated the body and the personality this way is torture one of the end products.</li>
<li>“Which one do I want to be or not to be tortured?”</li>
</ul>
</li>
<li>
<p>Objection to the personality theory</p>
<ul>
<li>
<p>someone said he is Napoleon, he is Napoleon? Even if he has Napoleon’s personality, memories, beliefs, desires?</p>
<p>—— Personality theory is NOT saying that anybody who has any elements at all of my personality is me.</p>
<p>—— he think he has, but it’s an illusion, delusion, because he didn’t really have the genuine memory.</p>
</li>
<li>
<p>what if there are two man that declare themselves are Napoleon living in the world? Saying that one of them is Napoleon and the other one isn’t seems very hard to believe.</p>
<p>—— they are both Napoleon, then Napoleon split into two!</p>
<p>—— metaphysical thinking about how people work speaking, people can’t be in two places at the same time</p>
<p>—— neither of them are Napoleon, but they have Napoleon’s personality. So it means that the personality theory is false.</p>
<p>—— Rejected!</p>
</li>
</ul>
</li>
<li>
<p>Revision of personality theory - No branching clause</p>
<ul>
<li>
<p>same personality’s good enough, as long as there’s no branching. If there is branching, neither of the branches is me.</p>
</li>
<li>
<p>the nature of identity seems like it should be depend only on intrinsic facts about me or relational facts about the relations between my stages. But it shouldn’t depend on extrinsic, external facts about what’s happening someplace else.</p>
<p>—— with the no branching rule, identity ceases to be a strictly internal affair. It become , in part, an external affair.</p>
</li>
<li>
<p>the body theory is in exactly the same problem (the fission case), but the soul theory doesn’t</p>
</li>
<li>
<p>soul can be split?</p>
<p>—— if true, then the soul theorist must accept no branching rule</p>
<p>—— else, there is no way whether from outside or inside to find out who has the real soul.</p>
<p>—— But according to the soul-theory argument for soul, you need to believe in soul in order to explain how you could have a person. Then what about the B who doesn’t have the soul? (fission case)</p>
</li>
</ul>
</li>
</ul>
<h2 id="arguments"><a class="markdownIt-Anchor" href="#arguments"></a> Arguments</h2>
<blockquote>
<p>Will I survive? What matters? What do we care about?</p>
</blockquote>
<ul>
<li>
<p>the soul theory</p>
<p>—— Assumption: imagine that when the soul is reincarnated , it’s scrubbed completely clean</p>
<p>—— When you think about the possibility of bare survival of the scrubbed, clean, erased soul, you see that survival wasn’t really everything you wanted.</p>
<p>—— what I want is not just survival, but survival with the same personality.</p>
</li>
<li>
<p>the body theory</p>
<p>—— that thing that wakes up after this complete irreversible amnesia will develop a personality</p>
<p>—— that’s ME</p>
<p>—— mere bodily survival isn’t enough to give me what I want.</p>
<p>—— what I want is not just survival, but survival with the same personality.</p>
</li>
<li>
<p>the personality theory</p>
<p>—— I have lived so long that my personality has changed a lot, even gradually. It’s not ME.</p>
<p>—— what really I want?</p>
<p>—— It’s not just survival as part of the same ongoing personality. It’s survival with a <u>similar</u> personality.</p>
</li>
<li>
<p>What does it take to survive?—— misguide us</p>
</li>
<li>
<p>What matters to me isn’t survival per se. It’s having the same personality.</p>
</li>
</ul>
<h1 id="what-is-dead"><a class="markdownIt-Anchor" href="#what-is-dead"></a> What is Dead</h1>
<h2 id="question"><a class="markdownIt-Anchor" href="#question"></a> Question</h2>
<ul>
<li>Which functions are crucial in defining the moment of death?</li>
<li>when do I die? what is death?</li>
<li>when did I cease exists?</li>
<li>what’s the nature of death?</li>
</ul>
<h2 id="when-do-i-die"><a class="markdownIt-Anchor" href="#when-do-i-die"></a> When do I die?</h2>
<h3 id="cases"><a class="markdownIt-Anchor" href="#cases"></a> Cases</h3>
<ol>
<li>Case One
<blockquote>
<p>P-functioning and B-functioning stop at the same time.<br />
Phase A —— B-functioning only; Phase B —— B-functioning and P-functioning; Phase C —— corpse</p>
</blockquote>
</li>
<li>Case Two
<blockquote>
<p>P-functioning stops earlier then B-functioning<br />
Phase A —— B-functioning only; Phase B —— B-functioning and P-functioning; Phase D —— B-functioning only ; Phase C —— corpse</p>
</blockquote>
</li>
</ol>
<h3 id="explanation"><a class="markdownIt-Anchor" href="#explanation"></a> Explanation</h3>
<ul>
<li>As a body theorist
<ul>
<li>I die at the end of Phase B in case one or phase D in case two.</li>
<li>“Me” still exist as a corpse (phase C)</li>
<li>Existence wasn’t good enough for the body theorist, he want to be alive, especially in Phase D, he want to be a person!</li>
<li>Am I still a person?</li>
</ul>
</li>
<li>As a personality theorist
<ul>
<li>I die at the end of the P-functioning (Phase B)</li>
<li>I don’t exist in phase D, because nothing have my personality</li>
<li>but my body still be alive at the end of phase B</li>
<li>—— I don’t exist, but I still be alive …? (C &amp; D)</li>
<li>—— have a distinction between “my being alive” and “my body being alive”</li>
</ul>
</li>
<li>Argument about Phase A
<ul>
<li>
<p>body view —— the stage of my existence before I become a person</p>
<ul>
<li>
<p>the brain view</p>
<p>—— Until late A, when the brain gets put together, that I start to exist.</p>
<p>—— It’s a body but not me in the early A</p>
</li>
</ul>
</li>
<li>
<p>personality view —— I did not exist when that fertilized egg came into being</p>
</li>
</ul>
</li>
<li>Argument about Phase D
<blockquote>
<p>Who or what has the right to life? I or my body?</p>
</blockquote>
<ul>
<li>Question: Is there something immoral about removing the organs during D?</li>
</ul>
</li>
</ul>
<h2 id="p-functioning-and-death"><a class="markdownIt-Anchor" href="#p-functioning-and-death"></a> P-functioning and death</h2>
<ul>
<li>
<p>If I’m not P-functioning, do we have to then say I’m dead?</p>
<p>—— when I’m sleep that none of the P-functioning is occurring, I’m dead.</p>
<p>—— revise this theory</p>
</li>
<li>
<p>If you <u>will</u> P-functioning again, that you are not dead.</p>
<p>—— On Judgment Day, God resurrects the dead.</p>
<p>—— then it turn out to the dead weren’t really dead after all. They were only temporarily not P-functioning, just like sleep</p>
<p>—— Proposal that death is a matter of permanent cessation of P-functioning versus temporary isn’t going to do the trick.</p>
</li>
<li>
<p>You still <u>can</u> be P-functioning, you had the ability to engage in P-functioning</p>
<p>—— Abilities aren’t always actualized.</p>
<p>—— Dead is to be unable to engage in P-functioning</p>
<ul>
<li>
<p>Somebody who is in a coma, not engage P-functioning</p>
<p>—— can they engage P-functioning?</p>
<p>—— this might be a persistent vegetative state with no possibility of engaging P-functioning</p>
</li>
<li>
<p>Somebody is in a state of suspended animation</p>
<p>—— cooling someone and wake him up few years later</p>
<p>—— The structures in the brain which would underwrite the ability to engage in P-functioning didn’t destroyed by the suspended animation</p>
<p>—— the person can engage in P-functioning, they’re not dead.</p>
</li>
</ul>
<p>—— It seems like he’s not alive either</p>
<p>—— death, alive and suspended?</p>
</li>
<li>
<p>Physicalist view</p>
<ul>
<li>The body is able to function in a variety of ways. When some of those lower biological functions are occurring, the body is alive. The body is also capable of engaging in higher order personal P-functioning. And then you got a person.</li>
<li>The body begins to break, you get the loss of P-functioning. You no longer exist as a person. When the body breaks some more, you get the loss of biological of B-functioning, and then the body die.</li>
</ul>
</li>
</ul>
<h2 id="do-believe-that-you-will-die"><a class="markdownIt-Anchor" href="#do-believe-that-you-will-die"></a> Do believe that you will die</h2>
<ol>
<li>
<p>Nobody believes that they’ll ever cease to exist as a person</p>
<ul>
<li>
<p>It’s impossible to picture being dead, nobody believes that the are going to die</p>
<p>—— I can’t picture being dead.</p>
<p>—— There’s no mystery about what it’s like to be dead. It isn’t like anything. When you dead, there is nothing on the inside to be imagined.</p>
<p>—— BUT, it’s not possible to picture or imagine a dreamless sleep or fainted</p>
</li>
<li>
<p>You can’t picture being dead from the inside, but you can picture it from the <u>outside</u></p>
<p>—— Every time I try to picture myself being dead, I smuggle myself back in conscious and existing as a person. Hence, not death as a person</p>
<p>——Freud conclude at some level none of us really believes we’re going to die</p>
<p>—— OBJECTION: try to imagine a meeting without you.</p>
<p>—— Viewing the world without you from a point of view doesn’t mean you’re in the world</p>
</li>
</ul>
</li>
<li>
<p>Nobody believes their body is going to die</p>
<ul>
<li>
<p>People do all sorts of behaviors which become very hard to interpret if they don’t believe their bodies are going to die</p>
<p>—— Many people write wills, take out life insurance</p>
<p>—— they believe they are going to die</p>
</li>
<li>
<p>Death seems not vivid for us</p>
<p>—— People who have brushes with death change their behavior in significant ways.</p>
</li>
</ul>
</li>
</ol>
<h2 id="we-die-alone"><a class="markdownIt-Anchor" href="#we-die-alone"></a> We die alone</h2>
<blockquote>
<p>It seems like a deep insight into the nature of death. What could it possible mean when people say “everyone dies alone”?</p>
</blockquote>
<ul>
<li>
<p>Not being with others or things I do by myself</p>
<ol>
<li>
<p>The most natural, straightforward interpretation, to say that somebody do something alone means they do it not in the presence of others.</p>
<p>—— Sometimes people die in the presence of others.</p>
</li>
<li>
<p>Even if there are others with you, dying is something that you’re doing alone.</p>
<p>—— We could have battlefields in which many people are dying along with others</p>
</li>
<li>
<p>People dying alone in the sense that he’s doing it by themselves. It can’t be a joint undertaking.</p>
<p>—— Some sort of suicide pact.</p>
</li>
<li>
<p>Even if I’m dying with other, nobody can take my part. Nobody can die your death for you.</p>
<p>—— It seems that somebody could take my place at the guillotine. (?</p>
<p>—— Nobody can take my place at my death. <u>My death</u> is something that only I can undergo.</p>
</li>
</ol>
</li>
<li>
<p>A kind of metaphor, being alone</p>
<ul>
<li>When we die, it’s as though we were alone. It’s like being alone.</li>
<li>Maybe a psychological claim that the psychological state we are in when we die similar to loneliness</li>
<li>Is it true that everybody dies alone in this psychological sense?</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Humanities</category>
      </categories>
      <tags>
        <tag>Philosophy</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS 第三方登录</title>
    <url>//ios-third-party-login/</url>
    <content><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1>
<p>现在市面上常见的 App 都开放了第三方平台登录的功能，为用户注册账号和登录账号带来了较大的便利，有效提升了用户的使用体验。近期，我司也引入了 Apple 和 Google 两个平台的第三方账号登录，本文将会对本次第三方平台接入的开发流程做详细的介绍。</p>
<h1 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h1>
<p>总的来说，App 要实现第三方账号登录的功能，大体可以按照以下三个步骤来实现：</p>
<pre class="mermaid">graph LR
login_with_sdk[获取授权信息] ---> verify_info[校验授权信息] ---> other_process[校验结果处理]</pre>
<ol>
<li>获取用户授权：通过第三方 SDK 获得用户授权，并获取授权数据用于接入第三方平台服务；</li>
<li>校验授权信息：通过第三方服务校验获得的授权数据，校验成功即可认为是第三方账号认证成功；</li>
<li>校验结果处理：从前两步中，我们可以获得第三方账号的邮箱（或其它的唯一标识），通过这个唯一标识我们可以对接自己平台的账号系统，校验该账号是否已经注册过。如果该账号已经注册或绑定过，则直接登录成功，否则引导用户创建新账号或绑定已有账号。</li>
</ol>
<p>本小节将会稍微扩展上面的框图的内容，让读者对完整的流程有一个更具体的认知。而后本文后续章节将会以三个步骤作为主题分别进行详细阐述。</p>
<h2 id="oauth-20"><a class="markdownIt-Anchor" href="#oauth-20"></a> OAuth 2.0</h2>
<p>在进入正文之前，我们先提一下 OAuth 协议。</p>
<p>OAuth 2.0 协议是一种三方授权协议，目前大部分的第三方登录与授权都是基于该协议的标准或改进实现，通过这个授权流程，服务提供方允许用户授权第三方应用访问他们存储在另外的服务提供者上的信息，而不需要将用户名和密码提供给第三方移动应用或分享他们数据的所有内容。其基本流程如下所示：</p>
<figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="code"><pre><span class="line">+--------+                               +---------------+</span><br><span class="line">     |        |--(A)- Authorization Request -&gt;|   Resource    |</span><br><span class="line">     |        |                               |     Owner     |</span><br><span class="line">     |        |&lt;-(B)-- Authorization Grant ---|               |</span><br><span class="line">     |        |                               +---------------+</span><br><span class="line">     |        |</span><br><span class="line">     |        |                               +---------------+</span><br><span class="line">     |        |--(C)-- Authorization Grant --&gt;| Authorization |</span><br><span class="line">     | Client |                               |     Server    |</span><br><span class="line">     |        |&lt;-(D)----- Access Token -------|               |</span><br><span class="line">     |        |                               +---------------+</span><br><span class="line">     |        |</span><br><span class="line">     |        |                               +---------------+</span><br><span class="line">     |        |--(E)----- Access Token ------&gt;|    Resource   |</span><br><span class="line">     |        |                               |     Server    |</span><br><span class="line">     |        |&lt;-(F)--- Protected Resource ---|               |</span><br><span class="line">     +--------+                               +---------------+</span><br></pre></td></tr></table></figure>
<p>这里提及 OAuth2.0 不是为了详细介绍该协议的原理、设计和实现，而是想让读者带着一个高的视角看待第三方登录的流程设计。</p>
<p>实际上，本文是围绕着上图的步骤 A 到步骤 D来进行介绍的，从 A 到 D 即可完成第三方平台账号的授权和验证。由于 VeSync 有自己的账号体系和资源体系，目前也没有使用第三方平台的服务的需求，步骤 E 和 F 在这篇文章中将不会提及。</p>
<h2 id="详细流程"><a class="markdownIt-Anchor" href="#详细流程"></a> 详细流程</h2>
<pre class="mermaid">graph TB
select_login(用户选择第三方账号登录) ---> start_verification[发起授权请求，用户登录第三方账号]
subgraph 获取第三方授权
start_verification ---> request_verification[客户端获取授权信息]
request_verification ---> server_verify[提交授权信息给云]
end
server_verify ---> check_account{授权信息是否验证成功}
subgraph 校验授权信息
check_account --YES--> check_binding{第三方账号是否已绑定 VeSync 账号}
end
check_binding --NO(账号不存在)--> create_or_bind_account{用户选择创建/绑定账号}
subgraph 校验结果处理
check_account --NO(验证失败)--> login_failed(失败)
check_binding -- YES(登录成功) --> login_success_and_go_home_page(登录/注册成功)
create_or_bind_account --绑定--> bind_account[绑定账号流程]
create_or_bind_account --创建--> create_account[创建账号流程]
end
bind_account ---> login_success_and_go_home_page
create_account ---> login_success_and_go_home_page</pre>
<p>概述中的三个步骤在上图中进行了适当的细节扩充，本文将会围绕其进行具体的实现方式介绍，并有一些在开发过程中的踩坑分享。</p>
<p>实际上，上图省略了一些具体业务需求的处理步骤，如检查第三方账号的合法性、第三方账号怎么和 VeSync 账号绑定、各种用户引导及错误处理。这些步骤虽重要，但不具有代表性和通用性，不会在本文作详细说明。</p>
<h1 id="获取授权信息"><a class="markdownIt-Anchor" href="#获取授权信息"></a> 获取授权信息</h1>
<p>从用户视角看来，点击第三方登录的按钮之后，会有输入框让用户登录第三方账号并请求授权，在登录成功并完成授权动作之后，App 就会开启第三方账号登录的流程。流程的第一步就是通过 SDK 或其它官方途径者获取授权信息。</p>
<p>下面以 iOS 平台为例，介绍获取 Apple 和 Google 的用户授权信息的方式。</p>
<h2 id="apple"><a class="markdownIt-Anchor" href="#apple"></a> Apple</h2>
<blockquote>
<p>⚠️ 注意</p>
<p>从 <strong>iOS13</strong> 开始，如果 <strong>App</strong> 提供第三方登录，就必须添加 <strong>苹果登录 Sign in with Apple</strong> 选项，并要求所有开发者于 <strong>2020年4月之前</strong> 完成现有应用的更新，否则审核不通过。</p>
</blockquote>
<h3 id="配置"><a class="markdownIt-Anchor" href="#配置"></a> 配置</h3>
<blockquote>
<p>要在 App 实现 Apple 登录，需要在工程及开发者账号中都配置相关的功能。</p>
</blockquote>
<ol>
<li>
<p>账户配置</p>
<p>在 Apple 开发者账户中开启 AppID 对应的 Apple 登录的功能，具体流程可以参考<a href="https://developer.apple.com/cn/help/account/capabilities/about-sign-in-with-apple/">官方文档</a>，创建完成后应如下图：</p>
<p><img src="../images/87247ec539b0c21ffb0767926a7eff38.png" alt="image.png" /></p>
</li>
<li>
<p>工程配置</p>
<p>如下图所示在 Xcode 中配置工程的 Capabilities 开启 App 的 Apple 登录功能。</p>
<p><img src="../images/5d3a41352ef9c39cf26e3b11f6c524d2.png" alt="image.png" /></p>
</li>
</ol>
<h3 id="实现"><a class="markdownIt-Anchor" href="#实现"></a> 实现</h3>
<blockquote>
<p>在 iPhone 上，使用原生方式开发的 APP 可以直接调用苹果的框架 <code>AppleService</code> 获取 Apple 授权并登录。本部分主要参考 <a href="https://developer.apple.com/documentation/authenticationservices/implementing-user-authentication-with-sign-in-with-apple">Apple 官方文档</a>。</p>
</blockquote>
<ol>
<li>
<p>发起授权请求</p>
<p>在这个过程中我们需要使用 <code>ASAuthorization</code> 服务调起获取 Apple 授权的弹窗。</p>
<p>我们需要配置的信息有：</p>
<ul>
<li>需要获取的授权方式<code>ASAuthorizationAppleIDCredential</code> ，这个授权方式决定了 Apple 会返回给我们的信息，需要在代理方法中处理。</li>
<li>代理对象 <code>delegate</code> ，授权结果会通过代理方法返回给调用方。</li>
<li>需要获取的用户信息<code>requestedScopes</code> 在用户首次获取授权的时候，Apple 会通过代理返回这些信息。</li>
<li>配置弹窗上下文 <code>presentationContextProvider</code> ，Apple 的授权系统弹窗会在给定的页面弹出，一般来说，这里只要获取导航堆栈中的栈顶控制器即可。</li>
</ul>
<p>配置好这些信息后，通过<code>performRequests()</code> 调用即可唤起系统弹窗，获取授权。</p>
 <figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> appleIDProvider <span class="operator">=</span> <span class="type">ASAuthorizationAppleIDProvider</span>()</span><br><span class="line"><span class="keyword">let</span> request <span class="operator">=</span> appleIDProvider.createRequest()</span><br><span class="line">request.requestedScopes <span class="operator">=</span> [.fullName, .email]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> authorizationController <span class="operator">=</span> <span class="type">ASAuthorizationController</span>(authorizationRequests: [request])</span><br><span class="line">authorizationController.delegate <span class="operator">=</span> <span class="keyword">self</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> topVc <span class="operator">=</span> <span class="type">Tool</span>.topViewController() <span class="keyword">as?</span> <span class="type">ASAuthorizationControllerPresentationContextProviding</span> &#123;</span><br><span class="line">		authorizationController.presentationContextProvider <span class="operator">=</span> topVc</span><br><span class="line">&#125;</span><br><span class="line">authorizationController.performRequests()</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>处理回调事件</p>
<p>在用户授权成功或授权失败后，会通过两个代理方法通知业务方。</p>
<ul>
<li>
<p><code>didCompleteWithAuthorization</code></p>
<p>通过回调方法中的 authorization 对象可以获取我们需要的授权信息。在前一步中我们选择获取 AppleID 的授权信息，用于认证授权的参数包括<code>authorizationCode</code> 和 <code>identityToken</code>，这两个参数的作用和区别将会在下文“校验授权信息”这一小节中详细介绍。</p>
<p>在用户首次获得用户授权时，SDK 还会提供 <code>userID</code> 这个参数给我们。这是一个苹果用户唯一标识符，它在同一个开发者账号下的所有 App 下是一样的，我们可以用它来与后台的账号体系绑定起来。</p>
</li>
<li>
<p><code>didCompleteWithError</code></p>
<p>在授权失败时 Apple 会调用该方法，我们可以在这里面做错误处理。</p>
</li>
</ul>
 <figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">XXX</span>: <span class="title class_">ASAuthorizationControllerDelegate</span> &#123;</span><br><span class="line">    <span class="comment">/// - Tag: did_complete_authorization</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">authorizationController</span>(<span class="params">controller</span>: <span class="type">ASAuthorizationController</span>, <span class="params">didCompleteWithAuthorization</span> <span class="params">authorization</span>: <span class="type">ASAuthorization</span>) &#123;</span><br><span class="line">        <span class="keyword">switch</span> authorization.credential &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="keyword">let</span> appleIDCredential <span class="keyword">as</span> <span class="type">ASAuthorizationAppleIDCredential</span>:</span><br><span class="line">            <span class="keyword">guard</span> <span class="keyword">let</span> identityTokenData <span class="operator">=</span> appleIDCredential.identityToken,</span><br><span class="line">                  <span class="keyword">let</span> identityToken <span class="operator">=</span> <span class="type">String</span>(data: identityTokenData, encoding: .utf8),</span><br><span class="line">                  <span class="keyword">let</span> authorizationCodeData <span class="operator">=</span> appleIDCredential.authorizationCode,</span><br><span class="line">                  <span class="keyword">let</span> authorizationCode <span class="operator">=</span> <span class="type">String</span>(data: authorizationCodeData, encoding: .utf8) <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">            <span class="keyword">let</span> userID <span class="operator">=</span> appleIDCredential.user</span><br><span class="line">            <span class="keyword">self</span>.tryLogin(identityToken: identityToken, </span><br><span class="line">							            authorizationCode: authorizationCode, </span><br><span class="line">								          userID: userID)</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">/// - Tag: did_complete_error</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">authorizationController</span>(<span class="params">controller</span>: <span class="type">ASAuthorizationController</span>, <span class="params">didCompleteWithError</span> <span class="params">error</span>: <span class="type">Error</span>) &#123;</span><br><span class="line">        <span class="comment">// Handle error.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>校验授权状态</p>
<p>除了通过如下方法主动获取用户的授权信息，我们还可以以通知的方式监听用户是否取消了授权，苹果提供的通知名称为<code>ASAuthorizationAppleIDProvider.credentialRevokedNotification</code> 。</p>
 <figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> appleIDProvider <span class="operator">=</span> <span class="type">ASAuthorizationAppleIDProvider</span>()</span><br><span class="line">appleIDProvider.getCredentialState(forUserID: <span class="type">KeychainItem</span>.currentUserIdentifier) &#123; (credentialState, error) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">switch</span> credentialState &#123;</span><br><span class="line">    <span class="keyword">case</span> .authorized:</span><br><span class="line">        <span class="keyword">break</span> <span class="comment">// The Apple ID credential is valid.</span></span><br><span class="line">    <span class="keyword">case</span> .revoked, .notFound:</span><br><span class="line">        <span class="comment">// The Apple ID credential is either revoked or was not found, so show the sign-in UI.</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>主动撤销授权</p>
<p>根据苹果<a href="https://developer.apple.com/documentation/signinwithapplerestapi/revoke_tokens">官方文档</a>，调用 URL（<a href="https://appleid.apple.com/auth/revoke">https://appleid.apple.com/auth/revoke</a>）以撤销用户授权。但考虑到以下原因，主动撤销授权的操作应由服务端进行操作。</p>
<ul>
<li>接口调用需要的参数都保存在云端</li>
<li>多端调用场景（iOS、Android、Web）</li>
<li>数据安全</li>
</ul>
</li>
</ol>
<h2 id="google"><a class="markdownIt-Anchor" href="#google"></a> Google</h2>
<blockquote>
<p>在 iPhone 上的原生 APP 可以使用 Google 提供的框架 GoogleSignIn 获取用户授权。</p>
</blockquote>
<h3 id="配置-2"><a class="markdownIt-Anchor" href="#配置-2"></a> 配置</h3>
<ol>
<li>
<p>Google 开发者账号配置</p>
<blockquote>
<p>这里的配置流程主要参考<a href="https://developers.google.com/identity/sign-in/ios/start-integrating?hl=zh-cn#configure_app_project">官方文档</a></p>
</blockquote>
<p>在 Google 开发者账号中创建/获取客户端 ID 和服务器客户端 ID。</p>
<p>创建好的客户端 ID 如图：</p>
<p><img src="../images/bd8c1e247c9406ca02b64d49f28a467d.png" alt="image.png" /></p>
<p>创建好的服务器客户端 ID 如图：</p>
<p><img src="../images/fa59812d0ac3e304b73090bc93e85ee2.png" alt="image.png" /></p>
</li>
<li>
<p>Xcode 项目配置</p>
<p>需要在 Xcode 工程配置中添加 Google 开发者账号相关配置信息，把第一步中获取的两个 ID 添加到 <code>Info.plist</code> 文件中，形式如下：</p>
 <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>GIDClientID<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>YOUR_IOS_CLIENT_ID<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleURLTypes<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleURLSchemes<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">		        <span class="tag">&lt;<span class="name">string</span>&gt;</span>YOUR_DOT_REVERSED_IOS_CLIENT_ID<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>GIDServerClientID<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>YOUR_SERVER_CLIENT_ID<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>其中有两点需要注意：</p>
<ol>
<li>如果你的 App 在开发环境与线上环境使用的是不同的 AppID，那上面的账号和项目配置也需要创建两套不同的账号，同时在 plist 文件中也需要按环境区分不同的配置</li>
<li><code>GIDServerClientID</code> 是后端使用的 ID，当 App 的授权流程需要后端身份验证的时候，需要配置该 ID。</li>
</ol>
</li>
</ol>
<h3 id="实现-2"><a class="markdownIt-Anchor" href="#实现-2"></a> 实现</h3>
<p>Google 登录流程比 Apple 登录流程简单，具体如下。</p>
<ol>
<li>
<p>通过 Cocoapods 或者 SPM 集成 <a href="https://github.com/google/GoogleSignIn-iOS">GoogleSignIn</a> SDK。</p>
</li>
<li>
<p>发起授权请求</p>
<p>通过 SDK 的方法获取 Google 授权。授权成功后会执行闭包中的代码，可以在 <code>signInResult</code> 中可以获取 userInfo、idToken 等必要信息，进而处理登录业务。</p>
 <figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">GIDSignIn</span>.sharedInstance.signIn(withPresenting: <span class="keyword">self</span>) &#123; signInResult, error <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">guard</span> error <span class="operator">==</span> <span class="literal">nil</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>校验授权状态</p>
<p>通过 SDK 提供的方法校验用户授权状态</p>
 <figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">GIDSignIn</span>.sharedInstance.restorePreviousSignIn &#123; user, error <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">if</span> error <span class="operator">!=</span> <span class="literal">nil</span> <span class="operator">||</span> user <span class="operator">==</span> <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="comment">// Show the app&#x27;s signed-out state.</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Show the app&#x27;s signed-in state.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>撤销授权</p>
<p>通过 SDK 提供的方法主动撤销用户授权</p>
 <figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">GIDSignIn</span>.sharedInstance.disconnect &#123; error <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">guard</span> error <span class="operator">==</span> <span class="literal">nil</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// Google Account disconnected from your app.</span></span><br><span class="line">    <span class="comment">// Perform clean-up actions, such as deleting data associated with the</span></span><br><span class="line">    <span class="comment">//   disconnected account.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="校验授权信息"><a class="markdownIt-Anchor" href="#校验授权信息"></a> 校验授权信息</h1>
<p>在 App 成功获取授权信息之后，会调用云接口将授权数据传给云端，云端需要校验此信息是否合法，根据采用的获取到的授权信息类型不同，会有不同的校验方式。在这一步骤中，主要是云与第三方平台服务端的交互。</p>
<pre class="mermaid">sequenceDiagram
    participant 应用
    participant 第三方SDK
    participant 云
    participant 第三方服务器

    应用->>第三方SDK: 1. 发起登陆请求
    第三方SDK-->>第三方服务器: 
    第三方服务器-->>第三方SDK: 
    第三方SDK-->>应用: 2. 返回授权数据
    应用->>云: 3. 客户端向后台提交授权数据
    云->>第三方服务器: 4. 后台向第三方服务器验证授权信息
    第三方服务器-->>云: 5. 返回验证结果
    云-->>应用: 6. 告知客户端验证结果</pre>
<p>在第三方登录过程中。几个相关角色的交互大致如上图所示，其中步骤 1、2 已经在上文详细介绍过了，本小节将会以 Apple 登录数据验证为例子，围绕步骤 4 和步骤 5 进行介绍。</p>
<h2 id="apple-2"><a class="markdownIt-Anchor" href="#apple-2"></a> Apple</h2>
<p>在上文已经提到， iOS App 从 Apple SDK 中可以获取两种授权数据，分别是<code>authorizationCode</code> 和 <code>identityToken</code>，针对不同的数据，苹果提供了对应的验证方式。</p>
<p>在这里我们介绍一下两种数据：</p>
<ol>
<li>
<p>authorizationCode</p>
<p>本质上是 Apple 颁发的授权码。App 把数据传给云，然后由云端再向苹果的身份验证服务端验证本次授权登录请求数据的有效性和真实性。这是类似 OAuth2 的授权码验证方式。</p>
</li>
<li>
<p>identityToken</p>
<p>identityToken 是一个经过签名的 JWT 数据 （<a href="https://link.juejin.im/?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FJSON_Web_Token">JSON Web Token</a>），通过向苹果身份验证服务器获取公钥再进行解密、匹配等步骤，我们可以验证此数据是否被篡改、是否合法。</p>
</li>
</ol>
<p>云端可以自由选择这两个参数进行校验，只要有一个验证方式能够通过，即可视为本次授权校验成功。</p>
<h3 id="基于授权码的验证"><a class="markdownIt-Anchor" href="#基于授权码的验证"></a> 基于授权码的验证</h3>
<blockquote>
<p>该算法用来验证<code>authorizationCode</code></p>
</blockquote>
<p>使用 authorizationCode 进行验证，调用 URL <a href="https://appleid.apple.com/auth/token">https://appleid.apple.com/auth/token</a> 进行验证</p>
<p>该流程可参考<a href="https://developer.apple.com/documentation/signinwithapplerestapi/generate_and_validate_tokens">官方文档</a>，简单的说，就是构建一个网络请求，成功返回即验证成功。</p>
<p>在构建的 request 中有一个 <code>client_secret</code> 字段需要我们自行<a href="https://developer.apple.com/documentation/accountorganizationaldatasharing/creating-a-client-secret">构建一个 JWT 数据</a>，里面包含了开发者账户信息（TeamID、KeyID），应用信息（App 的 BundleID）相关的配置。在构建数据的时候需要注意区分不同开发环境、不同登录客户端，这些差异会导致参数的值不同。</p>
<h3 id="基于-jwt-的算法验证"><a class="markdownIt-Anchor" href="#基于-jwt-的算法验证"></a> 基于 JWT 的算法验证</h3>
<blockquote>
<p>该算法用来验证<code>identityToken</code> 参数</p>
</blockquote>
<p>一个 JWT 有三个部分：header、payload、signature，如下图所示</p>
<p><img src="../images/3b9ddd9fb23a06a5cadfd6df464a64ea.png" alt="image.png" /></p>
<blockquote>
<p>这里附上一个<a href="https://jwt.io/">JWT 在线解析</a>的工具</p>
</blockquote>
<p>服务端在获取客户端发出的<code>identityToken</code>后，需要进行如下步骤：</p>
<ol>
<li>需要逆向构造过程，decode出JWT的三个部分</li>
<li>从<a href="https://link.juejin.cn/?target=https%3A%2F%2Fappleid.apple.com%2Fauth%2Fkeys">appleid.apple.com/auth/keys</a>中获取公钥，并将公钥<a href="https://link.juejin.cn/?target=https%3A%2F%2F8gwifi.org%2Fjwkconvertfunctions.jsp">转换</a>为<code>pem</code>对JWT进行验证；获取到的公钥会有多个，需要根据 head 里的 kid 和 alg 去选取正确的公钥</li>
<li>如<code>identityToken</code>通过验证，则可以根据其payload中的内容进行验证等操作</li>
</ol>
<p>这里需要再补充说明一下 identityToken 验证原理和方式：<code>idnetityToken</code>使用非对称加密 RSASSA（RSA签名算法） 和 ECDSA（椭圆曲线数据签名算法），当验证签名的时候，利用公钥来解密Singature，满足下列条件时，验证通过：</p>
<ol>
<li>与<code>base64UrlEncode(header) + &quot;.&quot; + base64UrlEncode(payload)</code>的内容完全一样</li>
<li><code>iss</code> 与 <code>aud</code> 字段匹配</li>
<li><code>exp</code> 过期时间未过</li>
</ol>
<p>另外，我们从解析出来的 JWT 文件中还能获取到一些其他信息</p>
<ol>
<li>
<p>email</p>
<p>Apple 账号的邮箱。上文已经提过，<code>ASAuthorization</code> 服务的登录成功回调事件只有在首次授权的时候才会返回用户信息（用户邮箱），如果后端业务需要使用到用户邮箱，则可以在 JWT 里获取。</p>
</li>
<li>
<p>email_verified</p>
<p>该字段表明用户邮箱是否已经经过认证</p>
</li>
<li>
<p>is_private_email</p>
<p>这个字段表明用户是否隐藏邮箱，即用户的邮箱是否为中转邮箱。</p>
<p>Apple 在首次获取用户授权时会询问用户是否要分享自己的邮件地址给第三方平台。如果用户选择不分享，即隐藏邮件地址，Apple 会生成一个中转邮箱（类似<u><a href="mailto:xxxxxx@privaterelay.appleid.com">xxxxxx@privaterelay.appleid.com</a></u>）给到第三方平台以进行必要的业务操作，如第三方平台账号的邮箱信息、发送营销或通知邮件等。</p>
<blockquote>
<p>如果需要通过中转邮箱给用户发送邮件，需要在 Apple 开发者账号配置信任邮箱，只有在信任列表里的邮箱才能通过中转邮箱给用户发送邮件、接收用户的邮件。</p>
</blockquote>
</li>
</ol>
<h2 id="google-2"><a class="markdownIt-Anchor" href="#google-2"></a> Google</h2>
<p>Google 登录的验证流程与 Apple 的 JWT 验证流程基本一致（参考<a href="https://developers.google.com/identity/sign-in/ios/backend-auth?hl=zh-cn">官方文档</a>），其中 App 从 SDK 获取的 JWT 数据参数名为 <code>idToken</code> 。</p>
<h1 id="校验结果处理"><a class="markdownIt-Anchor" href="#校验结果处理"></a> 校验结果处理</h1>
<p>来到这一步，说明我们已经完成第三方账号的授权获取和校验了，此时我们可以将第三方账号的数据对接我们已有的账号系统。</p>
<p>在这个步骤中，业务流程是具体业务需求决定的，并不是一个通用规范的做法，在不同业务主体可能会有不同的设计方案。这里简单介绍一下 VeSync App 的做法。</p>
<p>VeSync 采用邮箱作为 Key 来链接第三方账号和 VeSync 账号。其中，Apple 登录方式的邮箱可以从 JWT 数据中解析出来，Google 登录方式的邮箱则是由 SDK 直接返回，由 App 传给云端即可。</p>
<p>云会校验该邮箱是否已经绑定过 VeSync 账号：</p>
<ol>
<li>
<p>已绑定</p>
<p>这意味着这个第三方账号的用户已经通过三方登录的方式创建过账号，或绑定过账号。此时我们可以直接为该用户颁发通行密钥（token），App 拿到密钥之后可以直接登录，使用 VeSync 的服务，此时我们获取第三方账号的信息是用来<strong>登录</strong>的</p>
</li>
<li>
<p>未绑定</p>
<p>此时 App 需要引导用户绑定已有账号或创建新账号，大致流程如下所示。就是此时我们获取第三方账号的信息可能用来<strong>登录</strong>或<strong>注册</strong> 。流程结束后，用户即可成功登录使用 VeSync 的服务。</p>
<p>需要额外说明的是，在建立已有账号与第三方账号的绑定关系的过程中，需要校验已有账号是否已经绑定过同一平台的第三方账号，如果已经绑定过，则需要额外的流程（如直接替换，或提示用户选择其中一个）进行处理。</p>
</li>
</ol>
<pre class="mermaid">graph LR

create_or_bind_account{创建/绑定账号}
create_or_bind_account --绑定--> bind_account[通过邮箱登录已有账号]
create_or_bind_account --创建--> create_new_account[使用邮箱创建新账号]
subgraph 创建账号流程
create_new_account ---> user_login_with_region1[建立新账号与第三方账号的绑定关系]
end
subgraph 绑定账号流程
bind_account ---> user_login_with_region2[建立已有账号与第三方账号的绑定关系]
end
user_login_with_region1 ---> login_success_and_go_home_page

user_login_with_region2 ---> login_success_and_go_home_page(登录成功)</pre>
<p>在完成账号的创建和绑定过程之后，与第三方账号相关的业务流程就结束了。此时我们会处于登录状态，用户就可以使用 App 了。</p>
<h1 id="尾声"><a class="markdownIt-Anchor" href="#尾声"></a> 尾声</h1>
<p>通过本文的介绍，我们了解了第三方授权信息的获取和校验的流程，同时大致梳理了现行账号体系接入第三方账号的流程，希望这些内容能够帮助到您。</p>
<p>感谢您的阅读，希望本文对您在接入第三方平台登录方面有所启发。</p>
]]></content>
      <categories>
        <category>Programming</category>
      </categories>
      <tags>
        <tag>iOS</tag>
        <tag>OAuth</tag>
      </tags>
  </entry>
  <entry>
    <title>哲学-死亡（二）</title>
    <url>//philosophy-death-2/</url>
    <content><![CDATA[<h1 id="value-theory"><a class="markdownIt-Anchor" href="#value-theory"></a> Value Theory</h1>
<blockquote>
<p>ethical or value questions</p>
</blockquote>
<h2 id="the-badness-of-death"><a class="markdownIt-Anchor" href="#the-badness-of-death"></a> The badness of death</h2>
<h3 id="the-deprivation-account"><a class="markdownIt-Anchor" href="#the-deprivation-account"></a> The deprivation account</h3>
<ul>
<li>
<p>If we believe death is the end, how could death be bad for me?</p>
<p>I don’t exist, it can’t be bad for me</p>
</li>
<li>
<p>Death is bad for the survivors</p>
<p>It means losing friends or family for the survivors</p>
<p>—— Learning of a friend’s death is more terrifying than being separated from a friend</p>
<p>—— It can’t be at the core in terms of what’s bad about death.</p>
</li>
<li>
<p>The central badness of death</p>
<p>How could it be true that death is bad for the person that dies?</p>
<p>—— We’ve got to focus on my being dead rather than being afraid of dead.</p>
</li>
<li>
<p>Physicalists: Once I die, I cease to exist. I don’t exist.</p>
<p>How can nonexistence be bad for me?</p>
</li>
<li>
<p>distinction between two different way  in which something can be bad for me.</p>
<ol>
<li>
<p>In an absolute, robust intrinsic sense (Pain)</p>
<p>Something we want to avoid for its own sake.</p>
<p>—— They are bad by virtue of their very nature.</p>
</li>
<li>
<p><code>comparatively sense</code></p>
<p>While you’re doing this, you are not getting something better.</p>
<p>Something can be bad comparatively, something can be bad because of what you are not getting while you get this bad thing.</p>
<p>—— They are by virtue of “The opportunity costs”.</p>
</li>
</ol>
</li>
<li>
<p>The deprivation account of the evil or badness of death</p>
<p>dead is bad because of the lack of the good things in life (in second sense)</p>
</li>
<li>
<p>OBJECTION</p>
<ol>
<li>
<p>Timing of the badness of death</p>
<blockquote>
<p>If anything is true, any fact has to have a time when it’s true</p>
</blockquote>
<p>If dead is bad for me, it’s a fact, when is that fact true?</p>
<p>Death can’t be bad for me now, because I’m alive. Death can’t be bad for me when I’m dead, because I’m no more.</p>
<p>—— My death is bad for me during the time I’m dead. Because during that time I’m deprived of the good things in life.</p>
<ul>
<li>
<p>Argument</p>
<ol>
<li>something can be bad for you only if you exist. - <code>Existence requirement</code></li>
<li>when you’re dead you don’t exist - Truth</li>
<li>CONCLUSION: Death can’t be bad for you</li>
</ol>
</li>
<li>
<p>Argument of existence requirement</p>
<p>Nonexistence guarantee that you’re deprived of something</p>
<p>—— death is bad by rejecting the existence requirement</p>
<p>—— for the potential never-to-be-born people, a lot of people, that it’s a tragedy that they never get born, it’s a moral tragedy</p>
</li>
<li>
<p>Two version of Existence requirement</p>
<ol>
<li>Modest version: something can be bad for you only if you exist at <u>some</u> time or the other - Accepted</li>
<li>Bolder version:  something can be bad for you  only if you exist at the <u>same</u> time as that thing</li>
</ol>
</li>
<li>
<p>The Modest Existence requirement maybe the best possible view.</p>
</li>
</ul>
</li>
<li>
<p>Nonexistence before we born and after we die —— Lucretius’ puzzle</p>
<ul>
<li>
<p>Common response</p>
<p>The period after my death, I am no longer alive, I have <u>lost</u> my life</p>
<p>In contrast, the period before my birth, although I’m not alive, I have not lost my life, I’ve never yet been alive. —— You cannot lost something you’ve never yet had.</p>
</li>
<li>
<p>Schmoss (尚无)</p>
<p>The period before my birth, there’s no loss of life, but there’s a schmoss of life.</p>
<p>—— What is it about the fact that we don’t have something that we used to, that makes it worse than that no having something that we’re going to?</p>
<p>—— Why do we care more about not having what once upon a time we <u>did</u>, than we care about not having what once upon a time we <u>will</u>?</p>
</li>
<li>
<p>Arguments</p>
<ul>
<li>
<p>Nagel’s answer</p>
<p>The date of my death is a <u>contingent</u> fact about me, but the date of my birth is not a contingent fact about me.</p>
<p>The date of my birth mean the time at which I come in to existence.</p>
<p>That’s an <u>essential</u> moment in my life story.</p>
<p>—— fertility clinic, not to be an adequate answer</p>
</li>
<li>
<p>Fred Feldman’s answer</p>
<p>When we imagine being born earlier, we don’t imagine a longer life, we imagine <u>shift my life forward</u>.</p>
<p>—— If I can born earlier, I can have a longer life for now</p>
</li>
<li>
<p>Derek Parfit ’s answer</p>
<p>Why loss is worse than schmoss? Because we have of caring about the future in a way that we don’t care about the past. It’s a very deep fact about <u>human caring</u>.</p>
<p>e.g.: We do want the pain to be in the past. We don’t want the pain in the future.</p>
</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="immortality"><a class="markdownIt-Anchor" href="#immortality"></a> Immortality</h3>
<ul>
<li>
<p>Question One</p>
<blockquote>
<p>Does consistency, does logic, require somebody who accepts the deprivation account believe immortality is a good thing? —— No</p>
</blockquote>
<p>Strictly speaking, what the deprivation account says is, death is bad insofar as you’re deprived of the good things.</p>
<p>Dead is bad, when it’s bad, by virtue of the fact that it deprives you of the good things in life.</p>
<ul>
<li>We’re not committed to the claim that death is always bad. We have to look and see, what would life actually hold out for us.</li>
<li>Things that are good for you in limited quantities can become bad for you if you get more and more of them.</li>
</ul>
</li>
<li>
<p>Question Two</p>
<blockquote>
<p>Even if logic doesn’t require that, is it true that immortality is a good thing?</p>
</blockquote>
<ul>
<li>
<p>What should we think about the prospect of living forever?</p>
</li>
<li>
<p>Older, weaker, discomfort.</p>
<p>Death is blessing, because it puts an end to the pain and suffering and misery that afflict us in our old age.</p>
</li>
<li>
<p>Science fiction. Health and anything you want. Is it could be a good thing?</p>
<ul>
<li>
<p>What kind of life can you imagine such that having that life forever would be good?</p>
<p>—— No kind of life would be one that would be desirable and attractive forever. Every life would be eventually become tedious and worse.</p>
<p>—— The fact of out mortality is good rather than bad.</p>
</li>
<li>
<p>To say that immortality is bad is not to say it’s a good thing that we die when we do. It could be bad that it comes too soon for all of us</p>
</li>
</ul>
</li>
<li>
<p>Imagine a pleasure-making machine</p>
<ul>
<li>Imagine we have a intense burst of pleasure going on forever.</li>
<li>Humans have ability to look down on their experiences, we can reflect on our first order or base level experiences.</li>
<li>“Is this all that there is to life?” That question would gnaw at you and sour and override the pleasure.</li>
<li>You would found that you were stuck in this rat-like existence. The human part of you is going to rebel at the unending parade of simple rat-like pleasures.</li>
</ul>
</li>
<li>
<p>Imagine a cycling with the memory loss</p>
<ul>
<li>Living immortality with a kind of amnesia, a kind of progressive lack of memory, or radical alterations of my memory.</li>
<li>Think about personal identity: What I want isn’t merely for somebody to be me, but to be sufficiently like me.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Bernard Williams</p>
<ul>
<li><u>Immortality wouldn’t be desirable. It would be a nightmare, something you would long to free yourself from.</u></li>
</ul>
</li>
</ul>
<h3 id="good-life"><a class="markdownIt-Anchor" href="#good-life"></a> Good life</h3>
<blockquote>
<p>The topic as the nature of wellbeing.</p>
</blockquote>
<ul>
<li>
<p>Instrumentally valuable &amp; Intrinsically valuable</p>
<p>We need to separate between those things that are good only because of what they lead to and those things that are valuable for their own sake or in their own right.</p>
<ul>
<li>What things are worth having for their own sake? Pleasure ↔ Pain</li>
</ul>
</li>
<li>
<p><code>Hedonism</code> （享乐主义）</p>
<ul>
<li>the only thing intrinsically valuable is pleasure, and the only thing intrinsically bad is pain.</li>
<li>Being well off is a matter of experiencing pleasure and avoiding the experience of pain.</li>
<li>Weight up the pleasures and pains in some appropriate way.</li>
</ul>
<p>BUT</p>
<ul>
<li>I’m inclined to think there’s more to the best kind of life than just having pleasure and avoiding pain.</li>
<li>Would life on the <code>experience machine</code> be better than it is now? Does life on the experience machine give you everything worth having in life?
<blockquote>
<p>experience machine is a thought experiment about the life of the best experience of existence given by the machine</p>
</blockquote>
</li>
<li>Would you want your entire life to be spent hooked up to the experience machine? —— NO</li>
<li>If life on the experience machine isn’t all that’s worth wanting out of life, then there; more to the best possible life than getting the inside right.</li>
</ul>
</li>
</ul>
<h3 id="value-of-life"><a class="markdownIt-Anchor" href="#value-of-life"></a> Value of life</h3>
<ul>
<li><code>Neutral container theory</code> 中性容器理论
<ul>
<li>Being alive per se has no value.</li>
<li>Life itself is a container, which we fill with various good or bad. And deciding how valuable it is, how good it is for me to be alive is a matter of adding up the value of the contents of the live. (Add up the experiences and accomplishments and the particular details of your life.)</li>
<li>But container itself is a mere container, it has no value in and of itself.</li>
</ul>
</li>
<li><code>Valuable container theory</code> 有价容器理论
<ul>
<li>Life per se is valuable.</li>
<li>Life itself if worth having. There’s a benefit to me above and beyond the question of what’s going on with in my life. I’m alive gives my life some value.</li>
<li>Being alive per se has some positive value.</li>
<li>Life may have value in and of itself, but it’s not mere life. What we want is the life of a human. —— life of a person per se that’s valuable.</li>
<li>Since we are adding extra positive points, for the fact that you’re alive, even if the contents subtotal of live is negative, the grand total could still be positive.</li>
</ul>
</li>
<li><code>Modest valuable container theory</code> 适度有价容器理论
<ul>
<li>There’s a value to being alive, but it can be outweigh.</li>
<li>Although being alive per se is good, if the contents of your life is bad enough, that can outweigh the value of being alive.</li>
</ul>
</li>
<li><code>Fantastic valuable container theory</code> 过度有价容器理论
<ul>
<li>Being alive per se is so incredibly valuable that no matter how horrible the contents are, the grand total can be always positive.</li>
</ul>
</li>
</ul>
<p>BUT</p>
<ul>
<li>
<p>Note that this assumption that the way to think about the value of the combination as just a matter of adding the goodness of life and the badness of death and just summing them that way, that may not be right.</p>
<p>Sometimes the value of a combination is different than the value you would get by just thinking about each one of the parts in isolation and then adding them up.</p>
<p>A kind of addition approach to value of wholes may not always be correct.</p>
</li>
<li>
<p>Does the fact that death follows life, does that produce any <u>interaction effects</u> between the two, which need to be added into our formula as well?</p>
<ul>
<li>
<p>Positive interaction effect</p>
<p>the fact the life is precious, that it won’t endure could actually increase its value for us.</p>
</li>
<li>
<p>Negative interaction effect</p>
<ul>
<li>
<p>“A Taste is Just a Tease” 玩笑体验</p>
<p>This is one of the negative things about the human condition that we get a taste of life  before it’s snatched away.</p>
</li>
<li>
<p>“How the Noble Have Fallen” 贵族落寞</p>
<p>People are amazing. And we end up rotting. We end up corpses.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="other-badness-of-death"><a class="markdownIt-Anchor" href="#other-badness-of-death"></a> Other badness of death</h3>
<blockquote>
<p>depriving isn’t the only badness of death</p>
</blockquote>
<ul>
<li>
<p><code>Inevitability</code> 必然性</p>
<ul>
<li>Individual question
<ul>
<li>Negative view: Powerless in the face of death. This sheer powerlessness about this central fact about the nature of my existence is an extra insult added to the injury.</li>
<li>Positive view: If we see that our death is inevitable and we really internalize that fact, perhaps that would reduce the badness of it.</li>
<li>It doesn’t help to say that it’s inevitable.</li>
</ul>
</li>
<li>Universal question
<ul>
<li>Negative view: Everybody die make it worse</li>
<li>Positive view: “Misery loves company”</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>Variability</code> 差异性</p>
<ul>
<li>
<p>Variability about how much live we get.</p>
</li>
<li>
<p>A further fact about human psychology that we care more about being short changed than we do about being overcompensated.</p>
<p>People who have less than the average of something it hurts them more than it benefits the people who have more than the average of something.</p>
<p>—— the extra bad of the fact that there’s variability and so some people get less than average that extra bad outweigh the extra benefit of some people having more than average.</p>
</li>
</ul>
</li>
<li>
<p><code>Unpredictability</code> 不可预见性</p>
<ul>
<li>
<p>You don’t know how much more time you’ve got.</p>
</li>
<li>
<p>Because of  unpredictability, you can’t really know, it’s difficult to make the right kinds of plans and in particular it’s hard to know how to pace yourself.</p>
</li>
<li>
<p><u>The narrative arc of your life</u> Matters. 生命叙事线</p>
<p>In thinking about these points, in effect we’re suggesting that the overall shape of your life matters. We care about the overall shape and trajectory of our life.</p>
<ul>
<li>Because of he unpredictability of death that our lives may not have the ideal shape.</li>
</ul>
</li>
<li>
<p>Whether it would really, all things considered, be better to know how much time you had?</p>
<p>Would knowing how much time you have be something that would allow you to actually embrace those choices, or would it instead just be a burden?</p>
</li>
</ul>
</li>
<li>
<p><code>Ubiquitous</code> 普遍性</p>
<ul>
<li>The possibility of death is ubiquitous. It’s pervasive.</li>
<li>What sorts of activities would you engage in if you knew that those activities carried with them the risk of dying?</li>
</ul>
</li>
</ul>
<h2 id="nature-of-death"><a class="markdownIt-Anchor" href="#nature-of-death"></a> Nature of death</h2>
<h3 id="disregard-the-death"><a class="markdownIt-Anchor" href="#disregard-the-death"></a> Disregard the death</h3>
<ul>
<li>
<p>What is it about the facts about life and death that seem to make it misguided to think we should just put them aside and pay no attention to them?</p>
<p>Presumably because we’re led to the thought that nature of death should have an impact on how we live. The appropriate way to live gets shaped at least in past by the fact that we’re going to die. It seems as though there’d be something irrational and inappropriate about simply disregarding those facts.</p>
</li>
<li>
<p>Two way in which facts could influence our behavior</p>
<ol>
<li>It could be that certain facts would <u>cause</u> you to behavior differently without actually giving you any reason to behave differently.</li>
<li>The facts change your behavior by giving you a reason to behave differently. The facts would give you some good <u>reason</u> to change.</li>
</ol>
<p>The mere fact that they would change your behavior doesn’t yet tell you they’re reason-generating facts.</p>
<p>If they’re mere causes and not reasons, then maybe it’s perfectly okay to disregard them.</p>
<p>But what if someone said that we should always be thinking about the facts about death?</p>
</li>
<li>
<p>There are times and places for thinking about the fact of death.</p>
<p>What is the appropriate response to to the facts about life and death?</p>
</li>
</ul>
<h3 id="response-to-death"><a class="markdownIt-Anchor" href="#response-to-death"></a> Response to death</h3>
<ul>
<li>
<p>Is fear of death a rationally <code>appropriate</code> response?</p>
<ul>
<li>What are the <u>appropriateness conditions</u> for fear?
<ol>
<li>To be afraid of something it’s got to be bad.</li>
<li>There’s got to be non-negligible change of the bad state of affairs happening.</li>
<li>We need to have a certain amount of uncertainty in order to have fear be appropriate.</li>
</ol>
</li>
<li>it doesn’t make fear appropriate if it’s obsessive fear, horrendous fear, tremendous fear.
<ul>
<li>Maybe some mild concern is all that’s appropriate if the chance are small.</li>
<li>The amount of fear needs to be proportioned to the size of the bad.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>What are we supposedly being afraid of when we are afraid of that? Perhaps two or three things need to be distinguished.</p>
<ol>
<li>
<p>Process of dying</p>
<p>Some people find that the actual process at the end of their life is a painful and unpleasant one.</p>
<p>The probability of death is low</p>
</li>
<li>
<p>Being dead</p>
<p>They are afraid of death itself, afraid of being dead.</p>
<p>Is being dead intrinsically a bad thing? Being dead per se is not the sort of thing it makes sense to be afraid of, once you’ve concluded that death is the end.</p>
</li>
<li>
<p>Unpredictability of death</p>
<p>We are afraid of when we are going to die.</p>
<p>It’s the unpredictability that leaves you in a position of not knowing whether death will come soon.or death will come late.</p>
</li>
</ol>
<ul>
<li>
<p>How much fear is appropriate?</p>
<p>How great is the change that you’ll die too soon? Your fear needs to be proportioned to the likelihood.</p>
</li>
</ul>
</li>
<li>
<p>Most part fear of death does not make sense</p>
</li>
<li>
<p>What about some of other possible emotions? What negative emotion does it make sense to feel about death itself, the fact that you’re going to die?</p>
<blockquote>
<p>Since we’ve argued that immortality would be bad, the fact that you will die is not actually bad. Because it saves you from the unpleasant aspect of the eternal, dreary, dreadful immortal existence. But we still said most of us die too soon.</p>
</blockquote>
<ul>
<li>
<p>Anger</p>
<p>Anger itself has appropriateness conditions.</p>
<ol>
<li>
<p>It got to be directed at a person, an agent. It got to be directed at some thing that had some choice over what was doing to you.</p>
<p>You get angry to some thing because you personified it. It doesn’t make sense.</p>
</li>
<li>
<p>Anger makes sense only when the agent has wronged you, has treated you in a way that it was morally inappropriate for them to treat you.</p>
</li>
</ol>
<p>Does it make sense then to be angry at the fact we are going to die?</p>
<ul>
<li>Who or what is it that you think is the cause of your morality?
<ul>
<li>God has condemned us to death.</li>
<li>Universe theory</li>
</ul>
</li>
</ul>
<p>It doesn’t make sense either.</p>
</li>
<li>
<p>Sorrow</p>
<p>The world is a wonderful place. It would be better to have more of it. I’m sad that I don’t get more.</p>
<p>Although it’s pity I don’t get more, I’m extremely lucky to have gotten as much as I get.</p>
</li>
</ul>
</li>
<li>
<p>The right emotional response isn’t fear, anger, it’s <code>gratitude</code> that we’re able to be alive at all.</p>
</li>
</ul>
<h3 id="how-should-we-live"><a class="markdownIt-Anchor" href="#how-should-we-live"></a> How should we live</h3>
<blockquote>
<p>How should we live in light of the fact we’re going to die?</p>
</blockquote>
<ul>
<li>
<p>That fact that we’re mortal requires us to fact the fact that intuitively we can blow it.</p>
<p>But it can’t be mortality, per se, that has this implication.</p>
<p>Even if we live forever, we can still do it wrong.</p>
</li>
<li>
<p>Two kinds of care that we have to take (we have a limited amount of time to do it over.)</p>
<ul>
<li>We have to be careful in our aims</li>
<li>We have to be careful in out execution of our aims.</li>
</ul>
</li>
<li>
<p>It’s the fact that we have a relatively short span of life relative to how much there is worth aiming for, and how complicated and difficult it can be to get those things and get them right.</p>
</li>
<li>
<p>What death forces us to do is be more <code>careful</code>.</p>
</li>
<li>
<p>What kinds of contents should we try to fill our lives with?</p>
<p>We haven’t got much time. Pack as much as you can into life. There two basic strategies about put that idea into practice.</p>
<ol>
<li>
<p>You should settle for the kinds of goals that you’re virtually guaranteed that you’ll accomplish.</p>
</li>
<li>
<p>Some of more valuable things in life are things that don’t come to ready don’t come with guarantees of achieving them. These things are the most valuable things in our life.</p>
<p>The life aiming for greater accomplishments, is also a life with a greater chance of failure.</p>
</li>
<li>
<p>Mixture above two. So, what is the right mixture?</p>
</li>
</ol>
</li>
<li>
<p>Life quality can trump quantity</p>
<p>Is quality only important insofar as it get folded into producing greater quantity? Or does quality matter in its own right as something that’s worth going for, even when it means a smaller quantity?</p>
</li>
<li>
<p>Maybe a kind of immortality is worth going after</p>
<p>Previously we’ve argued that genuine immortality unending life, would not be a good thing. But many of us aspire to this kind of <code>semi-immortality</code>.</p>
<ol>
<li>
<p>You take comfort in the thought that literally there are a parts of you will continue.</p>
<p>This strikes me as a kind of desperate striving.</p>
</li>
<li>
<p>Your accomplishments will continue to last after you.</p>
<p>There are something worth doing about producing something that continues for a while. Even if my life here on earth is s short one, if something that I’ve accomplished continues, my life is the better for it.</p>
</li>
</ol>
</li>
<li>
<p>Common underlying belief:</p>
<p>The way to deal with the fact that we live and then we’re dead is to try to make the life that you’ve got as good as possible as valuable as possible to pack as much into it as you can.</p>
</li>
<li>
<p>Different approach</p>
<p>It’s only horrible insofar as you think of life as something that it’s bad to lose. Buddhism.</p>
</li>
</ul>
<h2 id="suicide"><a class="markdownIt-Anchor" href="#suicide"></a> Suicide</h2>
<h3 id="question-of-rationality"><a class="markdownIt-Anchor" href="#question-of-rationality"></a> Question of rationality</h3>
<ul>
<li>
<p>Could it ever be true that you’d be better off dead?</p>
<p>If the existence they got is worse than not existing at all?</p>
</li>
<li>
<p><code>Two-state Requirement</code> 双态要求</p>
<p>I kill myself, I don’t exist. There is no second state to compare. It’s got a logical mistake built right into it.</p>
<p>You can’t even say you are better off staying alive. This is very hard to believe.</p>
<p>Example like ‘Thank you for saving my life’ shows that two-state requirement isn’t a genuine requirement on the sort of evaluations.</p>
</li>
<li>
<p>Whether or not there could be such lives depends on your view about what’s the correct account of well-being.</p>
<p>There are philosophical differences of opinion with regard to whether or not a life could be so bad that it would be better for it to come to an end.</p>
<p>According to the <u>theory of the good</u>, do all objective goods outweigh the bad? If the bad outweigh the good your life is not worth living.</p>
</li>
<li>
<p>Namely, is life itself worth having? — valuable container theory</p>
<ul>
<li>
<p>Suicide can never be rational because it’s never true that you’re better off dead. — Fantastic valuable container theory</p>
</li>
<li>
<p>Life has some finite intrinsic value, and in principle, even that could be outweigh if the contents get bad enough — Modest valuable container theory</p>
<p>It vary from person to person.</p>
</li>
</ul>
</li>
<li>
<p>When would suicide make scene?</p>
<p>It’s straight forward to say if your life is going to <u>become worse than nothing</u> and you <u>have complete control over when you kill yourself</u>, the precise moment at which suicide would become rational would be exactly that moment at which your life became not worth having.</p>
<p>If only the person could recognize the facts and <code>know for certainty</code> that’s what their line was going to look like, suicide would at certain points be rational.</p>
</li>
</ul>
<p>BUT</p>
<ul>
<li>
<p>Could it be rational for you to judge that your situation is one in which the line’s going to go below long enough so that on balance you’d be better off dead?</p>
</li>
<li>
<p>Assume for the moment that you can think clearly about your situation.</p>
<p>If you kill yourself, you’ve thrown any chance of recovery. — It doesn’t make sceneView above must be mistaken. In deciding whether to kill yourself what you doing is playing the odds, you’re gambling. But gambling is something we do all the time and indeed, there is no getting away from the fact.</p>
<p>It’s just one of the facts of life about how we have to decide. We have to make your decisions under uncertainty.</p>
</li>
<li>
<p>What about this point about thinking clearly?</p>
<p>Anybody for whom it would be true would be have to be so emotionally distressed that they’re not able to think clearly, so they can’t have a judgment that’s trustworthy, so you should not trust it, so suicide could never turn out to be a rational opinion after all.</p>
<p>Can’t there be cases where despite the fact that your thinking is clouded, it still reasonable to trust the decisions that you make within your clouded thinking?</p>
<p>It can’t be a good argument. — Surgery case</p>
<p>What does seem right is precisely because you’re working and deciding under the cloud of emotional stress and pain, that you should tink twice and third time, you should not make this decision in haste.</p>
</li>
</ul>
<p>Conclude</p>
<ul>
<li>As long as we’re focused on the question of the rationality of suicide, ethics aside, the rationality of suicide under certain circumstances, suicide could be rationally justified.</li>
</ul>
<h3 id="question-of-morality"><a class="markdownIt-Anchor" href="#question-of-morality"></a> Question of morality</h3>
<ul>
<li>Some quick and dirty arguments
<ol>
<li>
<p>Suicide is illegitimate because it’s thwarting God’s will.</p>
<p>In this view, saving somebody is also thwarting God’s will? The God’s will argument cuts both ways which is to say it doesn’t give us any guidance.</p>
</li>
<li>
<p>We’ve been given life and life pretty amazing so we have an obligation, a debt of gratitude to keep the gift.</p>
<p>Pay attention to what exactly obligation of gratitude require us to do. In particular, it’s important to bear in mind that you owe the person who gives you a gift something only when what he’s giving you is a gift.</p>
</li>
</ol>
</li>
</ul>
<p>What is it that makes an action morally acceptable or morally forbidden?</p>
<ol>
<li>
<p>The <code>consequences</code> of your action matter.（结果原则）</p>
<ul>
<li>
<p>It affects themselves, family and loved ones</p>
</li>
<li>
<p>Utilitarianism（功利主义）</p>
<p>Consequences matter and  they are all that matters.</p>
<p>It‘s the moral doctrine that says right and wrong is a matter of producing as much happiness for everybody as possible.</p>
<p>It would be a moderate conclusion, in certain circumstances suicide will be morally justified.</p>
</li>
</ul>
</li>
<li>
<p>the branch of moral theory as <code>deontology</code> （义务论）</p>
<p>The factor of not just what was the upshot of your action , but how you produced that upshot. Not just what the results were, but what was your means of getting those result.</p>
<p>And more particularly still, did you have to <code>harm</code> anybody to produce the results?（禁止伤害原则）</p>
<ul>
<li>
<p>If we accept deontology</p>
<p>Suicide is immoral because I kill myself, an innocent person. Killing an innocent person is morally wrong.</p>
<p>The right to life outweighs the appeal to consequences.</p>
</li>
<li>
<p>Response</p>
<p>Morality is only about how I treat others. It’s not about how I treat myself.</p>
<p>The right to life only cover how I treat others. It doesn’t have any implications for how I treat myself.</p>
</li>
<li>
<p>It seems to me more plausible to say morality includes not only governing how I treat others but also how I treat myself.</p>
</li>
<li>
<p>There is a deontological prohibition against harming innocent people but what it’s really a prohibition against, is leaving them worse off <u>overall</u>.</p>
</li>
</ul>
</li>
<li>
<p>I’ve obviously got my own agreement when I suicide. I have my own <code>consent</code> to what I’m doing.（同意原则）</p>
<p>We should have some relevant conditions to put into a proper version of the consent principle.</p>
<p>Suppose we’ve got some kind of modified consent principle, what should we say about suicide then?</p>
<p>Where somebody rationally assesses their situation, see that they’re better off dead, think the case through, doesn’t rush into it, make an informed and voluntary decision with good reason behind it in a situation like that it seems to me  the consent principle might well come into play.</p>
</li>
</ol>
<ul>
<li>So suicide will again be acceptable in some cases, though not in all.</li>
</ul>
]]></content>
      <categories>
        <category>Humanities</category>
      </categories>
      <tags>
        <tag>Philosophy</tag>
      </tags>
  </entry>
  <entry>
    <title>普通心理学</title>
    <url>//general-psychology/</url>
    <content><![CDATA[<blockquote>
<p>source: BV1Fy4y1i79C</p>
<p>参考教材</p>
<p>《普通心理学》第4版 彭聃龄，北京师范大学出版社</p>
<p>《津巴多普通心理学》菲利普·津巴多，中国人民大学出版社</p>
<p>推荐书目</p>
<p>《心理学与生活》菲利普·津巴多，人民邮电出版</p>
<p>《心理学的故事》墨顿·亨特 李斯，海南出版社</p>
<p>《改变心理学的40项研究》 白学军，中国轻工业出版社</p>
<p>《登天的感觉》——以案例的方式讲心理咨询</p>
</blockquote>
<h1 id="心理学的研究对象-方法"><a class="markdownIt-Anchor" href="#心理学的研究对象-方法"></a> <strong>心理学的研究对象、方法</strong></h1>
<ul>
<li>心理学研究什么？心理现象 + 行为</li>
<li>心理学更多从个体角度研究心理（个体心理）</li>
</ul>
<h2 id="心理学的研究对象和目标"><a class="markdownIt-Anchor" href="#心理学的研究对象和目标"></a> 心理学的研究对象和目标</h2>
<h3 id="心理现象"><a class="markdownIt-Anchor" href="#心理现象"></a> <strong>心理现象</strong></h3>
<blockquote>
<p>人脑对现实生活的主观反应</p>
</blockquote>
<ul>
<li>什么方面、角度研究心理现象？个体的角度——<strong>个体心理</strong> / 个人受别人影响的角度——<strong>社会心理</strong>。</li>
<li>个体心理
<ul>
<li>认知——信息加工系统
<ul>
<li>获得知识、应用知识的过程，接收信息、信息加工、支配行为</li>
<li>感觉、知觉、注意、记忆、思维、语言</li>
</ul>
</li>
<li>动机和情绪——心理和行为调节与控制的系统
<ul>
<li>目的、为什么</li>
</ul>
<blockquote>
<p>上面两者强调心理共性的研究</p>
</blockquote>
</li>
<li>能力和人格——心理特性系统
<ul>
<li>强调个体差异</li>
</ul>
</li>
</ul>
</li>
<li>社会心理
<blockquote>
<p>研究个体与他人互动时产生的心理现象</p>
</blockquote>
<ul>
<li>社会促进现象：由于他人在场促进了个体竞争动机的现象</li>
<li>社会堕化现象：群体在一起的时候，个人付出的努力比单独完成时偏少的现象</li>
<li>旁观者效应：吉诺维斯案件 -&gt; 责任分散</li>
<li>从众心理：哄抢葡萄（坏的）；选择人多的餐厅吃饭（好的）</li>
<li>去个性化：个体淹没到群体当中，自我责任感丧失</li>
</ul>
<blockquote>
<p>研究人的思想、情感和行为，怎样受到真实或想象的他人存在的影响</p>
</blockquote>
<ul>
<li>社会知觉</li>
<li>人际吸引</li>
</ul>
</li>
</ul>
<h3 id="行为"><a class="markdownIt-Anchor" href="#行为"></a> <strong>行为</strong></h3>
<blockquote>
<p>在主客观因素下可以观察到的外部活动</p>
</blockquote>
<ul>
<li>联系
<ul>
<li>心理支配行为</li>
<li>行为反推心理</li>
</ul>
</li>
</ul>
<h3 id="研究目标"><a class="markdownIt-Anchor" href="#研究目标"></a> <strong>研究目标</strong></h3>
<ul>
<li>描述：描述这种现象是什么</li>
<li>解释：为什么会出现这种现象</li>
<li>预测：做出预测</li>
<li>控制：控制心理和行为</li>
</ul>
<h3 id="现代心理学的门类"><a class="markdownIt-Anchor" href="#现代心理学的门类"></a> <strong>现代心理学的门类</strong></h3>
<ul>
<li>理论心理学：发展*，学习*，认知*，人格*，社会*，变态*，生理*，实验*，比较*（动物*）等</li>
<li>应用心理学：教育*，咨询*，临床*，犯罪*，工业*（包括管理*，工程*），医学*，广告*，健康*，心理测量学等</li>
</ul>
<h2 id="心理学的研究方法"><a class="markdownIt-Anchor" href="#心理学的研究方法"></a> <strong>心理学的研究方法</strong></h2>
<blockquote>
<p>原则：客观、实事求是</p>
</blockquote>
<p>基本方法：</p>
<ul>
<li>观察法
<ul>
<li>优点：保持心理的自然性，结果比较真实</li>
<li>缺点：结果有时候难以检验和证实；受研究者主观因素影响大，易产生观察者偏见；不能得出确切的因果关系</li>
</ul>
</li>
<li>实验法：在控制的条件下，研究者有系统的操作自变量，然后观察自变量和因变量之间关系的一种方法
<ul>
<li>实验室实验 &amp; 自然实验</li>
<li>被试内设计 &amp; 被试间设计</li>
<li>常用因变量: 反应时RT</li>
<li>优点
<ul>
<li>容易解释事物的因果关系</li>
<li>可以重复、可检验</li>
<li>数量化指标明确</li>
</ul>
</li>
<li>缺点
<ul>
<li>推广时难以保证有效性</li>
</ul>
</li>
</ul>
</li>
<li>心理测验法（量表）
<ul>
<li>智力测验、人格测验、职业能力倾向测验</li>
<li>文字测验、非文字测验（图形）</li>
<li>衡量测验的标准：信度——可靠程度、效度——是否有效地测量了你要测量的东西（心理测量学）</li>
</ul>
</li>
<li>个案法</li>
<li>调查法</li>
</ul>
<h2 id="心理学的过去和现在"><a class="markdownIt-Anchor" href="#心理学的过去和现在"></a> <strong>心理学的过去和现在</strong></h2>
<blockquote>
<p>心理学史</p>
</blockquote>
<ul>
<li>19世纪末成为一门独立的科学</li>
<li>心理学有漫长的过去，但只有短暂的历史</li>
<li>现代心理学的诞生离不开近代哲学思潮和实验生理学的影响</li>
</ul>
<h3 id="19世纪末-20世纪初的西方心理学派别"><a class="markdownIt-Anchor" href="#19世纪末-20世纪初的西方心理学派别"></a> <strong>19世纪末、20世纪初的西方心理学派别</strong></h3>
<ul>
<li>构造主义学派（关注结构）：研究人的直接的经验，即意识（心理）</li>
<li>机能主义学派（关注功能）
<ul>
<li>研究意识或心理的作用和功能</li>
<li>意识不是个别元素的集合，是连续的整体，意识的功能在于使有机体适应环境</li>
</ul>
</li>
<li>格式塔心理学派（关注整体）：
<ul>
<li>研究意识的科学</li>
<li>心理是一个整体，整体不等于部分之和，整体大于部分之和</li>
</ul>
</li>
<li>行为主义学派（关注行为）
<ul>
<li>《行为主义的心理学》系统阐述了行为主义的理论体系</li>
<li>1913年 - 20世纪50年代</li>
<li>激进的行为主义：华生
<ul>
<li>研究外显的行为、决定行为的因素</li>
<li>行为是有机体适应环境的活动，引发活动的是刺激，心理学是研究刺激-反应的科学</li>
<li>个体行为的环境决定论（后天经验决定行为）</li>
<li>反对使用内省，使用实验的方式进行研究</li>
</ul>
</li>
<li>新行为主义：斯金纳、托尔曼
<ul>
<li>承认内部心理活动对行为的作用， 承认S-R之间存在一个中间变量O-有机体</li>
<li>操作型条件反射（斯金纳，“斯金纳箱”）</li>
<li>学习即行为反应发生概率的变化（行为的结果影响行为）什么因素决定？——强化 &amp; 惩罚
<ul>
<li>正强化：行为在先，强化物在后</li>
<li>负强化：强化物（厌恶性刺激）在先，行为在后</li>
<li>两种惩罚：行为发生反应后，呈现厌恶的刺激 / 取消喜欢的刺激</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>精神分析学派（关注潜意识）
<ul>
<li>弗洛伊德1896年创立，现代心理学中影响最大的理论之一</li>
<li>性欲论：行为的动机来源于心灵深处的欲望，特别是性欲；性本能和死本能支配，人性恶</li>
<li>早期的人格结构理论：潜意识unconscious+前意识Preconscious+意识conscious</li>
<li>后期人格结构理论：
<ul>
<li>本我id（人格结构的底层，本能欲望、冲动组成的能量系统，追求满足、快乐的原则）</li>
<li>自我ego（中间层，调节本我超我的矛盾。现实的原则）</li>
<li>超我superego（抑制本我的冲动+对本我进行监控+追求完善的境界、道德的原则）</li>
</ul>
<blockquote>
<p>本我欲求 -&gt; 自我的决定和行为 &lt;- 超我限制</p>
</blockquote>
</li>
<li>人格发展阶段的理论</li>
<li>研究方法：临床观察分析的方法 自由联想 释梦</li>
<li>评价：开辟了潜意识的研究，扩大心理学研究领域</li>
</ul>
</li>
</ul>
<h3 id="当代心理学的研究取向"><a class="markdownIt-Anchor" href="#当代心理学的研究取向"></a> <strong>当代心理学的研究取向</strong></h3>
<ul>
<li>生理心理学
<ul>
<li>认知神经科学：脑功能成像的方法 ERP、PET、fMRI</li>
</ul>
</li>
<li>认知心理学
<ul>
<li>强调认知过程的研究，认知因素在行为中的作用</li>
<li>用信息加工的观点研究认知的过程（输入加工存储输出）
<ul>
<li>记忆：编码、储存和提取的过程</li>
</ul>
</li>
<li>采用实验、观察、计算机模拟等方法</li>
</ul>
</li>
<li>人本主义心理学
<ul>
<li>心理学的第三势力（1精神分析、2行为主义、3人本主义）</li>
<li>强调研究健康人的心理</li>
</ul>
</li>
<li>积极心理学
<ul>
<li>研究普通人的活力、力量与美德；促进个体的发展、社会的繁荣</li>
</ul>
</li>
</ul>
<h1 id="心理的神经生理基础"><a class="markdownIt-Anchor" href="#心理的神经生理基础"></a> <strong>心理的神经生理基础</strong></h1>
<h2 id="神经系统的进化"><a class="markdownIt-Anchor" href="#神经系统的进化"></a> <strong>神经系统的进化</strong></h2>
<blockquote>
<p>脑是心理的器官，心理是人脑的功能（心理是脑对客观现实主观能动的反应）</p>
<p>心理是神经系统发展到一定阶段的产物，神经系统越进化，心理和行为越复杂，越高级</p>
</blockquote>
<ul>
<li>进化特点
<ol>
<li>脑重占体重的比例增加（脑指数）</li>
<li>皮层相对大小的变化</li>
<li>大脑皮层内部结构和功能的变化</li>
</ol>
<ul>
<li>结构上：其他动物新皮层容积小，人新皮层容积大</li>
<li>功能上：人脑功能更复杂</li>
</ul>
</li>
</ul>
<h2 id="神经系统的结构和功能"><a class="markdownIt-Anchor" href="#神经系统的结构和功能"></a> <strong>神经系统的结构和功能</strong></h2>
<ul>
<li>神经元</li>
<li>中枢神经系统：脑和脊髓内的全部神经系统，加工整合信息，整合和调谐全身的功能
<ul>
<li>脊髓：将脑和周围神经系统联系起来的神经元干线
<ul>
<li>灰质：神经元胞体+神经元树突</li>
<li>白质：神经元轴突</li>
</ul>
</li>
<li>脑干：延脑、桥脑、中脑；网状结构</li>
<li>小脑：与皮层运动区共同控制肌肉运动，协调身体的运动，控制身体的姿势</li>
<li>间脑：
<ul>
<li>丘脑：皮层下感觉中枢，除嗅觉外的各种感觉的中转站</li>
<li>下丘脑：调节植物性神经系统的皮下中枢</li>
</ul>
</li>
<li>边缘系统：扣带回、海马（海马回、海马沟）、杏仁核等</li>
<li>大脑：表面的灰质（大脑皮层）+ 深度的白质；额叶颞叶顶叶枕叶
<ul>
<li>机体感觉区：顶叶中央后回</li>
<li>初级运动区：额叶中央前回</li>
<li>语言区：布洛卡区（语言表达）、威尔尼克区（理解口头语言）、角围（理解书面语言）</li>
<li>联合区：前额叶（注意、记忆、推理、问题解决、语言）</li>
</ul>
</li>
</ul>
</li>
<li>周围神经系统</li>
</ul>
<h2 id="脑的可塑性-脑功能学说"><a class="markdownIt-Anchor" href="#脑的可塑性-脑功能学说"></a> <strong>脑的可塑性 / 脑功能学说</strong></h2>
<blockquote>
<p>在后天经验的作用下，脑的结构和功能等方面会发生一定程度的变化</p>
</blockquote>
<ul>
<li>定位说：来源于颅相说，由颅骨的形状推知某种心理能力</li>
<li>整体说：脑的功能是由整体负责</li>
<li>三个机能系统学说：大脑皮层定位是动态的、系统机能定位
<ul>
<li>调节激活和维持觉醒状态的系统</li>
<li>信息接收、加工和储存的系统</li>
<li>行为调节系统</li>
</ul>
</li>
<li>模块说：
<ul>
<li>人脑在结构和功能上是由高度专门化并相对独立的功能模块组成，不同功能模块不同，模块的结合保证着认知功能的完成</li>
<li>揭示人脑的整体特性</li>
</ul>
</li>
<li>神经网络学说
<ul>
<li>各种心理活动是由不同脑区协同活动构成的神经网络实现</li>
</ul>
</li>
</ul>
<h1 id="思维"><a class="markdownIt-Anchor" href="#思维"></a> <strong>思维</strong></h1>
<h2 id="思维的一般概念"><a class="markdownIt-Anchor" href="#思维的一般概念"></a> <strong>思维的一般概念</strong></h2>
<ul>
<li>含义
<ul>
<li>思维是借助语言、表象和动作实现的、对客观事物概括和间接的认识，是认识的高级形式</li>
<li>思维是在问题的空间中搜索的过程</li>
</ul>
</li>
<li>特征
<ul>
<li>概括性：把一类事物共同的特征和概念抽取出来加以概括</li>
<li>间接性：借助一定的媒介和一定的知识经验对客观事物进行间接的认识</li>
<li>对经验的改组：思维是一种探索和发现新事物的过程，常指向新事物的特征和新关系。这需要人们对头脑中已有的知识经验不断进行更新和改组</li>
</ul>
</li>
<li>种类
<ul>
<li>根据凭借物划分：直观动作思维、形象思维、逻辑思维</li>
<li>考虑问题是多角度还是单一角度：辅合思维、发散思维
<ul>
<li>发散思维的测量方法
<ol>
<li>流畅性：单位时间内发散项目的数量</li>
<li>变通性：发散项目的范围或纬度（触类旁通、举一反三）</li>
<li>独特性：能对问题提出超乎寻常的、独特新颖的见解</li>
</ol>
</li>
</ul>
</li>
<li>常规思维：运用已有的知识或经验，按现成的方案直接解决问题</li>
<li>创造性思维：重新组织已经有的知识经验、提出新的方案或程序
<ul>
<li>敏锐性、新颖性、独特性、具有重要的社会价值</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="表象与想象"><a class="markdownIt-Anchor" href="#表象与想象"></a> <strong>表象与想象</strong></h2>
<ul>
<li>表象
<ul>
<li>定义：当事物不在跟前时，头脑出现的关于事物的形象</li>
<li>种类：视觉表象、听觉表象、味觉表象、动作表象</li>
<li>特征：直观性、概括性（抽象性）、可操作性</li>
<li>表象在思维中的作用
<ul>
<li>表象是思维的单位之一，人们可以使用表象进行思维</li>
<li>有利于问题解决（举例子）</li>
</ul>
</li>
</ul>
</li>
<li>想象
<ul>
<li>对头脑中已有的表象进行加工改造，形成新的形象的过程；是种高级的认知活动</li>
<li>基本特点：形象性、新颖性</li>
<li>创造形象的方法：
<ul>
<li>黏合法：把现实中从来没有结合过的特征、属性黏合在一起创造出新的形象（八戒）</li>
<li>夸张法：改变客观事物的正常特点/突出某些特点（九头金乌）</li>
<li>典型化法：根据一类事物的共同特征创造新形象，阿Q</li>
<li>联想法：由一个事物联想到另一个事物</li>
</ul>
</li>
<li>种类：无意想象、有意想象、再造想象、创造想象</li>
<li>作用
<ul>
<li>预见的作用，能预见活动的结果，指导人们活动进行的方向</li>
<li>创造性活动的组成部分</li>
<li>补充知识经验的作用</li>
<li>代替，某种需要得不到满足的时候用想象得到满足</li>
<li>调节生理活动，能改变人体外周部分的机能活动过程</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="概念与推理"><a class="markdownIt-Anchor" href="#概念与推理"></a> <strong>概念与推理</strong></h2>
<ul>
<li>概念
<ul>
<li>定义：具有共同属性的一类事物的总称</li>
<li>概念的内涵 &amp; 外延</li>
<li>概念与词的关系
<ul>
<li>概念用词来表达、巩固和记载，词是概念的语言形式，概念是词的思想内容</li>
<li>两者不是一一对应关系</li>
</ul>
</li>
<li>概念的类型：合取概念、析取概念、关系概念</li>
<li>根据概念形成的自然性划分：自然概念、人工概念</li>
<li>概念结构的理论
<ul>
<li>层次网络模型：概念以节点形式储存在概念网络中——不一定具有心理现实性</li>
<li>特征表理论：概念由语义特征表征（定义性特征+特异性特征），概念结构由定义性特征和整合这些特征的规则决定</li>
<li>原型模型：从整体的角度来解释概念的结构</li>
</ul>
</li>
<li>概念的形成是一个过程，概念的形成也叫概念的掌握
<ul>
<li>假设检验</li>
<li>样例学习</li>
</ul>
</li>
</ul>
</li>
<li>推理
<ul>
<li>从具体事物归纳出一般规律（归纳推理），或者根据一般原理推出新结论的思维活动（演绎推理）</li>
<li>逻辑学与心理学研究推理的区别</li>
<li>导致推理错误的原因
<ul>
<li>前提气氛效应、换位理论、心理模型</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="情绪的调节"><a class="markdownIt-Anchor" href="#情绪的调节"></a> <strong>情绪的调节</strong></h1>
<h2 id="情绪和情感"><a class="markdownIt-Anchor" href="#情绪和情感"></a> <strong>情绪和情感</strong></h2>
<h3 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> <strong>概述</strong></h3>
<ul>
<li>情绪情感是人对客观事物的态度体验和相应的行为反应，包括
<ul>
<li>是主观的一种态度体验
<ul>
<li>是大脑的一种感受状态，只有自己才能感受到</li>
<li>情绪的体验可以积累，达到一定程度就会爆发</li>
<li>伴随身体的能量变化</li>
<li>女性的情绪体验比男性强，更容易识别面目的情绪表现，并更公开表现出来</li>
</ul>
</li>
<li>生理唤醒
<ul>
<li>是生理的激活水平，不同的情绪情感的生理反应不同</li>
<li>生理变化不是人为有意识可以控制的，是由植物性神经系统控制的</li>
</ul>
</li>
<li>外部表现
<ul>
<li>面部表情、姿态表情、语调表情（体语）</li>
<li>人在特定情绪状态下表现出一定的情绪反应</li>
<li>人类表情是先天和后天的统一体（先天+后天习得，具有适应环境的意义）</li>
</ul>
</li>
</ul>
</li>
<li>情绪和情感的区别和联系
<blockquote>
<p>原来人们把区别于认知过程并同特定的愿望和需要联系起来的主观体验统称为感情</p>
</blockquote>
<ul>
<li>区别
<ul>
<li>情绪指感情活动的过程；情感指某种体验和感受，常用来描述稳定的有社会意义的感情</li>
<li>情绪有一定的情景性、激动性、暂时性；情感具有一定的深刻性、稳定性、持久性。</li>
</ul>
</li>
<li>联系
<ul>
<li>稳定的情感在情绪基础上形成，并通过情绪表达出来</li>
<li>情绪离不开情感，情绪变化反应情感的深度</li>
</ul>
</li>
</ul>
</li>
<li>功能
<ul>
<li>适应功能</li>
<li>动机功能</li>
<li>组织功能：情绪对其他心理活动可能起促进作用或瓦解作用</li>
<li>信号功能：通过人的表情，可以了解情绪状态，具有传递信息、沟通思想的作用</li>
<li>影响身心健康</li>
</ul>
</li>
<li>情绪情感的分类
<ul>
<li>基本情绪 &amp; 复合情绪</li>
<li>积极情绪 &amp; 消极情绪
<blockquote>
<p>抑郁症的障碍</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>    - 心境障碍，长时间内心境总不好，郁郁寡欢
    - 思维方面对任何事物都持消极、悲观的认知
    - 躯体功能方面，感觉到疼痛、疲倦

    抑郁的原因：生理方面、后天环境、认知方面
</code></pre>
</blockquote>
<ul>
<li>情绪状态的分类
<blockquote>
<p>根据情绪持续时间的长短、情绪的强度，把情绪进行分类</p>
</blockquote>
<ul>
<li>心境：指比较平静的，持续时间比较长的状态，心境的情绪状态比较弱
<ul>
<li>心境具有一定的弥散性，当处于某种心境时，从事的其他活动也有心境的色彩</li>
</ul>
</li>
<li>激情：强烈的、有爆发性的为时比较短暂的情绪状态
<ul>
<li>持续时间短、爆发力强</li>
<li>激情会引起生理、心理变化
<ul>
<li>会出现意识狭窄现象（认知活动的范围缩小、理智分析能力下降、自我控制能力减弱）</li>
</ul>
</li>
</ul>
</li>
<li>应激：人对某种意外的环境刺激的适应性反应
<ul>
<li>持续时间可长可短，压力可强可弱</li>
<li>在强烈的应激状态下会对人的生理和心理造成很大影响</li>
<li>人长期处于压力状态下，会造成适应性综合征
<ul>
<li>适应性综合症包括：动员、阻抗、衰竭</li>
<li>躯体性压力源、社会性压力源、心理性压力源、文化性压力源</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>情感的分类
<ul>
<li>道德感、理智感、美感</li>
</ul>
</li>
</ul>
<h2 id="情绪的生理机制"><a class="markdownIt-Anchor" href="#情绪的生理机制"></a> <strong>情绪的生理机制</strong></h2>
<ul>
<li>情绪的脑中枢机制
<ul>
<li>下丘脑位于丘脑下部，主管快乐和痛苦</li>
<li>网状结构位于脑干，维持大脑皮层的觉醒状态
<ul>
<li>大脑要经过网状结构向下发送信息，引起情绪的外部表现</li>
<li>外周神经系统接收信息，经过网状结构向上传送信息引起大脑皮层的激活状态</li>
</ul>
</li>
<li>边缘系统，边缘系统的杏仁核是愤怒、恐惧的中枢</li>
<li>大脑两半球
<ul>
<li>情绪的认知方面右半球起更大作用</li>
<li>情绪体验方面左半球负责积极的情绪体验，右半球负责消极的情绪体验</li>
</ul>
</li>
</ul>
</li>
<li>情绪的外周神经机制
<ul>
<li>情绪和植物性神经系统的关联
<ul>
<li>交感神经系统、副交感神经系统</li>
</ul>
</li>
<li>分泌系统、躯体神经系统</li>
</ul>
</li>
</ul>
<h2 id="情绪的理论"><a class="markdownIt-Anchor" href="#情绪的理论"></a> <strong>情绪的理论</strong></h2>
<blockquote>
<p>情绪发展的角度看</p>
</blockquote>
<h3 id="早期理论"><a class="markdownIt-Anchor" href="#早期理论"></a> <strong>早期理论</strong></h3>
<blockquote>
<p>早期的生理学理论</p>
</blockquote>
<ul>
<li>詹姆斯-兰格的情绪理论（情绪的外周理论）
<ul>
<li>强调生理唤醒在情绪产生中的作用，生理因素是第一位的</li>
<li>刺激作用于感觉器官引起身体的变化，对生理变化的知觉就是情绪，先有生理变化才有情绪</li>
</ul>
<blockquote>
<p>评价：</p>
</blockquote>
</li>
</ul>
<blockquote>
<pre><code>- 合理：看到了情绪与机体变化的直接关系，强调了植物性神经系统在情绪生产中的作用
- 不合理：片面强调植物性神经系统的作用，忽视了植物性神经的调节、控制作用
</code></pre>
</blockquote>
<ul>
<li>坎农-巴德学说
<ul>
<li>坎农认为情绪的中枢在中枢神经系统的丘脑，丘脑把信息传导到大脑，大脑知觉刺激的性质，然后产生情绪体验</li>
<li>生理变化与情绪同时产生</li>
</ul>
<blockquote>
<p>评价：</p>
</blockquote>
</li>
</ul>
<blockquote>
<pre><code>- 优点：注意到了中枢神经系统在情绪产生中的作用
- 缺点：事实上这种观点不准确（实验证明）
</code></pre>
</blockquote>
<ul>
<li>早期的生理学理论都强调生理变化在情绪产生中的作用</li>
</ul>
<h3 id="认知理论"><a class="markdownIt-Anchor" href="#认知理论"></a> <strong>认知理论</strong></h3>
<blockquote>
<p>强调刺激情境的认知是情绪产生的重要因素</p>
</blockquote>
<ul>
<li>阿诺德的评定-兴奋学说
<ul>
<li>情境——评估——情绪</li>
<li>具体过程：感受器 -&gt; 丘脑 -&gt; 大脑皮层（评定、评估 -&gt; 态度）-&gt; 丘脑的交感神经 -&gt; 内脏、血管 -&gt; 身体变化的感觉 -&gt; 反馈到大脑皮层</li>
</ul>
<blockquote>
<p>评价</p>
</blockquote>
</li>
</ul>
<blockquote>
<pre><code>- 强调了生理因素 + 认知因素
- 强调了环境的、认知的、行为的等多个因素在情绪产生中的作用，但认知因素是最重要的
- 情绪认知理论的先驱
</code></pre>
</blockquote>
<ul>
<li>沙赫特和辛格的情绪二因素理论
<ul>
<li>两个因素
<ol>
<li>个体必须体验到高度的生理唤醒</li>
<li>个体必须对生理唤醒的变化进行认知解释</li>
</ol>
</li>
<li>情绪是对生理唤醒的进行特殊的认知解释后产生的</li>
</ul>
</li>
<li>拉扎勒斯的认知评价理论
<ul>
<li>个体对环境事件知觉到有益或者有害，是人与环境相互作用的产物（性质 -&gt; 情绪）</li>
<li>强调了情绪活动一定要有认知评价的参与（有益/有害）</li>
<li>人对环境不断作出评价：
<ul>
<li>初评价（刺激事件是否与自己有利害关系）</li>
<li>次评价（调节控制自己的行为反应）</li>
<li>再评价（评价情绪和行为反应的有效性和适用性，反馈性行为）</li>
</ul>
</li>
<li>没有涉及生理唤醒的因素</li>
<li>情绪认知理论的集大成者</li>
</ul>
</li>
</ul>
<h3 id="动机分化理论"><a class="markdownIt-Anchor" href="#动机分化理论"></a> <strong>动机分化理论</strong></h3>
<blockquote>
<p>前面强调情绪的起源和发生，忽略了情绪的作用、功能</p>
</blockquote>
<ul>
<li>汤姆金斯-伊扎德的动机分化理论</li>
<li>核心观点：
<ul>
<li>情绪和人格系统
<ul>
<li>人格系统 = 体内平衡、内驱力、情绪、知觉、认知、动作系统</li>
<li>六个系统相对独立，但互相作用</li>
<li>情绪是人格系统的动力核心，是基本的动力系统</li>
</ul>
</li>
<li>情绪系统及其功能
<ul>
<li>基本的情绪：特定的神经基础、特定的面部肌肉运动模式、可以区分的主观的体验</li>
<li>复合的情绪：基本情绪的混合</li>
<li>情绪系统包含神经生理、表情行为和情感体验三个子系统
<ul>
<li>情绪产生涉及广泛的神经结构</li>
<li>表情包括神经肌肉和感觉反馈</li>
<li>情感体验由躯体和脸部的活动模式的反馈信号进入意识状态而形成</li>
</ul>
</li>
</ul>
</li>
<li>情绪激活与调节
<ul>
<li>四种基本过程：
<ol>
<li>生物遗传——神经内分泌，直接激活情绪体验，并影响以下三个过程</li>
<li>感觉反馈，肌肉活动引起的反馈信息进入边缘皮层去区，使情绪达到意识水平，产生情绪体验</li>
<li>情感激活过程，一种情绪可以影响另外一种情绪</li>
<li>认知激活过程 ，评价、比较等认知活动可以激活情绪</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li>情绪智力：体现一个人情绪调节能力的高低
<ul>
<li>1993年定义：区分自己和他人情绪的能力；调节自己和他人情绪的能力；运用情绪信息引导情绪的能力</li>
<li>1995年定义：认识自身情绪的能力；认识他人情绪的能力；妥善管理情绪的能力；自我激励的能力；人际关系管理的能力</li>
</ul>
</li>
<li>调节消极情绪的方法
<ul>
<li>改变不合理的认知方式
<ul>
<li>非此即彼，是一种绝对化的认知方式</li>
<li>以偏概全，把一个消极的时间看作永久失败的象征</li>
<li>选择性的过滤，专挑事物的消极方面念念不忘</li>
<li>贬义积极的事物，对这种事物持否认的态度</li>
</ul>
</li>
<li>改变的方法
<ul>
<li>从积极的方面考虑问题</li>
<li>宣泄
<ul>
<li>直接宣泄：直接宣泄到这个人身上，但容易对人造成身心损害</li>
<li>间接宣泄：打球喝酒睡大觉！</li>
</ul>
</li>
<li>转移，转移注意力</li>
<li>自慰，酸葡萄心理</li>
<li>升华，把情绪所激发的力量引导到对自己、对他人有益的方面</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="人格"><a class="markdownIt-Anchor" href="#人格"></a> <strong>人格</strong></h1>
<h2 id="人格的概念"><a class="markdownIt-Anchor" href="#人格的概念"></a> <strong>人格的概念</strong></h2>
<ul>
<li>概念
<ul>
<li>比较稳定的，经常能影响人的行为，并使他和别人有所区别的心理特点的总和</li>
<li>是一个复杂的结构系统，包括多种成分如气质、性格、认知风格、自我调控等</li>
</ul>
</li>
</ul>
<h3 id="特点"><a class="markdownIt-Anchor" href="#特点"></a> <strong>特点</strong></h3>
<ul>
<li>统合性：人格是由多种成分构成的一个有机整体，具有内在的一致性，受到自我意识的调控</li>
<li>独特性：人格是在遗传、环境、教育等先天后天因素的交互作用下形成的</li>
<li>稳定性：人格一旦形成后在一定时间内是比较稳定的，不容易改变</li>
<li>功能性：人格可以决定一个人的生活方式甚至命运</li>
</ul>
<h3 id="成分结构"><a class="markdownIt-Anchor" href="#成分结构"></a> <strong>成分/结构</strong></h3>
<ul>
<li>气质：表现心理活动的强度、速度、灵活性、指向性等方面的心理特征
<ul>
<li>分类（体液学）
<ul>
<li>多血质：情感丰富、外露、思维敏捷、活泼好动、善于交往；缺乏耐心和毅力、稳定性差（时迁）</li>
<li>粘液质：情绪平稳、思维灵活性差；稳重踏实、自制能力强、主动性差、行动比较迟缓（唐僧）</li>
<li>胆汁质：情绪体验很强、思维灵活、精力旺盛、直率；粗枝大叶、鲁莽、感情用事（张飞李逵）</li>
<li>抑郁质：情绪体验深刻、思维敏锐、想象力丰富、多愁善感、优柔寡断</li>
</ul>
</li>
<li>生理基础：人的高级神经活动类型在心理和行为的表现（所以不容易改变）
<blockquote>
<p>高级神经活动即兴奋过程和抑制过程的三个基本特性</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>    - 强度：大脑皮层神经细胞工作能力的标志
    - 平衡性：兴奋过程和抑制过程的相对的力量
    - 灵活性：兴奋过程和抑制过程相互转化的速度
</code></pre>
</blockquote>
<pre><code>    - 不可遏制型：强、不平衡 ———— 胆汁质
    - 活泼型：强、平衡、灵活 ———— 多血质
    - 安静型：强、平衡、不灵活 ———— 粘液质
    - 抑制型：弱、x、x ———— 抑郁质
- 气质调查问卷
</code></pre>
<ul>
<li>性格：与社会评价密切相关的人格特征，具有道德评价的含义
<ul>
<li>性格受社会环境影响很大，比气质较容易发生改变</li>
<li>表现人们对现实和周围世界的态度，表现在人们的行为举止之中</li>
<li>性格有好坏之分</li>
</ul>
</li>
<li>认知风格：个人偏爱使用的认知方式（在认知活动过程中表现出来的不同特点）
<ul>
<li>认知能力和认知风格不同
<ul>
<li>能力指顺利完成某种活动的心理条件、现有的水平或个体的潜力；风格指偏爱使用的方式</li>
<li>能力指人们能够达到的最高行为；风格指人们的典型行为</li>
<li>能力是单级变量，有好坏高低之分；风格没有</li>
</ul>
</li>
<li>种类
<ul>
<li>根据人对外界环境依赖程度进行划分
<ul>
<li>场独立型：信息加工主要依靠内在参照/自我参照，心里分化水平较高，依据内在标准处理问题</li>
<li>场依存型：对外在参照依赖性大，自我分化低，受周围环境和他人的影响较大</li>
<li>测量方式？镶嵌图形测验</li>
</ul>
</li>
<li>根据思考或解决问题过程中的速度&amp;准确率
<ul>
<li>快-正确型</li>
<li>冲动型：快，容易出错</li>
<li>沉思型：慢，准确率高</li>
<li>慢-非正确型</li>
<li>测量方式？熟悉图形匹配测验</li>
</ul>
</li>
<li>同时性加工和即时性加工
<ul>
<li>即时性加工：一步一步分析问题，每个步骤只考虑一种假设，提出的假设在时间上有先后顺序</li>
<li>同时性加工：宽视野的方式，考虑多种问题的可能性，发散式思维</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>自我调控：对人格各种成分进行调控，保证人格的完整和统一
<ul>
<li>包含三个子系统
<ul>
<li>自我认知：对自己的洞察和理解，学会正确的、实事求是的评价自己、</li>
<li>自我体验：伴随自我认知产生的内心的情感体验</li>
<li>自我控制：自我意识在行为上的表现，是实现自我意识调节的最高环节</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="人格理论"><a class="markdownIt-Anchor" href="#人格理论"></a> <strong>人格理论</strong></h2>
<blockquote>
<p>关于人格的结构和功能的阐述，不同的人格理论侧重探讨的问题不同</p>
</blockquote>
<h3 id="特质理论"><a class="markdownIt-Anchor" href="#特质理论"></a> <strong>特质理论</strong></h3>
<blockquote>
<p>强调人格是由哪些特质或成分组成的，人格特质和行为的关系</p>
</blockquote>
<ul>
<li>特质：指持久而稳定的行为倾向，是人格的有效组成成分，是测评人格的基本单位（谦虚、认真）</li>
<li>主要观点：人格的特质是人们共有的，但是在量的方面存在差异，因此表现出不同的人格</li>
<li>奥尔波特的特质理论：主要包括共同特质和个人特质
<ul>
<li>共同特质：大多数人共有的相同特质（一定的文化背景下大多数人共有的特质）</li>
<li>个人特质：个体身上比较独特他特质，可分为：
<ul>
<li>首要特质：一个人最典型的、最有概括性的特质，影响人的方方面面；几乎会影响到个体行为的各个方面；</li>
<li>中心特质：构成个体独特性的几个重要特质</li>
<li>次要特质：不太重要的特质</li>
</ul>
</li>
</ul>
</li>
<li>卡特尔的人格特质理论：用因素分析的方法对人格特质进行分析
<ul>
<li>因素分析：将多个实测变量简化为少数几个不相关变量的多元统计分析方法（<code>相关</code>的概念）</li>
<li>表面特质：从外部行为中可以直接观察到的特质</li>
<li>根源特质：制约表面通知的一种潜在基础，是构成人格的基本特质，是构成人格的最重要的组成部分</li>
<li>卡特尔认为有16种最基本的根源特质（卡特尔16种人格测验量表）</li>
</ul>
</li>
<li>现代人格特质理论
<ul>
<li>五因素理论（开放性、责任心、外倾性、宜人性、神经质/情绪稳定性）</li>
<li>七因素理论（正负情绪性、正负效价、可靠性、宜人性、因习性）</li>
</ul>
</li>
<li>类型理论：描述一类人和另一类人的心理差异，根据一定标准把人划分为几种类型，一个人只属于其中的某一个类型（内向&amp;外向）</li>
<li>类型理论划分方法</li>
<li>A型人格和B型人格
<ul>
<li>A型人格
<ul>
<li>性格急躁、缺乏耐性；成就欲望高，上进心强，有苦干精神；有时间紧迫感，竞争意识强；动作敏捷，说话快，生活处于紧张状态</li>
<li>社会适应性相对较差，属于不安定性的人；在处理应激事件时在生理上容易激动，不利于身心健康</li>
</ul>
</li>
<li>B型人格
<ul>
<li>性情温和，举止比较稳当；对工作生活的满足度较高；喜欢慢节奏的生活；可以胜任需要耐心和谨慎思考的工作</li>
</ul>
</li>
</ul>
</li>
<li>内向人格和外向人格（荣格）：根据心里倾向性进行划分
<ul>
<li>内向人格：心理倾向倾向于内。经常进行自我剖析，做事谨慎、深思熟虑、交往面窄、有时候会出现使用方面的困难</li>
<li>外向人格：注重外部世界，心理活动指向与外，独立自主、善于交往、行动敏捷</li>
</ul>
</li>
<li>特质理论和类型理论的区别
<ul>
<li>个体之间的差异；群体间的人格差异</li>
<li>描述人格量的差异；描述人格质的差异</li>
<li>通过心理测量来评定；通过观察就可以获得</li>
</ul>
</li>
<li>艾森克的整合理论（试图整合特质理论和类型理论）
<ul>
<li>把人格特质分为三个基本的人格纬度（三因素模型）：内外倾、神经质、精神质</li>
<li>分成可以按照等级排列的不同单元，基本的结构包括：特殊性反应水平、习惯化反应水平、特质水平、类型水平</li>
</ul>
</li>
</ul>
<h3 id="精神动力学理论"><a class="markdownIt-Anchor" href="#精神动力学理论"></a> <strong>精神动力学理论</strong></h3>
<blockquote>
<p>人格内部的作用过程和人格发展的动力</p>
</blockquote>
<ul>
<li>弗洛伊德的人格发展阶段理论
<ul>
<li>强调人格是由多种力量相互作用的动力系统，在该系统中，有一种作用对人格发展起着重要作用</li>
<li>以性心理为主线的人格发展阶段理论</li>
<li>以泛性论为基础，强调性本能的冲动对人格发展的重要作用</li>
<li>性本能在不同年龄阶段有不同的区域，即性敏感区</li>
<li>把人格发展分为五个阶段
<ul>
<li>口腔期（0-1岁）：性敏感区主要在口腔，儿童把自我和现实环境区别开来，产生自我，冲突来源于断奶</li>
<li>肛门期（1-3岁）：性敏感区在肛门，冲突来源于父母的排便训练和儿童的自我排便</li>
<li>生殖器时期（3-6岁）：性敏感区在生殖器，通过抚摸等获得满足；
<ul>
<li>儿童产生对父母的情绪冲突（俄狄浦斯情节、艾利克斯情节）；</li>
<li>在解决恋父恋母情结的过程中，儿童获得了男性和女性的性格和行为特征，将父母的道德观念、社会态度内化为自己的东西，从而形成超我</li>
</ul>
</li>
<li>潜伏期（6-12岁）：性的兴趣被学习知识等取代，在学习中自我和超我得到更大发展，这时男女之间的关系变得逐渐疏远</li>
<li>生殖器时期（13岁以后）：性敏感区是生殖器，开始对异性感兴趣，逐渐摆脱对父母的依赖</li>
</ul>
</li>
<li>儿童发展的首要任务是解决前一阶段的冲突；成年人的人格受到早期的影响非常大</li>
<li>评价：
<ul>
<li>贡献：有一定道理，提出早期经验对人格形成的影响；提出婴儿喂养和大小便的训练对人格形成的影响偶一定道理</li>
<li>局限：认为6-12岁这一时期对人格发展不起重要作用；概念模糊，很难被科学的验证和评价</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="行为主义"><a class="markdownIt-Anchor" href="#行为主义"></a> <strong>行为主义</strong></h3>
<blockquote>
<p>强调外部环境 学习等因素对人格形成和发展的作用</p>
</blockquote>
<h3 id="人本主义"><a class="markdownIt-Anchor" href="#人本主义"></a> <strong>人本主义</strong></h3>
<blockquote>
<p>关注个人感受和主观体验，以及成长潜能等方面对人格发展的作用</p>
</blockquote>
<h2 id="人格的测量"><a class="markdownIt-Anchor" href="#人格的测量"></a> <strong>人格的测量</strong></h2>
<ul>
<li>自陈式量表法
<ul>
<li>由一系列问题组成，每个问题陈述一种行为，个人按照自己的真实情况来回答问题</li>
<li>举例
<ul>
<li>明尼苏达多项人格测验：10个临床量表+4个效度量表</li>
<li>卡特尔人格因素测量量表（16PF）</li>
<li>艾森克人格问卷：分为四个分量表：内外倾、神经质、精神质、效度量表</li>
<li>加州心理调查量表</li>
</ul>
</li>
<li>评价
<ul>
<li>优点：题目数固定，内容具体，施策简单，计分方便</li>
<li>缺点：
<ul>
<li>测验内容有的是情绪状态方面，对某一问题的答案常常发生变化</li>
<li>反应的偏向受社会赞许现象的影响</li>
<li>测量结果的可靠程度受到回答者认真程度的影响</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>投射测验
<ul>
<li>投射：指把个人的思想态度情感情绪等不自觉地反应于外界事物或他人的心理过程（以己度人）</li>
<li>基本假设：在测验过程中给出一些模棱两可的图片，要求人们说出自己的想法。相对于无结构、没有明确内容的刺激，本身并不含有特殊的意义，但人们对图片的反应有特殊的意义，可以折射出人格的一些特征。主试对被试的反应进行分析来推断其人格特征</li>
<li>举例
<ul>
<li>罗夏墨迹实验：墨迹图片，要求被试说出看到什么，主试进行提问</li>
<li>主体统觉测验</li>
</ul>
</li>
<li>评价
<ul>
<li>优点：测量结果真实</li>
<li>缺点：
<ul>
<li>评分缺乏客观标准</li>
<li>测验结果难以解释</li>
<li>对特定行为不能提供较好的预测</li>
<li>需要花费大量的时间</li>
<li>需要进行专门训练</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>情境测验
<ul>
<li>主试设立某种情境，在该情境中观察被试的反应，通过反应来推测人的某些人格特征</li>
<li>举例
<ul>
<li>性格的教育测验：通常用于教育评价和人事的选拔</li>
<li>情境压力测验：无领导小组讨论</li>
<li>自我概念测验：形容词列表法；Q分类法</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="人格的成因"><a class="markdownIt-Anchor" href="#人格的成因"></a> <strong>人格的成因</strong></h2>
<ul>
<li>遗传
<ul>
<li>生物的遗传因素影响生物特征</li>
<li>随着人格特质不同而不同</li>
</ul>
</li>
<li>环境因素
<ul>
<li>社会文化因素</li>
<li>家庭环境因素</li>
<li>学校教育因素</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Humanities</category>
      </categories>
      <tags>
        <tag>Psychology</tag>
      </tags>
  </entry>
  <entry>
    <title>社会学概论（一）</title>
    <url>//introduction-to-sociology-1/</url>
    <content><![CDATA[<blockquote>
<p>source: BV1XK4y1n7gp</p>
</blockquote>
<p>社会学：从社会整体出发，通过社会关系和社会行为来研究社会的结构、功能、发生、发展规律的综合性学科。</p>
<p>社会学特点：对研究对象有一定的熟悉</p>
<details>
<summary>相关文献</summary>
1. C. Wright Mills. "The promise of Sociology."《社会学想象力》
2. Peter Berger. Invitation to Sociology.
3. 金耀基：“中国人对隐私权的——中国人文鼎细等线的‘公’、‘私’观念“（？）（只找到了自选集中题目相似的一篇文章（中国人的“公”、“私”观念
――兼论中国人对私隐权的理解））
4. 林语堂：《中国人》第四章”人生的理想“
5. Horace Miner. Body Ritual among the Nacirema
6. George Herbert Mead:" The Self"
7. David Y. F. Ho, "Socialization in China"
8. 林语堂：”理想的女性“”女子教育“
9. James Henslin "On becoming male"（成为男人）
10. 怀特（William Whyte）”诺顿帮的成员“”保龄球和社会地位“，载《街角社会》。
11. Erving Goffman. "The Presentation of Self"《自我呈现》
12. Charles H. Cooley. "Primary Groups"（首属群体或初级群体）
13. Max Weber. "The Characteristics of Bureaucracy"
14. D. L. Rosenhan. "On Being Sane in Insane Places"
15. Emile Durkheim. "The Functions of Crime"《犯罪的功能》
</details>
<h1 id="社会学的视角"><a class="markdownIt-Anchor" href="#社会学的视角"></a> 社会学的视角</h1>
<h2 id="社会学诞生"><a class="markdownIt-Anchor" href="#社会学诞生"></a> 社会学诞生</h2>
<ul>
<li>社会学创始人 <u>孔德</u> 1838 年 实证哲学教程</li>
<li><code>社会学</code>：对于社会现象所固有的全部基本规律的实证研究</li>
<li><code>实证主义</code>：强调感觉经验，排斥形而上学传统的西方哲学派别</li>
<li>观察社会事件视角：偶然性、背后的可理解性</li>
<li>时代背景
<ul>
<li>中世纪的封建教权社会，黑暗时代；</li>
<li>十八世纪启蒙运动（关于人的社会的启蒙），启蒙年代——理性年代：敢于去了解，质疑秩序是怎么来的，启蒙思潮； 人人生而平等</li>
<li>启蒙运动影响：讲科学运用于社会的研究，发现社会的内在规律</li>
</ul>
</li>
<li>双元革命：1789年法国大革命与同期的工业革命
<ul>
<li>人用理性改变不合理的旧制度</li>
<li>伯克，保守主义</li>
<li>工业革命改变了技术生产，也改变了社会，冲击了传统的文化观念、习俗、思想</li>
<li>科技进步的文明带来的野蛮，从自给自足到没有限制的过度劳动。生产力进步导致乡土社会的结构改变</li>
<li>由于生产目的改变，本是流通手段的货币变成了财富主体。由自然天然的生产目的变成了增加商品的使用价值的生产目的。</li>
<li>社会学产生从<u>社会意义</u>讲是“双元革命”之子</li>
</ul>
</li>
<li>乌托邦色彩
<ul>
<li>孔德认为有科学的理论能认识社会，使得社会更人性，建立新的道德，摆脱不道德，恢复<code>道德意涵</code></li>
<li>想象了一个又社会学家领导的家庭式秩序</li>
<li>针对当时不道德的社会带来的不道德的社会现象，用科学的方式的道德关怀</li>
</ul>
</li>
</ul>
<h2 id="社会学发展"><a class="markdownIt-Anchor" href="#社会学发展"></a> 社会学发展</h2>
<blockquote>
<p>社会学发展的三位奠基人，三位思想家，处理社会危机问题（资本主义带来的社会危机）</p>
</blockquote>
<p>卡尔·马克思：科学共产主义创始人，《资本论》《共产党宣言》</p>
<ul>
<li>批评资本主义的极端非人性的制度</li>
<li>研究社会学的角度：阶级分层，否认资本主义的合法性</li>
</ul>
<p>埃米尔·涂尔干：法国社会学家</p>
<ul>
<li>使社会学学院化，建立社会学学科的合法性</li>
<li>研究社会学的观点：
<ol>
<li>社会是一个整体，其整体大于各个部分之和</li>
<li>社会事实外在于个体，社会是客观存在的</li>
<li>社会团结 Solidarity （《自杀论》）因信称义？</li>
</ol>
</li>
</ul>
<p>马克斯·韦伯：现代社会学和公共行政学最重要的创始人之一</p>
<ul>
<li>对社会学最重要的研究：
<ol>
<li>
<p>资本主义的兴起</p>
<p>从“精神氛围”研究资本主义的兴起，资本主义精神，从历史角度看是一个成就（比较宗教研究）</p>
</li>
<li>
<p>提出科层制：理性化的安排生活</p>
<p><code>工具理性</code> 通过实践的途径确认工具的有用性，从未追求事务的最大功效，为人的某种功利的实现服务。极致的工具理性 → 非人性化</p>
<p><code>价值理性</code> 通过有意识地对一个特定的行为（伦理的、美学的、宗教的或做任何其他阐释的）无条件的固有价值的纯粹信仰，不管是否取得成就</p>
</li>
<li>
<p>社会分层</p>
</li>
</ol>
</li>
<li>社会学的<code>三大理论视角</code>
<ol>
<li>
<p>冲突理论——马克思</p>
<p>生产资料的不同占有，占有生产资料的人通过剥夺不占有（只能出卖劳动力）的人来积累财富</p>
</li>
<li>
<p>结构功能主义——涂尔干</p>
<p>有某些外在于人的结构把人团结在一起（信仰、宗教、制度）</p>
<p>从宏观的社会制度的角度研究社会</p>
</li>
<li>
<p>符号互动论——韦伯（成型于米德）</p>
<p>微观的角度：社会行动者，研究有意义的社会行动，典型的社会行动都是社会互动（另外两个都是从宏观角度）</p>
<p>人从具体的行动中界定规则，规则产生作用是人承认规则，强调人与人的联系，强调变化</p>
</li>
</ol>
</li>
</ul>
<h1 id="社会与文化"><a class="markdownIt-Anchor" href="#社会与文化"></a> 社会与文化</h1>
<h2 id="社会"><a class="markdownIt-Anchor" href="#社会"></a> 社会</h2>
<ul>
<li>
<p>汉语中的社会</p>
<p>说文解字：社会 = 社+ 会</p>
<p>社：土地神 → 里舍，乡舍 → 志趣相投的人组成的团体（社团）</p>
</li>
<li>
<p>社会学中的社会（马克思的观点）</p>
<p>社会是人们交互作用的产物。生产关系总和起来就构成为所谓社会关系，构成为社会。</p>
<p>马克思定义的社会是一个实体概念，但不是具体的实体。是通过观察，体会其效用才能证明其效用的实体。</p>
</li>
<li>
<p>社会学的范围</p>
<p>村庄社会、民族国家、全球社会&amp;世界社会</p>
</li>
<li>
<p>社会模型</p>
<p>怎么看待社会，三大社会模型</p>
<table>
<thead>
<tr>
<th></th>
<th>典型思想</th>
<th>代表人物</th>
<th>社会形象</th>
</tr>
</thead>
<tbody>
<tr>
<td>系统模型</td>
<td>结构功能主义</td>
<td>帕累托、斯宾塞、涂尔干、帕森斯</td>
<td>系统、有秩序的<u>整体</u>、共识、一套功能机制</td>
</tr>
<tr>
<td>冲突模型</td>
<td>马克思理论</td>
<td>马克思、韦伯、达伦道夫、米尔斯</td>
<td>共识→意识形态（在每一个时代，统治阶级的思想就是主导思想，“虚假意识”）</td>
</tr>
<tr>
<td>互动模型</td>
<td>符号互动论</td>
<td>韦伯、米德</td>
<td>把社会看作相互作用、沟通、谈判</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id="文化"><a class="markdownIt-Anchor" href="#文化"></a> 文化</h2>
<ul>
<li>
<p>文化有很多不同角度/方面的定义：受教育程度，精致艺术</p>
</li>
<li>
<p>社会学意义上的文化</p>
<p>定义：一个社会或群体共同承认的<u>价值观</u>，遵从的规范，连同他们创造的物质产品</p>
<p>更关注事件，关注具体的现象而非静态的事物</p>
<p>文化界定人之所在</p>
</li>
<li>
<p>社会学/人类学意义上的人类</p>
<p>人是意义型的动物，从社会学意义上的人类来说，绝大多数的行为都涉及到意义</p>
<p>人是文化型的动物，不存在没有文化的人</p>
</li>
<li>
<p>文化定义的演变——从泰勒到格尔兹</p>
<ul>
<li>
<p>泰勒的定义：文化或文明是一个复杂的整体，包括知识、信仰、艺术、伦理道德、法律、风俗和作为一个社会成员的人通过学习而获得的任何其他能力和习惯。</p>
<p>特点：几乎无所不包（没有包含人创造的物质文化），面面俱到</p>
</li>
<li>
<p>马林诺夫斯基（功能主义学派）在泰勒的基础上增加了<u>物质文化</u></p>
<p>掺杂了人为因素的东西都是文化</p>
</li>
<li>
<p>格尔茨：文化是人类用来解释他们的经验，指导他们行动的<code>意义结构</code></p>
<p>特点：将文化看作可以为大众获得的象征形态，人们通过这些象征形态来体验和表达意义。这一界定抛弃了泰勒大而全的定义，将文化定义集中到<code>意义系统</code></p>
<p>文化的意义系统：分享的、共享的</p>
<blockquote>
<p>人是悬挂在由他们自己编织的意义之网上的动物——韦伯；意义之网 → 文化</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>女性主体意识的觉醒</p>
<ul>
<li>
<p>理想传统女性的形象：低眉顺目，相夫教子</p>
<p>女性的客体性（男性为主体），“贤惠、温顺”带有对主体的讨好性，强调社会性属性</p>
</li>
<li>
<p>近代女性强调个体特质：千娇百媚、风情万种</p>
<p>仍然是男性中心，强调身体和性格（对男性的吸引）</p>
</li>
<li>
<p>当代女性：我的标准我做主</p>
</li>
</ul>
</li>
<li>
<p>非主流文化</p>
<p>文化在一定范围内有共享性，但也存在边界</p>
<ul>
<li>
<p>亚文化</p>
<p>当在社会中的某一群体中，形成一种既<u>包括一些主流文化特征</u>，也包括某些<u>独特的文化要素</u>时，这一群体的文化就叫做亚文化</p>
<p>亚文化与主流文化具有相对性，但在核心价值观上与主流文化一致，在发展过程中可能会被主流文化吸收</p>
<p>e.g.: disco</p>
</li>
<li>
<p>反文化</p>
<p>反文化是一种从个根本上与社会主流文化相对立的文化，它<u>有意识的对抗</u>社会上某些最重要的价值和规范，并为此感到自豪</p>
<p>e.g.: 波西米亚人、嬉皮士</p>
</li>
</ul>
</li>
<li>
<p>文化的构成</p>
<ul>
<li>
<p><code>价值观</code>：价值观是指社会成员关于好坏、对错、符合或违背人们愿望等的共同看法，是文化中最核心的部分</p>
</li>
<li>
<p><code>规范</code>：规范是指人们共同遵守的对特定环境中人的正当行为方式做出规定的准则</p>
<p>规范类型：社会习俗 → 道德 → 法律；强制性↑</p>
</li>
<li>
<p>价值观与规范的关系</p>
<p>价值观是抽象的一般观念，规范是具体情况下指导人们行为的准则</p>
<p>价值观被用作判断规范的尺度，规范是价值观的体现</p>
<p>具体的规范往往受到抽象的价值观的影响</p>
<p>仁义礼智信，仁是儒家核心价值观，礼是规范</p>
</li>
<li>
<p><code>物质文化</code> ：反映人与自然的关系，包括生产工具、生活用品等物质成果</p>
</li>
</ul>
</li>
<li>
<p>文化的变迁</p>
<p>文化是会发生变化的，价值观变化得慢，物质文化变化得快，但这种变化对我们不会造成很大影响（相对于价值观变化来说）；三种文化构成惰性逐渐减弱（文化堕距）</p>
<p>每个人都在参与文化的创造与变化，“自己编织的意义之网”</p>
</li>
<li>
<p>文化整体性</p>
<p>一个部分发生变化会引起另一个部分的适应性变化（物质文化变了会影响规范），</p>
<p>文化不是简单的combination，价值观是界定&amp;区分文化的最重要的部分；但文化也不是天衣无缝的嵌套，文化内部有张力 → 变迁</p>
</li>
</ul>
<h1 id="社会互动与社会结构"><a class="markdownIt-Anchor" href="#社会互动与社会结构"></a> 社会互动与社会结构</h1>
<p>社会互动</p>
<ul>
<li>社会互动是指社会上个人与个人、个人与群体、群体与群体之间通过信息的传播而发生的相互依赖性的社会交往活动</li>
</ul>
<p>社会结构</p>
<ul>
<li>社会结构就是用来统摄人们关系，<u>有组织的行为模式</u>（斯梅尔瑟）</li>
<li>社会结构是个体与群体之间的互动模式，社会生活并不是随机发生的，我们的大部分活动都是结构化的，它是以一种<u>有规律的，反复的方式组织在一起</u>的</li>
<li>是一套<code>模式化的社会互动</code></li>
<li>社会结构的要素：地位、角色、群体、组织、制度等</li>
</ul>
<h2 id="社会地位和社会角色"><a class="markdownIt-Anchor" href="#社会地位和社会角色"></a> 社会地位和社会角色</h2>
<p>社会地位</p>
<ul>
<li>
<p>社会地位是个人在社会关系体系中所处的位置</p>
<p>与平时所说的“有地位”不是一回事，社会地位是没有高下之分的</p>
</li>
<li>
<p>人们获得地位的两种途径：</p>
<ol>
<li>
<p>先赋地位：出生时获得的地位（年龄、性别、种族）</p>
</li>
<li>
<p>自致地位/成就地位：后天努力获得的社会地位，可以改变的地位（职业）</p>
<p>等级&amp;阶级：等级是先赋地位，阶级是具有流动性的自致地位</p>
</li>
</ol>
</li>
<li>
<p>主导地位</p>
<p>人可以有很多种地位（位置），有一种地位是主要的 → 主导地位</p>
<p>主导地位会随着社交场景、他人期望、刻板印象不同而不同；当这种主导地位，即社会认同与个人期望不符合时会给人带来痛苦</p>
<p>重要的主导地位：种族、性别、特殊群体（女强人、黑人律师、残疾人作家）</p>
</li>
<li>
<p>地位丛</p>
<ul>
<li>不同的社会地位集聚在同一个人身上，即一个人所有的社会地位的集合</li>
</ul>
</li>
</ul>
<p>社会角色</p>
<ul>
<li>
<p>社会角色是指人们在社会生活中形成的，与人们在社会关系体系中所处的地位相一致的、社会所期望的<code>一套行为模式</code></p>
<p>占据了特定社会地位的人，我们对其会有一套内置的（由规则、规矩、道德等）框定的社会期期待，期待其按照特定的“脚本”扮演特定角色</p>
</li>
<li>
<p>角色紧张和角色冲突</p>
<p>角色紧张：扮演<u>某一特定角色</u>时，对角色不同期望的内在张力之间可能会存在冲突，造成角色紧张</p>
<p>e.g.: 学生的创造性和尊重权威之间的平衡和矛盾</p>
<p>角色冲突：扮演<u>不同角色</u>时，角色之间发生矛盾、对立和抵触，妨碍角色扮演的顺利进行</p>
<p>e.g.: “忠孝难两全”，不同角色的期望互相冲突</p>
</li>
<li>
<p>角色丛</p>
<p>一个社会角色是多种更细分的社会关系的角色的集合</p>
</li>
</ul>
<h2 id="社会行动"><a class="markdownIt-Anchor" href="#社会行动"></a> 社会行动</h2>
<blockquote>
<p>social action 社会行动，区别于 social behavior 社会行为</p>
</blockquote>
<ul>
<li>
<p>社会行动是指行动的个人赋予其行为以<u>主观意义</u>行动时，<u>考虑到他人</u>的行为</p>
<p>社会行动在满足自己需求的同时，也是他人指向的</p>
<p>社会行为 behavior 是物理层面的，社会行动 action 强调其意义和动机</p>
</li>
</ul>
<h2 id="社会互动"><a class="markdownIt-Anchor" href="#社会互动"></a> 社会互动</h2>
<p>个体之间的任何形式的社会接触，是个人做出互动及他人做出反应的过程</p>
<ul>
<li>
<p>日常中的社会互动</p>
<ul>
<li>文明的疏忽（有礼貌的不注意）：刻意当对方不存在，刻意忽视对方</li>
<li>反应性惊呼：反应性惊呼是人们对于社会生活细节的控制性管理的一部分（戈夫曼）</li>
</ul>
</li>
<li>
<p>社会互动的研究在社会学中的意义</p>
<ol>
<li>我们的那些几乎是恒定的与他人交往的日常例行活动，赋予我们的所作所为一定的结构和形式（模式化的）</li>
<li>研究日常生活能让我们了解到人类是如何通过创造性的行为来塑造现实的（变化的）</li>
<li>研究日常生活中的社会互动有利于我们理解更大的社会系统和社会制度（从微观到宏观，微观体现了本质规律）</li>
</ol>
</li>
<li>
<p>研究社会互动的理论：Ethnomethodology <code>常人方法学</code></p>
<p>日常谈话 like：昨天干什么了/没干什么，出去干啥/不干啥</p>
<p>人们的日常互动包含了很多隐含假设、预先假设、未曾言明但彼此了然于心的共识/背景，依赖于双方建构的共享的背景</p>
</li>
<li>
<p>无焦点互动和有焦点互动</p>
<ul>
<li><code>无焦点互动</code>：一旦在场个体表现出彼此的相互觉察，无焦点的互动就发生了</li>
<li><code>有焦点互动</code>：一旦个体直接关注别人的言行，有焦点的互动就发生了（接触）</li>
</ul>
<p>社会互动通常两者兼具</p>
<p>某些场景下，无焦点互动会转化为有焦点互动（搭讪）</p>
</li>
<li>
<p>印象管理</p>
<p>互动中行动者本人的<u>主动性</u>，通过一些主动的行为塑造他人对自己的印象，表现在前台和后台两个方面（戏剧的概念），<code>拟剧理论</code></p>
<p>前台：和别人互动的场景</p>
<p>后台：没有和别人发生互动的场景</p>
</li>
<li>
<p><code>符号互动论</code>的四个要点</p>
<ol>
<li>
<p>人类最本质的特征是运用符号</p>
</li>
<li>
<p>社会世界是一个动态辩证的网络，互动情境总是伴随着不稳定的结果，生活永远是在变动和生成当中</p>
</li>
<li>
<p>社会世界是互动的世界，不存在独立的个人</p>
<p>自我是通过与他人互动产生的，封闭的个人是没有自我的</p>
</li>
<li>
<p>符号互动论者的目的是从符号过程及互动背后发现社会生活潜藏的模式和形式</p>
</li>
</ol>
</li>
</ul>
<p>微观的社会互动怎么和宏观的社会现象联系起来？</p>
<ul>
<li>
<p>格奥尔格·齐美尔指出，现代城市生活要求个体和其社会环境保持一种距离（齐美尔《现代性的碎片》）</p>
<p>现代城市人冷漠的特点其实是在寻求某种形式的自我保护，寻求精神和心灵的距离</p>
<p>旅途中的相识通常都发展出一种没有真正内在理由的亲密和坦诚。有三个因素在起作用：非常规状态、瞬间印象和邂逅产生的心意相通感，以及对接踵而至的必然分手的共识。你遇到的是一个无需承担责任，很快就要永远分手的人，且都是匿名的。而在长期关系中，我们学会了根据（预先）体验其后果来控制那种表达自己的冲动。</p>
</li>
</ul>
<p>互动形式的变化导致的社会变迁、人际关系的变化</p>
<ul>
<li>
<p>新的互动技术和沟通手段（沟通媒介）变化 → 互动特点变化 → 人际关系变化</p>
<p>面对面 → 书信 → 通信 → 互联网</p>
</li>
</ul>
<h1 id="越轨行为与社会控制"><a class="markdownIt-Anchor" href="#越轨行为与社会控制"></a> 越轨行为与社会控制</h1>
<h2 id="越轨行为"><a class="markdownIt-Anchor" href="#越轨行为"></a> 越轨行为</h2>
<blockquote>
<p>社会学对越轨行为的解释</p>
</blockquote>
<p>失落理论（社会失范）</p>
<ul>
<li>
<p>也叫<code>结构紧张理论</code></p>
</li>
<li>
<p>指当社会规范不得力、不存在，或者彼此相互矛盾时，个人和社会所出现的混乱、不知所措状态（涂尔干——社会分工论）</p>
</li>
<li>
<p>在理想社会状态下，社会结构为人们实现理想目标提供了比较充分的合法的制度化手段，社会合法目标、制度化手段之间是协调的。</p>
<p>而“失范”则是理想目标和实现手段之间的背离，社会成员的行为缺乏明确的社会规范约束，出现一种社会规范权威失落，人们会采取不合法的手段去实现自己的目标。（默顿、功能主义）</p>
</li>
<li>
<p>默顿关于个人对文化目标的选择模式</p>
<table>
<thead>
<tr>
<th>适应类型</th>
<th>文化目标</th>
<th>制度化手段</th>
<th>特征</th>
</tr>
</thead>
<tbody>
<tr>
<td>遵从主义者</td>
<td>接受</td>
<td>接受</td>
<td>认同文化并循规蹈矩</td>
</tr>
<tr>
<td>创新主义者</td>
<td>接受</td>
<td>不接受</td>
<td>认同文化但有新的手段和行为</td>
</tr>
<tr>
<td>仪式主义者</td>
<td>不接受</td>
<td>接受</td>
<td>循规蹈矩但对其背后的目标失去了信心，不接受文化提供的目标</td>
</tr>
<tr>
<td>退却主义者</td>
<td>不接受</td>
<td>不接受</td>
<td>不接受现有目标也不采纳现有的手段，表现出否定的倾向，对现有的脱离</td>
</tr>
<tr>
<td>反叛主义者</td>
<td>不接受</td>
<td>不接受</td>
<td>不接受现有目标也不采纳现有的手段，但同时代替以新的目标和新的手段（革命者）</td>
</tr>
</tbody>
</table>
<ul>
<li>文化目标：个人是否认同社会提供的文化价值和目标（价值观？）</li>
<li>制度化手段：遵照社会认同、社会规范等控制个人的行为？——循规蹈矩（接受教育、努力工作、严格财务规划等）</li>
</ul>
</li>
<li>
<p>过渡性社区的解释（城市社会学、芝加哥学派、帕克）</p>
<p>同心圆理论-伯吉斯：中心商务区、过渡区、工人居住区、良好住宅区、通勤区（从内到外），研究芝加哥犯罪高发，越轨行为普遍的原因</p>
<p>中心区、过渡区没有正常完善的社区功能（社区解组），帮派在某种意义上起到了维护社会秩序的作用；另一方面提供了被主流社会排挤的情感上的出口</p>
</li>
</ul>
<p><code>差异交往理论</code></p>
<ul>
<li>
<p>通过置身于个体的亲密群体中，人们学会守法与违反的定义，学会了规范的意义和价值，学会了对违法行为支持或不论的态度。</p>
<p>一个人之所以越轨或犯罪，是因为在行为人脑中，支持犯罪行为的解说远远地超过了支持遵纪守法的解说。</p>
</li>
<li>
<p>与过渡性社区的解释有联系</p>
</li>
</ul>
<p>亚文化</p>
<ul>
<li>经过社会变迁，原本被视为越轨行为的行为变成了正常的行为（同性恋、精神疾病、流浪汉）</li>
<li>降低越轨标准，越轨行为就减少了）</li>
</ul>
<p><code>标签理论</code></p>
<ul>
<li>
<p>符号互动论+冲突理论的解释，解释怎么样会成为越轨行为（贴标签的过程）</p>
<p>标签理论者把越轨行为理解为越轨行为者与非越轨行为者之间的一种<u>互动过程</u>，而不是个人或群体以及行为本身所具有的一套特征</p>
</li>
<li>
<p>有权力的人、维持秩序的人有能力贴标签，有能力定义什么是越轨、定义什么人做什么事是越轨</p>
<p>实际上标签表达的是社会的权力结构，规则是由富人为穷、男性为女性、年长者为年轻者以及大族群为较小族群制定的——冲突理论</p>
</li>
<li>
<p>贴标签+自我实现预言=越轨行为</p>
</li>
<li>
<p>行为结果的差异化影响：人难免有越轨行为，重要的不是越轨行为，是其他非越轨行为人（这些人或许对你很重要，对你的影响很大）的反应，当非越轨行为的人给越轨人贴上标签的时候（社会强加给他的标签），会影响他的认同，改变他的行为</p>
<p>行为本身并不是某人成为越轨者的决定性因素，而在于贴标签的过程（他人的反应）</p>
<p>e.g.: 小孩子偷拿一支笔 → 小偷？→ 孤立 → 导向更严重的越轨行为</p>
</li>
<li>
<p>越轨行为就是被人们贴上如许标签的行为（霍华德·贝克尔）</p>
<p>他猛烈抨击那些认定正常与越轨之间，有泾渭分明界限的传统犯罪学思维</p>
</li>
<li>
<p>标签理论把越轨行为分为初级越轨和次级越轨</p>
<p>最初的越轨行为被定义为<code>初级越轨</code>，处于越轨临界状态，对个人认同不会产生实质性影响，多数人都会走上规范化的过程</p>
<p>但是在有些场景下规范化没有发生，ta 被贴上标签（被识别并界定为越轨），自省行为被打断，反方向发展，此时就变成了次级越轨；</p>
<p><code>次级越轨</code>：越轨者逐渐接受这些标签，并把自己当做越轨者的情形，此时标签就成了个人身份认同的核心，并导致越轨行为的延续和强化（态度影响行为）</p>
</li>
</ul>
<h2 id="越轨之于社会的作用"><a class="markdownIt-Anchor" href="#越轨之于社会的作用"></a> 越轨之于社会的作用</h2>
<ul>
<li>
<p>对犯罪事件的“公愤”把正直的意识团结在一起，集中在一起，从负向强化了对社会规范、价值的认同</p>
<p>e.g.: 犯人被公开执行绞刑，公众狂欢：公众看到正义被伸张，体现公众对规则和价值观的认同和拥护，是一个<code>重申社会</code>的过程</p>
</li>
<li>
<p>从某种意义上促进了社会变迁，新的行为或价值观可能带来巨大的社会变动（革命，对同性恋的看法）</p>
</li>
</ul>
<h1 id="不平等-阶级与社会分层"><a class="markdownIt-Anchor" href="#不平等-阶级与社会分层"></a> 不平等、阶级与社会分层</h1>
<h2 id="不平等"><a class="markdownIt-Anchor" href="#不平等"></a> 不平等</h2>
<ul>
<li>
<p><code>社会分化</code>：进化论或结构功能意义上的分化：从简单到复杂，从功能一体到专业分工的过程</p>
<p>自然经济是一个高度不分化的经济体系（小而全）；现代社会体系是一个高度分化的经济体系（高度社会分工）</p>
</li>
<li>
<p>不平等是社会分化导致的</p>
<p>社会分化造成个体差异，差异本质上不存在高下之别。但由于某些原因，不同分工的人有不同的职业、收入、地位和权利，由此导致了不平等现象的发生</p>
<p>不平等不是个例，是系统性/结构性的原因造成的，分化/阶级/阶层都是用来<u>刻画</u>不平等的方式</p>
<blockquote>
<p>逆城市化；穷人缺少政治影响力（亦见《新穷人》）；社会财富分布不均匀（28 定律）</p>
</blockquote>
</li>
<li>
<p>人在社会中的位置是一个复杂的组合（出身/继承、运气、努力），重要性分先后。但由于自我实现的预言效应和归因理论，我们倾向于认为努力是最重要的</p>
</li>
<li>
<p>三种制造不平等的机制：</p>
<ol>
<li>
<p>等级：典型存在于欧洲封建体制（贵族，平民、农奴）；在中国，更接近与西周的分封制</p>
<p><u>明确存在</u>于（习俗、体制、法律）社会中的等级分隔，不同等级的<u>流动很困难</u>，鸿沟是很清晰的（区别于阶层）</p>
<p>等级制在欧洲结束于双元革命（启蒙运动），中国新文化运动</p>
</li>
<li>
<p>种姓：典型存在于印度的种姓制度</p>
<p>一个人的社会地位是毕生注定的，不同种姓之间是<u>封闭</u>的，一个人的种姓来源于亲代，是不可改变的</p>
</li>
<li>
<p>阶级：相对于等级制，是一个<code>”开放“</code>的层级体系，没有明确的限制阶级的改变，是一个新的不平等的体系</p>
</li>
</ol>
</li>
<li>
<p>阶级制的特点</p>
<ol>
<li>
<p>阶级体制是<code>流动</code>的</p>
<p>没有明确限制阶级的流动（理论上没有，但实际上阻力很大），阶级之间的界线没有明确的划分</p>
</li>
<li>
<p>阶级位置在一定程度上是<code>获致</code>的</p>
<p>个体的地位不是生来就注定的，是可以通过自身行动改变的</p>
</li>
<li>
<p>阶级是以经济角度为基础的</p>
</li>
<li>
<p>阶级体制是大规模的，非人身性的</p>
</li>
</ol>
</li>
<li>
<p>古代中国</p>
<p>从秦至清朝的体制并不是典型的等级或阶级制（钱穆：平铺社会），它具有等级或阶级制的一些特点，不同等级之间有一定的流动性和获致性（科举制），但这种流动性与现在的资本主义体系下的流动性不同，从形式上看具有阶级体制的特征</p>
</li>
</ul>
<h2 id="阶级"><a class="markdownIt-Anchor" href="#阶级"></a> 阶级</h2>
<ul>
<li>
<p>马克思的阶级概念</p>
<p>所谓上层阶级/中产阶级，固然存在不平等，但更多的是秩序方面的含义（社会可以划分成不同的阶级）</p>
<p>马克思的阶级（对抗性、冲突性）：<u>资产阶级、无产阶级</u>，通过对<code>生产资料</code>的占有来定义阶级，占有生产资料的人通过比较隐蔽的方式（剩余价值）来占有其他人的劳动。</p>
<p>资产阶级的革命产生在旧社会的不平等制度之上，在获得法律意义上政治意义上的不平等之后，又造成了<u>事实上的不平等</u>；马克思认为这种平等本质上是维护拥有生产资料的人（资产阶级），压榨无产阶级的暴力机器 → 对抗性。</p>
<p>马克思的分析过于理想化，他认为两个阶级是对立的，中间的过渡阶级是在萎缩的（中产阶级），只是临时性的形态。（现代社会中产阶级不断壮大）</p>
<p>现代社会的两个阶级的冲突对立体现在更复杂的形式上（中产阶级的矛盾、不同阶层的内在的困扰）。现代欧美的冲突似乎并不剧烈（福利国家出现，工人待遇变好），实际上资本主义内在的对立冲突并没有消失，而是变换了方式（在地理上的转移，将矛盾转移到第三世界，其他地区的劳工的状况恶化）</p>
<blockquote>
<p><code>依附理论</code>、世界体系理论</p>
</blockquote>
</li>
<li>
<p>韦伯的阶级概念</p>
<p>马克思·韦伯认为社会是以围绕权力和财富的冲突为特征的；马克思把两极化的阶级关系的经济问题视为所有社会冲突的核心</p>
<p>韦伯认为除了经济上的不平等，还有其他维度的不平等有同样的重要性（阶级-经济、地位-社会、党派-政治）</p>
<p>马克思强调的经济不平等指的是<code>生产资料</code>，韦伯认为阶级的划分不仅源自于生产资料的控制，而且源自于对财产没有直接影响的的经济差别（技能、文凭、资格、岗位），即<code>市场位置</code> ，这会影响人们的<code>生活机会</code></p>
<blockquote>
<p>马克思只关注生产资料的片面性和深刻性：农民工拥有技能，但技能不被重视：分配体制和生产体制决定了农民工的技能能够有多大的价值（技术的政治性，我们愿意赋予技术什么样的位置）</p>
</blockquote>
</li>
</ul>
<h2 id="社会分层"><a class="markdownIt-Anchor" href="#社会分层"></a> 社会分层</h2>
<ul>
<li>
<p>存在韦伯的阶级概念中，强调一个人生活机会的差别（对应马克思的劳工研究）</p>
</li>
<li>
<p>社会分层是根据某种标准将社会成员分属为相应社会阶层的过程</p>
<p>社会分层从三个层面来描述不平等（划分社会阶层的三个标准）</p>
<ol>
<li>经济层面（收入、财富）</li>
<li>政治层面（权力）</li>
<li>社会层面（声望、地位）</li>
</ol>
<p>社会分层是对不平等现象的揭示，是一种既成事实，这种解释有其合理合法性</p>
<p>社会分层承认不平等，可以通过流动改变，承认可以通过制度修补减弱不平等，达成相对公平的社会</p>
</li>
<li>
<p>功能主义和冲突理论对分层的区分</p>
<table>
<thead>
<tr>
<th></th>
<th>冲突理论</th>
<th>功能主义</th>
</tr>
</thead>
<tbody>
<tr>
<td>不平等</td>
<td>拥有资源的人剥夺没有资源的人的结果（不需要的）</td>
<td>激发人们填充社会需要的位置的机制（必要的）</td>
</tr>
<tr>
<td>阶级结构</td>
<td>不同的人为了竞争资源而造成的结果</td>
<td>为了更加团结相互依赖的社会所必需的（分化是必需的）</td>
</tr>
<tr>
<td>生活机会</td>
<td>重要的职位可能反而获得的最少（如何赋予重要性？）</td>
<td>工作最辛苦的人、成功的人有更大的生活机会</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>橄榄型的社会结构，西方世界阶级结构稳定是因为中产阶级不断壮大（中产阶级求稳大于求变）</p>
<p>中国有相当大一部分的底层群体在过去二三十年间，上升为中产阶级的通路被阻断了（why？），在今天的社会经济体制下，走向橄榄型的社会结构并不乐观（非正规经济 like 进城农民工、低端工作者，有 2 亿左右的人口），西方社会的中产阶级图示对中国社会的土壤并不适用（福利国家 → 中产阶级）</p>
<p><code>福利国家</code>和中产阶级是紧密联系的，资本主义国家从边缘半边缘地区获取大量利润，缓解资本主义危机，给员工比较高的福利，出现了中产阶级</p>
</li>
<li>
<p>新的不平等</p>
<p>2000 年以前制造业积累资本，2000 年以后转移为地产、金融积累高额资本 → 高房价 → 中产阶级消亡</p>
<p>无数的选择（选择什么工作） → 为个人负责、个体竞争（服务于资本主义市场体制的意识形态）实际上是隐蔽地服务于今天的经济体制以及经济体制产生的巨大的不平等的意识形态 → 新时代的不平等的形式（找不到制造不平等的敌人）</p>
</li>
</ul>
<h2 id="中国社会的不平等情况"><a class="markdownIt-Anchor" href="#中国社会的不平等情况"></a> 中国社会的不平等情况</h2>
<ul>
<li>
<p>回顾</p>
<p>新中国建立，意图改变过去不平等的机制，建立平等的国家（1949～1978）：尝试探索平等（获得一定成效）但留下了很多问题</p>
<p>改革开放引入市场机制尝试解决问题（后社会主义时代，社会主义政体+资本主义经济制度）：不平等的问题又重新出现，不平等急剧加剧</p>
<p>经济结构的变化是同社会结构的变化联系在一起的</p>
</li>
<li>
<p>衡量不平等的指标</p>
<ul>
<li>基尼系数：改革开放前 0.2，2023 年 0.47（相当不平等）</li>
<li>五分位法：1990年 4.2 倍，1998 年 9.6 倍</li>
</ul>
</li>
<li>
<p>阶级不平等</p>
<p>中国社会分层的金字塔型结构，底层人口最多，付出最多的劳动，被汲取最多资源（2000 年左右）</p>
</li>
<li>
<p>城乡不平等</p>
<p>户口制度：以前农村户口无法改变；服务于国家工业化；城乡户口分隔是一种弱化的种姓制度，收入差别大到无法忽视</p>
<p>对农村收入有高估的倾向，对城市收入有低估的倾向（再加上教育住房医疗的福利）</p>
<p>结构性的不平等（体制的不平等）</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Humanities</category>
      </categories>
      <tags>
        <tag>Sociology</tag>
      </tags>
  </entry>
  <entry>
    <title>社会心理学（一）</title>
    <url>//social-psychology-1/</url>
    <content><![CDATA[<blockquote>
<p>参考书籍：《社会心理学》第11版</p>
</blockquote>
<h1 id="导论"><a class="markdownIt-Anchor" href="#导论"></a> 导论</h1>
<ul>
<li>社会心理学是一门研究人们如何看待他人，如何相互影响，以及如何与他人互相关联的科学</li>
</ul>
<h3 id="重要观点"><a class="markdownIt-Anchor" href="#重要观点"></a> 重要观点</h3>
<ul>
<li>我们构建了社会现实</li>
<li>社会直觉通常强大但有时也危险</li>
<li>社会影响塑造行为</li>
<li>个人态度和性格倾向塑造行为</li>
<li>社会行为有其生物性基础</li>
<li>社会心理学原理在日常生活中的应用（信念、态度、社会关系）</li>
</ul>
<h3 id="价值观影响心理学"><a class="markdownIt-Anchor" href="#价值观影响心理学"></a> 价值观影响心理学</h3>
<ul>
<li>直接影响
<ul>
<li>当选择研究课题时，价值观会对其产生影响</li>
<li>价值观影响投身于不同学科的人群类型</li>
<li>价值观是社会心理学分析的对象</li>
</ul>
</li>
<li>间接影响
<ul>
<li>科学存在主观性的一面（科学并非全然客观；社会表征）</li>
<li>隐含价值观的心理概念（陈述事实？价值判断！）</li>
</ul>
</li>
</ul>
<h3 id="社会心理学是常识吗"><a class="markdownIt-Anchor" href="#社会心理学是常识吗"></a> 社会心理学是常识吗</h3>
<ul>
<li><code>后见之明偏差</code></li>
<li>常识总在事后证明是正确的，在事实揭晓之后才显得“显而易见”</li>
</ul>
<h3 id="研究方法"><a class="markdownIt-Anchor" href="#研究方法"></a> 研究方法</h3>
<ul>
<li>假设的形成与验证
<ul>
<li>理论：一套原则的整合，可以对观察到的事件进行概括（能有效概括大量结果）和预测（做出清晰预测，便于 确证或修正理论 / 激发新的探索 / 指出可能的应用方向）</li>
</ul>
</li>
<li>相关研究（探寻两个或多个因素之间的自然关系）
<ul>
<li>相关与因果关系（X 导致 Y / Y 导致 X / 共同受到 Z 的影响）</li>
<li>调查研究（可能会造成偏差）
<ul>
<li>是否有具有代表性的样本</li>
<li>问题的顺序</li>
<li>答案的选项</li>
<li>问题的措辞</li>
</ul>
</li>
</ul>
</li>
<li>实验研究（通过操纵一些因素来考察它们对其他因素的影响）
<ol>
<li>控制（变量的操纵）</li>
<li>随机分配（消除额外变量的干扰）</li>
</ol>
</li>
</ul>
<h1 id="社会思维"><a class="markdownIt-Anchor" href="#社会思维"></a> 社会思维</h1>
<blockquote>
<p>我们如何看待他人（社会认知）</p>
</blockquote>
<h2 id="社会中的自我"><a class="markdownIt-Anchor" href="#社会中的自我"></a> 社会中的自我</h2>
<h3 id="焦点和错觉"><a class="markdownIt-Anchor" href="#焦点和错觉"></a> 焦点和错觉</h3>
<ul>
<li>焦点效应：人类往往会把自己看做一切的中心，并直觉地高估别人对我们的关注程度（物理方面）</li>
<li>透明度错觉：我们能敏锐捕捉到自己的情绪但其他人并不如此（情绪方面）
<ul>
<li>社会环境对自我觉知的影响</li>
<li>带有自我服务色彩的社会判断</li>
<li>自我关注激发的社会行为</li>
<li>社会关系有助于我们界定自我</li>
</ul>
</li>
</ul>
<h3 id="自我概念"><a class="markdownIt-Anchor" href="#自我概念"></a> 自我概念</h3>
<ul>
<li>自我的概念
<ul>
<li><code>自我图示</code> ：自我的概念构成要素以及定义自我的特殊信念</li>
<li><code>可能自我</code> ：包括我们梦想中自己的样子，能对我们产生巨大的激励作用</li>
</ul>
</li>
<li>社会自我的发展
<ul>
<li>我们在社会生活中扮演的角色</li>
<li>社会比较：生活的大部分是围绕着社会比较进行的</li>
<li>其他人的评价；<code>镜像自我</code></li>
</ul>
</li>
<li>自我与文化
<blockquote>
<p>个人主义 &amp; 集体主义</p>
</blockquote>
<ul>
<li>个人与社会文化的互动：个人观念创造了社会文化 ？社会文化影响了个人观念</li>
<li>文化与认知：独立的自我 &amp; 相互依赖的自我</li>
<li>文化和自尊
<ul>
<li>在集体主义中，自尊与“别人怎么评价我和我的群体”密切相关；自我概念是有弹性的（与特定情境有关）而不是固定不变的（夸情境的持久性）</li>
<li>个人主义文化中，个体自尊更多是个人的而不是关系的</li>
</ul>
</li>
</ul>
</li>
<li>自我认识
<ul>
<li>解释我们的行为</li>
<li>预测我们的行为（<code>规划谬误</code>——低估完成事情的时间）</li>
<li>预测我们的感受（<code>影响偏差</code>——高估情绪事件的持久性影响；<code>免疫忽视现象</code>——心理的免疫系统）</li>
<li>自我分析的智慧和错觉（<code>双重态度系统</code>——控制我们社会行为的心理过程与解释我们行为的心理过程截然不同，关于人或事的自动的内隐态度通常与受意识控制的外显态度不同）</li>
</ul>
</li>
</ul>
<h3 id="自尊的实质及其动机力量"><a class="markdownIt-Anchor" href="#自尊的实质及其动机力量"></a> 自尊的实质及其动机力量</h3>
<blockquote>
<p>自尊 = 自我图示 + 可能自我？</p>
</blockquote>
<ul>
<li>自尊动机
<ul>
<li>大多数人努力维持自己的自尊</li>
<li>自尊的威胁：自尊水平会影响个体反应
<ul>
<li>高自尊的人会做出补偿反应（责怪别人、下次更努力），有助于保护积极的自我感觉</li>
<li>低自尊的人更容易自责或放弃努力</li>
</ul>
</li>
<li>人际关系对我们的生存和发展具有导向意义
<ul>
<li>社会拒绝会降低我们的自尊，同时增强我们渴望被接受的意愿</li>
<li>驱使我们通过兴东来发展自我，在其他地方寻求社会接纳和认同</li>
</ul>
</li>
<li>“恐惧管理理论”观点</li>
</ul>
</li>
<li>自尊的阴暗面
<ul>
<li>自恋——当自尊变成自负
<ul>
<li>大多数高自尊的人都重视个人成功和他人的关系，但自恋的人缺失关心他人（自我为中心）
<blockquote>
<p>“黑暗三角”的消极特质：自恋、权术主义、反社会人格</p>
</blockquote>
</li>
<li>高自尊且高自恋的人具有攻击性（报复）</li>
<li>集体自恋</li>
<li>自恋人数在增加：物质主义、同理心能力降低</li>
</ul>
</li>
<li>低自尊与安全型自尊
<ul>
<li>低自尊的人容易面临各种临床问题：焦虑、孤独、饮食障碍</li>
<li>安全型自尊：因为自己的内在特质而不是外在而感觉良好</li>
<li>自我同情：不与他人比较，而是善待自己</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="知觉到的自我控制的意义"><a class="markdownIt-Anchor" href="#知觉到的自我控制的意义"></a> “知觉到的自我控制”的意义</h3>
<ul>
<li>自我的能量
<ul>
<li>努力做自我控制会消耗我们有限的意志力</li>
<li>自我的力量会耗尽，但是自我概念会影响我们的行为</li>
</ul>
</li>
<li>自我效能 <code>self-efficacy</code>
<ul>
<li>对自己能力与效率的乐观信念可以获得很大的回报</li>
<li>自我效能感会随着辛苦付出换来的成就而增强</li>
<li>自我效能和自尊的区别
<ul>
<li>自我效能：相信自己<u>有能力做一些事</u></li>
<li>自尊：由衷地<u>喜欢自己</u></li>
</ul>
</li>
<li>自我效能 = 社会说服 + 自我说服</li>
<li>自我效能感的主要来源是成功的体验</li>
</ul>
</li>
<li>控制点 locus of control
<ul>
<li>内部控制点：命运由自己掌控</li>
<li>外部控制点：机会和外部力量决定了你的命运</li>
<li>多大程度感觉到控制，取决于我们的挫折归因</li>
</ul>
</li>
<li>习得性无助
<ul>
<li>无法控制的不利事件 → 知觉到缺乏控制 → 习得性无助</li>
</ul>
</li>
<li>过度的自由
<ul>
<li>为人们提供较小的选择范围可能为他们提供较大的选择范围更能带来满足感</li>
</ul>
</li>
</ul>
<h3 id="自我服务偏差"><a class="markdownIt-Anchor" href="#自我服务偏差"></a> 自我服务偏差</h3>
<ul>
<li>自我服务偏差的表现
<ul>
<li><strong>自我服务归因</strong> <code>self-serving attributions</code>
<ul>
<li>把好的结果归因与自己，而把坏的结果归因于其他；将自我与成功相联系，而刻意避开失败对自我的影响</li>
<li>可能的生理学解释：进行自我服务归因能够激活奖赏和愉悦相关的脑区</li>
<li><code>偏见盲点</code>：我们的偏见会让我们无视自己的偏见（自己避免了自我服务偏差，但却认为别人持有这一偏见）</li>
</ul>
</li>
<li>自我恭维的比较
<ul>
<li>拿自己和别人比较时也会出现自我服务偏差</li>
<li>群体的每个成员对自己为工作所做贡献的评价之和总是超过 100%</li>
<li>可能的原因：我们对自己行为的了解远多于对别人行为的了解，于是我们假设其他人的行为不会比自己更极端</li>
<li>主观维度（自律的）将比客观维度（守时的）引发更强的自我服务偏差</li>
</ul>
</li>
<li>盲目乐观
<ul>
<li>盲目乐观让我们更加脆弱</li>
<li>防御性悲观主义（居安思危）</li>
</ul>
</li>
<li><code>虚假普遍性</code>效应
<ul>
<li>过分高估或低估他人会想我们一样思考和行事的程度</li>
<li>原因：归纳性结论只来自一个有限的样本，而这个样本还包括我们自己，于是用自己的内心投射他人</li>
</ul>
</li>
<li><code>虚假独特性</code>效应
<ul>
<li>在能力方面，当我们获得成功时时常发生</li>
<li>把自己的才智和品德看成超乎寻常的，以完善自我形象</li>
</ul>
</li>
</ul>
</li>
<li>对自我服务偏差的解释
<ul>
<li>知觉错误
<ul>
<li>加工和记忆有关个人信息的副产品：将自己与他人比较，要求我们去注意、评价、回忆自己和他人的行为，这就增加了信息加工过程中出错的机会</li>
</ul>
</li>
<li>自我服务动机
<ul>
<li>渴望自我证实、验证我们的自我概念</li>
<li>寻求自我确认，希望能提升自我形象</li>
<li>自尊的动机也促进了自我服务偏差的出现</li>
</ul>
</li>
</ul>
</li>
<li>自尊和自我服务偏差的反思
<ul>
<li>适应性
<ul>
<li>保护人们免受抑郁的侵害</li>
<li>帮助人们缓解压力</li>
<li>在自我服务知觉中可能存在某种实践智慧，认为自己比真实中的自我更聪明、强大、成功。也许是一种有利的策略</li>
<li>激发我们努力（自我实现的预言），在困境中保持希望</li>
</ul>
</li>
<li>不良适应
<ul>
<li>自我服务知觉可以损害一个群体——认为自己更杰出——引发不和与嫉妒</li>
<li>群体服务偏差：夸大人们对自己群体的评价</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="自我表露的管理"><a class="markdownIt-Anchor" href="#自我表露的管理"></a> 自我表露的管理</h3>
<ul>
<li>自我妨碍
<ul>
<li>设置障碍来阻挠自己的成功（而达到自我保护的目的：要不是因为 xxx，我肯定能干好）</li>
<li>自我妨碍有利于我们把失败归因于一些暂时的或外在的因素（借口）</li>
</ul>
</li>
<li>印象管理
<ul>
<li>自我表露：想要向外在的观众和内在的观众展现一种受赞许的形象</li>
<li>出于对自我表露的关注，在失败时人们就会采取自我妨碍的方式</li>
<li>自我监控：不断监控自己的行为，注意他人的反应，调整自己的社会行为以获得社会赞许</li>
<li>人们了解的自我与表现出的自我是不同的</li>
<li>高自我监控与低自我监控</li>
</ul>
</li>
</ul>
<h2 id="社会信念和判断"><a class="markdownIt-Anchor" href="#社会信念和判断"></a> 社会信念和判断</h2>
<h3 id="社会世界的感知"><a class="markdownIt-Anchor" href="#社会世界的感知"></a> 社会世界的感知</h3>
<blockquote>
<p>我们并非如实地对现实进行反应，而是根据我们对现实的建构作出反应</p>
</blockquote>
<ul>
<li>启动效应
<ul>
<li>记忆系统是一个相互联结的网络，而<strong>启动</strong>就是唤醒或者激活其中的某些特定联结</li>
<li>启动一个念头（即使个体对此并无意识）会影响个体的另一个念头</li>
<li>即使刺激信息是阈下呈现的（呈现时间极短使得意识无法捕捉），也会诱发启动效应</li>
<li>我们对许多社会信息的加工是自动的</li>
<li>具身认知：身体的感觉也会启动我们的社会判断</li>
</ul>
</li>
<li>感知和解释事件
<ul>
<li>预先判断和期望效应</li>
<li>先入之见（先入为主）</li>
<li><code>自发性特性转移</code>：当我们说别人好话坏话时候，人们会试图讲那些特质与我们联系在一起</li>
</ul>
</li>
<li>信念固着
<ul>
<li>指：人们执着于自己先前所持有的信念以及认可这一信念的原因，甚至在这种信念的基础被否定时仍是如此</li>
<li>信念可以独立存在，并当支持它的证据被否定时仍会存活下来</li>
<li>我们越想证明我们的理论和解释可能是正确的，我们就对挑战自己信念的信息越封闭</li>
<li>如何纠正：解释相反的观点</li>
</ul>
</li>
<li>建构记忆
<ul>
<li>记忆不是我们记忆库中信息的精确复制品，相反我们会在提取信息的同时对记忆进行建构</li>
<li><code>误导信息效应</code>：人们会将误导性的信息整合在他们的记忆中</li>
<li>重构过去的态度
<ul>
<li>积极的记忆建构可以美化我们的回忆</li>
<li>我们同他人的关系改变时，我们关于他人的回忆也会改变</li>
</ul>
</li>
<li>重构过去的行为
<ul>
<li>“在记忆中，事情有必要按照期望的方式发生”</li>
<li>我们会改变我们（记忆中）过去的行为使其符合我们现在的观点</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="社会世界的判断"><a class="markdownIt-Anchor" href="#社会世界的判断"></a> 社会世界的判断</h3>
<ul>
<li>直觉判断
<ul>
<li>我们思维只有一部分是受控制加工（反应性的、深思熟虑的、有意识的），还有一部分是自动化加工（冲动的、无需努力的、无意识的）</li>
<li>例子
<ul>
<li><code>schema</code>（图示）自发引导我们的知觉和解释</li>
<li>情绪反应通常是即时的</li>
<li>如果积累了足够多的专业知识，就可能凭直觉获得答案</li>
<li>当面临需要做决定又缺乏专业知识快速做出决断时，我们的无意识思维会引导我们做出令人满意的答案</li>
</ul>
</li>
<li>习惯化的认知功能是在没有觉察的状态下自动且无目的地发生的（阈下刺激）</li>
<li>局限性：
<ul>
<li>阈下信息无法达到有意识的唤醒水平</li>
<li>错觉思维：基于知觉的错误解释、想象和建构性的信念</li>
</ul>
</li>
</ul>
</li>
<li>过度自信
<ul>
<li>来源
<ul>
<li>自动化直觉有时候会出错并且我们通常意识不到</li>
<li>我们更容易描绘自己正确而非错误的缘由</li>
<li><code>智力自负</code>会影响知识的评价和未来行为的预测（规划谬误）</li>
<li>能力不足会促进过度自信倾向；别人眼中的我们比自己眼中的我们更接近客观现实</li>
</ul>
</li>
<li>验证性偏差
<ul>
<li>与寻找证据证伪自己的信念相比，我们更愿意证实它们</li>
<li>验证性偏差有助于解释我们的自我意象不稳定</li>
</ul>
</li>
<li>矫正
<ul>
<li>即时反馈</li>
<li>分解任务（矫正规划谬误）</li>
<li>让人们设想自己的判断可能出错的原因，迫使他们去考虑无法证实自己信念的信息</li>
</ul>
</li>
<li>虽然过度自信会让我们会付出代价，但基于现实的自信是有适应意义的</li>
</ul>
</li>
<li>启发式判断
<ul>
<li>代表性启发式判断：
<ul>
<li>对某个事物进行评价时，在直觉的引导下，将其与某一类别的心理表征进行比较</li>
<li>对某人或某事是否属于某个类别的快速判断</li>
</ul>
</li>
<li>易得性启发式判断
<ul>
<li>我们越容易回想起某个东西，那个东西就越可能是真的</li>
<li>人们从一条一般公理演绎出一个具体例证的过程是缓慢的，但从一个鲜明的例证归纳出一般公理的过程是迅速的</li>
<li><code>概率性忽视现象</code>：为了小概率事件忧心忡忡，却忽视了高概率事件</li>
</ul>
</li>
</ul>
</li>
<li><code>反事实思维</code>
<ul>
<li>易于想象的事件会影响我们对负罪、遗憾、挫败、宽慰的体验，“差一点就可以达成目标的遗憾”</li>
<li>反事实思维是构成我们幸运感的基础</li>
<li>事件本身越重要，反事实思维的强度就越大</li>
<li>绝大部分人对已做的事情的悔恨比没有做的事情的悔恨要少</li>
</ul>
</li>
<li>错觉思维
<ul>
<li>错觉相关
<ul>
<li>当我们期待发现某种重要的联系时，我们很容易会将各种随机事件联系起来</li>
<li>加入我们相信事件之间存在相关，我们更可能注意并回忆出某些支持性证据</li>
</ul>
</li>
<li>控制错觉
<ul>
<li>将随机事件知觉为有联系的倾向容易产生控制错觉——认为各种随机事件受我们影响</li>
<li>例证：赌博、股票、趋均数回归</li>
</ul>
</li>
</ul>
</li>
<li>情绪判断
<ul>
<li>情绪会影响我们的判断</li>
<li>好的坏的情绪会激起个体对相关经历的回忆</li>
<li>当情绪被唤起时，我们更可能在仓促间做决定，或根据刻板影响评价别人</li>
</ul>
</li>
</ul>
<h3 id="社会世界的解释"><a class="markdownIt-Anchor" href="#社会世界的解释"></a> 社会世界的解释</h3>
<ul>
<li><code>归因理论</code>
<ul>
<li>错误归因（是产生性骚扰的重要原因）</li>
<li>自发性特质推论（推断个体行为背后的特质）</li>
<li>三种因素影响归因：一致性、区别性、共同反应</li>
</ul>
</li>
<li><code>基本归因错误</code>
<ul>
<li>也叫对应偏见</li>
<li>当我们解释他人的行为时，会低估环境造成的影响，而高估个人的特质和态度造成的影响（但对自己不会）</li>
<li>我们通常认为他人的行为就是其内在特点的直接反映</li>
</ul>
</li>
<li>基本归因错误的原因
<ul>
<li>视角和情境意识
<ul>
<li>当我们作为行动者时，<strong>环境</strong>会支配我们的注意；观察别人行为时，作为行为载体的<strong>人</strong>会成为我们注意的中心</li>
<li>当行为时有意而为且是好的，会将它归因为自己的优点，忽略情境的作用；表现得不好的时候，更可能归因于外部情境</li>
<li>结论：我们从自己关注的地方寻找原因</li>
</ul>
</li>
<li>文化差异
<ul>
<li>文化中普遍存在归因错误</li>
<li>东亚文化的人对环境的作用格外敏感；集体主义文化通常更愿意做情境性归因；西方文化更倾向性格归因</li>
</ul>
</li>
</ul>
</li>
<li>研究归因错误的必要性
<ul>
<li>我们的思维模式总的来说具有一定的适应性，错觉通常是我们将复杂信息简单化的策略的副产品（类似知觉机制）</li>
<li>一个关注诸如基本归因错误这类思维偏见的原因就是出于人道主义的考虑（人们不应该总是因为自己的问题而被责备）</li>
<li>通常意识不到这种思维偏见，但了解这类思维偏见会给我们带来很大的好处</li>
</ul>
</li>
</ul>
<h3 id="社会期望的影响"><a class="markdownIt-Anchor" href="#社会期望的影响"></a> 社会期望的影响</h3>
<ul>
<li><code>自我实现预言</code>：信念能够导向自我实现
<ul>
<li>教师期望效应：教师的评价是学生行为的原因而不仅仅是结果（皮格马利翁效应）</li>
<li>学生期望效应：对自己的老师抱有高期望的学生觉得老师更出色，学到的东西也更多</li>
</ul>
</li>
<li><code>行为确证</code>：一旦形成错误的社会信念，就可能引发他人做出某些行为反应以支持这种信念</li>
</ul>
<h3 id="结论"><a class="markdownIt-Anchor" href="#结论"></a> 结论</h3>
<ul>
<li>我们的信息加工能力有很高的效率和适应性，但难以避免可预测性的错误和误判</li>
<li>虽然我们在社会认知和判断中存在着各种偏差（<u>基本归因错误、虚假普遍性、对不完善的启发式判断的过度依赖、自我服务偏差等</u>），但对他人的感知却惊人的准确。</li>
<li>人类理性的有限性→简化思维过程→启发式判断</li>
</ul>
<h2 id="态度和行为"><a class="markdownIt-Anchor" href="#态度和行为"></a> 态度和行为</h2>
<h3 id="态度对行为的预测"><a class="markdownIt-Anchor" href="#态度对行为的预测"></a> 态度对行为的预测</h3>
<blockquote>
<p>人们表现出的态度很难预测他们的行为，那态度何时能预测行为？</p>
</blockquote>
<ul>
<li>外显态度（受控制的思考）+内隐态度（自动的思考）
<ul>
<li>内隐联想测试 IAT</li>
<li>内隐偏见普遍存在；内隐偏见存在个体差异；人们通常意识不到自己的内隐偏见</li>
<li>外显态度和内隐态度都有助于预测个体的行为</li>
</ul>
</li>
<li>面对的情境
<ul>
<li>观察人的总体的或通常的行为（而非某一次单独的），态度对于行为的预测效应会变得更明显</li>
<li>特定且相关的态度能预测行为</li>
<li><code>计划行为理论</code> ： 个体的态度、知觉到的社会规范和控制感共同决定了个体的动机，从而指导行为</li>
</ul>
</li>
<li>强有力的态度
<ul>
<li><code>自我觉知</code></li>
<li>通过经验建立的稳定的态度（可接近的、稳定的）</li>
</ul>
</li>
<li>态度影响行为的条件
<ol>
<li>把其他“因素的影响”最小化</li>
<li>态度与预测的行为存在具体的相关</li>
<li>态度是强有力的</li>
</ol>
</li>
</ul>
<h3 id="行为对态度的影响"><a class="markdownIt-Anchor" href="#行为对态度的影响"></a> 行为对态度的影响</h3>
<ul>
<li>角色扮演——津巴多的模拟监狱实验</li>
<li>言语变成信念
<ul>
<li>我们的所说所写会强烈地影响我们随后所持的态度</li>
<li>当一个人的言语缺乏令人信服的外在解释时，言语就会变成信念、</li>
</ul>
</li>
<li><code>登门槛现象</code>
<ul>
<li>如果想要别人帮你一个大忙，一个有效的策略是先请他们帮一个小忙</li>
<li>当人们承诺公众行为并且认为这些行为是自觉做出的时候，人们会更坚信自己的所作所为</li>
<li>低价法策略</li>
</ul>
</li>
<li>邪恶行为与道德行为
<blockquote>
<p>邪恶行为和道德行为都会塑造自我</p>
</blockquote>
<ul>
<li>邪恶行为
<ul>
<li>一个不起眼的行为会侵蚀人的道德感，轻易引发一种更恶劣的行为</li>
<li>伤害无辜通常会导致攻击者去贬损受害者，并以此为其行为的正当性辩护（人们会为自己的行为辩护）</li>
</ul>
</li>
<li>道德行为
<ul>
<li>当我们认为没有人在场的时候，我们的所作所为会反映出自己的性格</li>
<li>道德行为，特别是当可以选择而不是强迫接受时，会影响道德思维</li>
<li>对他人的积极行为（提供帮助等）会增强对他人的好感</li>
</ul>
</li>
</ul>
</li>
<li>法律约束下的行为
<ul>
<li>种族隔离制度的废除影响了种族态度</li>
</ul>
</li>
<li>政治和社会运动
<ul>
<li>政治仪式（升旗敬礼唱国歌）用公开的一致行为来构建个人的忠诚</li>
<li>最强有力的社会教化：“洗脑”</li>
</ul>
</li>
</ul>
<h3 id="行为影响态度的原因"><a class="markdownIt-Anchor" href="#行为影响态度的原因"></a> 行为影响态度的原因</h3>
<ul>
<li>自我表露理论（印象管理）
<ul>
<li>人们适当调整自己的态度以使其看起来与行为一致</li>
<li><u>不能</u>解释所有态度的变化</li>
</ul>
</li>
<li><code>认知失调理论</code> （自我辩解）
<ul>
<li>当两种想法（“认知”）在心理上不一致时，我们会感到紧张（“失调”），为了减少这种不愉快的感觉体验，我们经常会调整自己的想法。</li>
<li>认知失调理论主要用来解释<u>行为和态度之间的矛盾关系</u></li>
<li>减轻认知失调（导致态度改变）的方式
<ul>
<li>选择性接触
<ul>
<li>选择性接触与自己观点一致的信息</li>
</ul>
</li>
<li>理由不足——态度依从行为
<ul>
<li>在人们做出某种行为的理由不足（不能完全用外部报酬或强迫性因素来解释）时，他们可能会感到不适（失调）并因此更相信自己的所作所为</li>
<li>当人们拥有选择权时，态度-依从-行为的效应是最强的</li>
<li>我们不当行为的外在理由越少，我们越觉得自己对其负有责任，从而会产生越多失调，态度就改变得越多</li>
<li>失调理论强调鼓励和诱导的力量应该足够引发所期望的行为，从而使态度依从行为</li>
</ul>
</li>
<li>决策后失调——决定变成信念，选择影响偏好
<ul>
<li>做出重要决策以后，我们经常会高度评价自己的选择而贬低放弃的选择，从而减少失调</li>
<li>决定-变成-信念效应会滋长自负</li>
<li>偏好会影响决定，决定又会强化我们的偏好（选择-影响-偏好）</li>
<li>一旦做出决定，它就会自圆其说。通常这些新支撑点非常坚固，即使失去一个支撑，决定也不会崩溃</li>
</ul>
</li>
</ul>
</li>
<li>失调的激活
<ul>
<li>失调会激活个体的不适感、紧张感</li>
<li><code>自我肯定理论</code>
<ul>
<li>不当行为破坏了自我效能感和善良感，因此证明自己的行为和决定其实是一种自我肯定</li>
<li>当人们开始做出引发失调的行为（非强迫性的逆态度行为），左额叶会有额外的兴奋</li>
</ul>
</li>
</ul>
</li>
<li>不足
<ul>
<li>不能解释非失调状态下的状态改变（立场与态度相符时，不适感的消除不能排除态度的改变）</li>
<li>无法解释过度合理化效应（在有报酬的情况下去做自己喜欢的事不会唤起高度紧张感——自我知觉理论）</li>
</ul>
</li>
</ul>
</li>
<li><code>自我知觉理论</code> （自我观察）
<ul>
<li>当我们的态度不很坚定时，我们就通过观察自己的行为及其环境来推断我们的态度。我们自由做出的行动正式对自我的揭露</li>
<li>面部和躯体反馈效应（笑的动作会让自己感到快乐）</li>
<li><code>过度合理化效应</code>
<ul>
<li>人们通过关注周围情境来解释自己的行为</li>
<li>外部报酬或强迫性因素导致人们将行为归因于报酬，而削弱人们的自我知觉（兴趣）</li>
<li>行为 → 有无外部影响 → 自我知觉（归因）→ 外在动机 / 内在动机</li>
</ul>
</li>
</ul>
</li>
<li>理论比较
<ul>
<li>自我表露理论解释了为什么从表面上看行为会影响态度</li>
<li>认知失调理论和自我知觉理论解释了行为确实影响态度的原因
<ul>
<li>认知失调理论假定我们为自己的行为辩护来减少我们的不适</li>
<li>自我知觉理论假定同观察和推断他人态度一样，我们会审视自己的行为并且做出合理的态度判断</li>
</ul>
</li>
<li>失调理论解释态度的改变；自我知觉理论解释态度的形成</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Humanities</category>
      </categories>
      <tags>
        <tag>Psychology</tag>
        <tag>Sociology</tag>
      </tags>
  </entry>
  <entry>
    <title>社会心理学（二）</title>
    <url>//social-psychology-2/</url>
    <content><![CDATA[<h1 id="社会影响"><a class="markdownIt-Anchor" href="#社会影响"></a> 社会影响</h1>
<blockquote>
<p>我们如何影响他人</p>
</blockquote>
<h2 id="基因-文化与性别"><a class="markdownIt-Anchor" href="#基因-文化与性别"></a> 基因、文化与性别</h2>
<h3 id="自然天性-后天教养"><a class="markdownIt-Anchor" href="#自然天性-后天教养"></a> 自然天性 &amp; 后天教养</h3>
<ul>
<li>基因、演化与行为——自然天性
<blockquote>
<p>人们的一些普遍特性是由自然选择演化而来，演化的观点强调人类的<u>共通性</u></p>
</blockquote>
<ul>
<li><code>自然选择</code>观点是生物学研究的原则，也是心理学届的一条重要原则</li>
<li>进化心理学：研究有利于基因存活和延续的心理特征和社会行为</li>
<li>演化的观点强调人类天性中共有的亲缘关系</li>
</ul>
</li>
<li>文化与行为——后天教养
<blockquote>
<p>文化提供了实现基本社会生活的具体规则，文化的观点强调人类的<u>多样性</u></p>
</blockquote>
<ul>
<li>文化多样性
<ul>
<li>文化多样性表现在社会规范 / 社会期望</li>
<li>社会规范会以难以察觉的方式限制和控制我们的行为</li>
<li>了解文化规范（社会规范）最好的方法是观察另一种文化</li>
<li>不同文化在一些社会规范（外向程度、私人空间、守时等）上存在差异，在规范的力度方面也存在差异</li>
</ul>
</li>
<li>文化相似性
<ul>
<li>文化具有“内在的统一性”</li>
<li>文化的内在统一性体现在：普遍的友谊规范（尊重隐私）、特质维度（人格描述）、社会信念维度（五大社会信念）、地位等级规范（布朗普遍规范）
<blockquote>
<p>布朗普遍规范：1. 沟通的形式不仅反映社会距离也反应社会地位；2. 亲密感的进展往往控制在地位较高的人手中</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="性别的相似性和差异性"><a class="markdownIt-Anchor" href="#性别的相似性和差异性"></a> 性别的相似性和差异性</h3>
<blockquote>
<p>对于自我概念和社会关系而言，最重要和最先适应的两个维度是：种族和性别<br />
个体差异远远大于性别差异！</p>
</blockquote>
<ul>
<li>（人际）独立性与联系性
<ul>
<li>女性比男性更重视亲密关系，表现在
<ul>
<li>游戏：女性之间谈话更亲密，游戏也更少攻击性；男性更常进行大群体活动</li>
<li>友谊：男性关注任务以及大群体的关系；女性更多关注个人关系</li>
<li>面对压力：男性倾向于以战逃反应回应，女性则更需要他人照顾和帮助</li>
<li>同理心：女性更倾向于将自己描述为更具“同理心”（女性解读他人情绪的能力更强）</li>
<li>表达情绪：女性更擅长以非言语的方式表达情绪</li>
</ul>
</li>
</ul>
</li>
<li>（社会）支配性
<ul>
<li>描述特质的方式
<blockquote>
<p>人们<u>觉得</u>领导者具有更多传统文化中的男性化特质</p>
</blockquote>
<ul>
<li>描述男性候选人使用“主观能动“形容词：自信、强势、独立、坦率</li>
<li>描述女性候选人使用“群体性”形容词：助人、友善、同情、慈爱</li>
</ul>
</li>
<li>交流的方式
<blockquote>
<p>男性交流的方式可以加强他们的社会权利</p>
</blockquote>
<ul>
<li>男性倾向采用专断的领导方式；女性倾向于民主的领导方式</li>
<li>男性擅长指示性和专注于任务的领导角色；女性擅长转型风格的领导角色（采用灵活的社交技巧建立团队精神）</li>
<li>男性更强调胜利、领先、控制他人</li>
</ul>
</li>
<li>谈话的方式
<ul>
<li>男性谈话方式更反映出对权利的关注（自信谈话、打断他人、相互握手、较少微笑）</li>
<li>女性更多采用间接方式影响他人（较少打断他人、更敏感、谦虚、礼貌）</li>
</ul>
</li>
</ul>
</li>
<li>攻击性
<blockquote>
<p>意图伤害他人的行为</p>
</blockquote>
<ul>
<li>男性比女性有更多的攻击行为！</li>
<li>在挑衅情境下，性别差异会大大缩小</li>
<li>伤害性较小的攻击形式中，女性的攻击行为并不比男性少</li>
<li>女性似乎会发起更多的间接攻击行为（散步恶意流言）</li>
</ul>
</li>
<li>性特征
<ul>
<li>性行为：男性更渴望性行为，并更可能起性行为；女性的性行为通常由强烈的感情引发</li>
<li>性态度：男性性态度更开放，更容易引发性唤醒</li>
<li>性幻想：男性向作品女性未婚且充满欲望；女性向作品更纯爱</li>
</ul>
</li>
</ul>
<h3 id="演化与性别"><a class="markdownIt-Anchor" href="#演化与性别"></a> 演化与性别</h3>
<ul>
<li>性别中的择偶偏好差异
<ul>
<li>生理差异
<ul>
<li>精子廉价——男性会与其他男性竞争以获得传播基因的机会，贪多务得</li>
<li>怀孕时间长，代价高——女性在意男性拥有的资源与做出的承诺，谨慎地选择繁殖机会，精挑细选</li>
</ul>
</li>
<li>自然会选择有助于基因遗传的特性
<ul>
<li>攻击性较弱的男性繁殖几率低——演化增强男性的攻击性和支配性（交配欲望可能是战争诱因）</li>
<li>人们天生渴望能增加基因遗传性的生活</li>
<li>男性会为女性提供他们所需的外界资源和身体保护（男性的成就会最终会变成求爱的本钱）</li>
<li>女性可能会隆胸抽脂以满足男性所需的年轻、健康的外表（暗示着可受孕），还会贬低其他有魅力女性的成功和外表</li>
</ul>
</li>
</ul>
</li>
<li>性别与激素
<ul>
<li>睾丸素对性别差异（攻击行为）带来的影响</li>
<li>尽管生物因素在性别差异中具有重要作用，但社会角色也是重要的影响因素
<ul>
<li>在求爱阶段和为人父母阶段，社会期待使得两性重视那些能增强他们角色的特性</li>
<li>随早期角色的结束，人们会更多地表现原先收到限制的特性，变得“双性化”</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="文化与性别"><a class="markdownIt-Anchor" href="#文化与性别"></a> 文化与性别</h3>
<ul>
<li>
<p>文化循环：首先，人类先创造文化，随后适应这种文化；其次文化塑造人的行为，以此延续文化</p>
<p>—— 人类是由文化塑造的文化塑造者</p>
</li>
<li>
<p><code>性别角色</code>：对两性不同的行为期望</p>
<ul>
<li>文化导致差异
<ul>
<li>大多数国家期望夫妻双方一起工作一起照顾孩子（平等）</li>
<li>但有些国家差异十分明显（男主外女主内）</li>
</ul>
</li>
<li>时代导致差异
<ul>
<li>近现代女性地位上升</li>
<li>性别差异仍然存在，但有所减小</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>同伴相传</code>的文化影响</p>
<ul>
<li><code>教养论</code> ：父母抚育孩子的方式决定孩子会成为什么样的人</li>
<li>新的观点：在同一家庭长大的孩子的差异和随便挑选的孩子的差异一样大
<ul>
<li>
<p>什么导致了人格特质差异？</p>
<p>基因的影响 50%，共同的环境影响 10%，<u>同伴</u>的影响 40%</p>
</li>
<li>
<p>父母的影响较为间接（决定孩子就读的学校、居住的社区），同伴会直接影响孩子的行为（违纪、吸毒、怀孕）</p>
</li>
</ul>
</li>
<li>文化传统在延续中变化</li>
</ul>
</li>
</ul>
<h3 id="基因-文化与性别各自的影响"><a class="markdownIt-Anchor" href="#基因-文化与性别各自的影响"></a> 基因、文化与性别各自的影响</h3>
<ul>
<li>生物因素和文化因素
<ul>
<li>所有的社会因素和心理因素，本质上仍然是<u>生理因素</u></li>
<li>人类生物遗传所能启动的过程，<u>文化</u>都能使其增强（文化借助社会规范期望的方式）</li>
</ul>
</li>
<li>生物和文化因素存在交互作用
<ul>
<li>表观遗传学（探索环境激发基因表达的分子机制）</li>
<li>生物特性会影响环境反应</li>
</ul>
</li>
<li>生物因素与文化因素<code>交互作用理论</code>
<ul>
<li>存在许多因素，包括生物影响和儿童期社会化，导致男女两性的不同的社会分工。成年以后直接影响社会行为性别差异的是<code>社会角色</code></li>
<li>社会化+其他因素 → 男女不同分工 → 性别角色期望 / 与性别有关的技能和信念 → 行为差异</li>
<li>随着男性和女性开始扮演越来越相似的角色，他们心理差异也在变小</li>
<li>比较发达、倡导平等的国家，女性显示了更高的外向性、宜人性和责任感</li>
</ul>
</li>
<li>环境与人的力量
<ul>
<li>社会控制（社会力量）、个人控制（人的力量）
<ul>
<li>我们是社会的创造物又是创造者</li>
<li>我们是基因和环境相互作用的产物</li>
</ul>
</li>
<li>社会情境和个体的相互作用
<ol>
<li>特定的社会情境对人的影响会因人而异</li>
<li>人们通常会选择自己所处的环境</li>
<li>人们往往会创造自己的环境</li>
</ol>
</li>
<li>我们既创造我们的文化世界，也被文化世界塑造</li>
</ul>
</li>
</ul>
<h2 id="从众和服从"><a class="markdownIt-Anchor" href="#从众和服从"></a> 从众和服从</h2>
<h3 id="从众的概念"><a class="markdownIt-Anchor" href="#从众的概念"></a> 从众的概念</h3>
<ul>
<li><code>从众</code> ：根据他人而做出的行为或信念的改变
<ul>
<li>顺从：迫于外部压力而群体趋同但内心并不赞同</li>
<li>服从：是顺从的一种，由明确命令引起的顺从行为</li>
<li>接纳：发自内心的从众行为，内心认可社会压力并在行动上保持一致</li>
</ul>
</li>
</ul>
<h3 id="经典的从众和服从研究"><a class="markdownIt-Anchor" href="#经典的从众和服从研究"></a> 经典的从众和服从研究</h3>
<ul>
<li>
<p>三个经典研究</p>
<ul>
<li>
<p>谢里夫的<u>规范形成</u>研究</p>
<blockquote>
<p>当对光点的移动距离反复进行估计时，参与者的估计值会接近一致</p>
</blockquote>
<p>个体的<code>易受暗示性</code>（心境联结）：打哈欠、背景笑声</p>
<ul>
<li>变色龙效应：个体会无意识地模仿他人的动作、表情、口音乃至呼吸频率</li>
<li>模仿促进喜欢：模仿行为能令他人喜欢你，有益于和他人的交往（模仿生气除外）</li>
<li>维特效应：模仿性自杀行为</li>
</ul>
</li>
<li>
<p>阿施的<u>群体压力</u>研究</p>
<blockquote>
<p>实验参与者要判断三条线段哪一条与标准线段一样长，当同伴给出一致的夸张的错误答案的时候，发现有 37% 的实验者会从众</p>
</blockquote>
<p>实验没有任何明显的从众压力，既没有团队合作的奖励，也没有针对个体的惩罚</p>
</li>
<li>
<p>米尔格拉姆的<u>服从</u>实验</p>
<blockquote>
<p><a href="https://zh.wikipedia.org/zh-cn/%E7%B1%B3%E7%88%BE%E6%A0%BC%E5%80%AB%E5%AF%A6%E9%A9%97">https://zh.wikipedia.org/zh-cn/米爾格倫實驗</a></p>
</blockquote>
<p>揭示人们服从权威的程度，也考察了服从产生的条件</p>
</li>
</ul>
</li>
<li>
<p>引起服从的因素</p>
<ol>
<li>
<p>与受害者的情感距离</p>
<p>人们很容易漠视那些与自己无关或失去个性的人；人们对于个性化的人是最富有同情心的（将受害者个性化）</p>
</li>
<li>
<p>权威的接近性与正当性</p>
<p>权威在空间上的接近性会增加服从率；权威必须是正当合理的</p>
</li>
<li>
<p>机构的权威性</p>
<p>有机构做背景的权威易发挥社会效力</p>
</li>
<li>
<p>群体影响的释放效应</p>
<p>当有同伴带头的时候，自己也会跟着发声</p>
</li>
</ol>
</li>
<li>
<p>对经典研究的反思</p>
<ul>
<li>
<p>行为与态度的联系</p>
<ol>
<li>
<p>“教师”从轻微的电击开始逐步增加威力，而不是一开始就 330V——降低了认知不协调感——登门槛效应</p>
<p>——个体外在的行为和内在的心理倾向可以彼此影响相互促进</p>
</li>
<li>
<p>纳粹训练拷问官，看守囚犯、参加搜捕队、殴打囚犯、观看拷问过程、亲自动手拷问</p>
<p>——顺从滋生了接纳，公民变成刽子手</p>
</li>
<li>
<p>反抗纳粹的行为</p>
<p>——帮助行为加强了忠诚态度，忠诚导致了更多的助人行为</p>
</li>
</ol>
</li>
<li>
<p>情境的力量</p>
<blockquote>
<p>个体自身的特点往往没有自我感知到的情境重要</p>
</blockquote>
<ol>
<li>
<p>在违反一些细小的社会规范的时候，才能意识到他们的强大（穿西装打高尔夫、图书馆大声唱歌）</p>
</li>
<li>
<p>在假设情境中“说”往往比在实际情境中“做”容易得多——知易行难</p>
</li>
<li>
<p>邪恶的情境产生邪恶的行为</p>
<p>对恶性的听之任之常常会使其日积月累，尽管我们并不是有意识作恶；</p>
<p>拖延也是对恶行的放任，会造成自我伤害</p>
</li>
<li>
<p>对暴行的情境化分析可以免除作恶者的罪过吗？</p>
<p>解释不代表原谅，理解不代表宽恕</p>
</li>
</ol>
</li>
<li>
<p>对经典服从研究的总结</p>
<table>
<thead>
<tr>
<th>研究课题</th>
<th>研究者</th>
<th>方法</th>
<th>现实生活范例</th>
</tr>
</thead>
<tbody>
<tr>
<td>规范形成</td>
<td>谢里夫</td>
<td>根据光点似动现象评价暗示性</td>
<td>听到别人的观点后改变了对事物的评价</td>
</tr>
<tr>
<td>从众</td>
<td>阿施</td>
<td>赞成他人非常明显的错误知觉判断</td>
<td>别人做什么你就做什么，随大流，如纹身</td>
</tr>
<tr>
<td>服从</td>
<td>米尔格拉姆</td>
<td>服从命令电击他人</td>
<td>士兵或雇员执行不正确的命令</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
</ul>
<h3 id="预测从众的因素"><a class="markdownIt-Anchor" href="#预测从众的因素"></a> 预测从众的因素</h3>
<ul>
<li>
<p><u>群体规模</u>：当三个以上的人或群体塑造行为或信念时，人们更容易从众</p>
<p>随着群体规模逐渐增加到5个人，引发的从众行为百分比逐渐增加，超过五个人之后，从众行为的增加就不再明显</p>
</li>
<li>
<p><u>一致性</u>：如果示范行为或信念前后不一致，从众行为会减少</p>
<p>如果有人破坏了群体一致性，会降低群体的社会影响力（他人持有异议会增强个体的独立性）</p>
</li>
<li>
<p><u>凝聚力</u>：群体凝聚力可以加强从众</p>
<p>群体的凝聚力越强，对成员的影响力越大</p>
<p>群体之外的人提出的少数派观点对我们的影响要小于自己群体内的少数派观点</p>
<p>感到自己受群体吸引的成员更可能对群体影响作出反应</p>
</li>
<li>
<p><u>地位</u>：塑造行为和信念的人地位越高，人们越容易从众</p>
<p>地位高的人往往有更高的影响力</p>
<p>服从实验中地位低的人比地位高的人更愿意服从研究者的命令</p>
</li>
<li>
<p><u>公开的反应</u>：当人们都反应是公开的（面向群体）时，人们越容易从众</p>
</li>
<li>
<p><u>事前承诺</u>：如对某一行为和信念做出事先承诺，人们更可能坚持承诺而不从众</p>
</li>
</ul>
<h3 id="影响个体从众的原因"><a class="markdownIt-Anchor" href="#影响个体从众的原因"></a> 影响个体从众的原因</h3>
<ul>
<li>规范影响
<ul>
<li>
<p>来源于<u>人们希望获得别人的接纳</u></p>
</li>
<li>
<p>社会拒绝令人痛苦，如果偏离了群体规范，常常要付出情感代价</p>
<p>——有时偏离群体的巨大代价会使人违心附和群体，或至少压抑自己的反对性意见</p>
</li>
<li>
<p>我们常常察觉不到规范性影响的存在</p>
</li>
<li>
<p>对<u>社会形象</u>的关注往往容易产生规范影响</p>
</li>
</ul>
</li>
<li>信息影响：
<ul>
<li>来源于<u>他人提供的事实依据</u></li>
<li>现实情境较为模糊时，他人就可能会成为有价值的信息来源</li>
<li>希望自己<u>行事正确</u>经常容易产生信息影响</li>
</ul>
</li>
</ul>
<h3 id="从众的个体差异"><a class="markdownIt-Anchor" href="#从众的个体差异"></a> 从众的个体差异</h3>
<p>主要关注三个预测指标：人格、文化、社会角色</p>
<ul>
<li>人格
<ul>
<li>
<p>内在的因素（态度、特质）很难准确预测某个特定行为，但却能较好预测个体跨情境的一般行为</p>
<p>难以根据单一情境预测行为</p>
<p>许多跨情境行为能更好预测整体的从众性</p>
</li>
<li>
<p>当社会影响非常微弱时，个性也能较好预测行为（微弱的情境）</p>
</li>
<li>
<p>即使情境的影响很强烈，个体也有差异</p>
</li>
</ul>
</li>
<li>文化
<ul>
<li>
<p>文化背景能预测人们的从众行为</p>
<p>从众的文化差异可能是某种生物智慧的结果，虽然不从众有助于创造性地解决问题，但群策群力面对危机时群体才能兴盛</p>
</li>
<li>
<p>从众有利于维持社会规范</p>
</li>
<li>
<p>同一个国家内也存在文化差异</p>
</li>
</ul>
</li>
<li>社会角色
<ul>
<li>社会角色的定义需要许多规范
<ul>
<li>社会角色包含一定程度的服从，当个体跨入新的社会角色时，服从于这个角色的社会期望就是一项很重要的任务</li>
<li>角色对从众行为产生巨大的影响</li>
<li>从众的过程以以人们几乎意识不到的方式改变人们的行为、价值观、同一性</li>
<li>想要回到从前的角色需要“重新从众”</li>
</ul>
</li>
<li>角色互换
<ul>
<li>角色往往成对出现（父母&amp;孩子、老师&amp;学生）</li>
<li>角色互换帮助对方互相理解（重述另一方的观点）</li>
<li>暂时的从众行为可以成为积极的力量</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="抵制从众的社会压力"><a class="markdownIt-Anchor" href="#抵制从众的社会压力"></a> 抵制从众的社会压力</h3>
<ul>
<li>
<p>逆反</p>
<p>为了恢复自由感而工人违抗强制力量的动机</p>
<p>个体有自由感和自我效能感——企图限制个体的自由会引起反从众行为（逆反）</p>
</li>
<li>
<p>坚持独特性</p>
<p>与群体偏离太远，我们会感到不舒服，但我们也不想与其他人太一致。</p>
<ul>
<li>会坚持自己独特性和个性的方式行事</li>
<li>能意识到自己的独特之处</li>
</ul>
<blockquote>
<p>自我服务偏差表明，我们追求的不仅仅是独特性，而且是符合道德规范的独特性，不仅要独特性，还要好于众人</p>
</blockquote>
</li>
</ul>
<h2 id="说服"><a class="markdownIt-Anchor" href="#说服"></a> 说服</h2>
<h3 id="说服的路径"><a class="markdownIt-Anchor" href="#说服的路径"></a> 说服的路径</h3>
<ul>
<li>
<p>说服的两种路径</p>
<ol>
<li>
<p>中心路径</p>
<p>当人们积极主动并且能全面系统地思考问题时，就有可能接受<code>中心路径说服</code> ，即关注论据</p>
</li>
<li>
<p>外周路径</p>
<p>当论题没有引发个体做出系统思考，没有仔细推敲该信息的意义，此时我们会接受<code>外周路径说服</code> ，即关注能令人不假思索就接受的外部线索，而不会注意论据是否令人信服</p>
</li>
</ol>
</li>
<li>
<p>不同目的选用不同路径</p>
<ul>
<li>中心路径说服引起的行为变化比外周路径说服更持久（决策的依据不仅有信息自身的说服力，而且有自己的思考）</li>
<li>外周路径的说服通常只能导致肤浅而短暂的态度改变</li>
<li>没时间仔细分析所有问题，通常会采用外周路径（使用一些简单而具有启发性的经验法则）</li>
</ul>
</li>
<li>
<p>两种说服路径的分析</p>
<blockquote>
<p>听众 → 加工过程 → 说服</p>
</blockquote>
<ol>
<li>中心路径：分析并且具有某种动机 → 高努力水平，详细分析，赞同或反对论点 → 令人信服的论点引发持久的赞同态度</li>
<li>外周路径：很少分析或关注 → 低努力水平，使用外周线索，启发式的经验法则 → 外部线索引发喜爱和接受，但这是通常只是暂时性的</li>
</ol>
</li>
</ul>
<h3 id="说服的要素"><a class="markdownIt-Anchor" href="#说服的要素"></a> 说服的要素</h3>
<ol>
<li>说服者：信息的传达方
<ol>
<li>可信度
<ul>
<li>知觉到的专业性
<ul>
<li>说服之前先赞同对方</li>
<li>突出自己在该领域见多识广的专家身份</li>
<li>说服别人时显得信心十足能增加可信度</li>
</ul>
</li>
<li>知觉到的信赖性
<ul>
<li>演讲风格会影响演讲者可信度（直视对方而非低头看地）</li>
<li>如果接收方认为传达方并没有努力说服自己的企图，信赖度也会很高（电视广告中的隐秘摄像机方法）</li>
<li>认为站在自身利益对立面的说话者是真诚的</li>
<li>语速较快时，专业性和信赖性都会增加</li>
<li>如果预先知道信息来源可靠，我们会对信息产生更多赞成的想法，在此之后，如果了解信息来源，高信誉增强我们对自己想法的信心，也增强信息说服力</li>
</ul>
</li>
</ul>
<blockquote>
<p>睡眠者效应（人们遗忘信息源或者遗忘与其信息之间的关系而导致的延迟性说服）</p>
</blockquote>
</li>
<li>吸引力与喜好
<ul>
<li>外表的吸引
<ul>
<li>长相俊美的人表达某个论点（尤其是感情）时，网网具有更大的影响力</li>
<li>在进行肤浅的判断时，吸引力影响最大</li>
</ul>
</li>
<li>相似性的吸引
<ul>
<li>相似性比可信度更重要吗？取决于说服主题的侧重点：主观偏好 or 客观现实
<ul>
<li>与个体的品味、价值观或生活方式相关 —— 相似性</li>
<li>判断事实 —— 可信度</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li>说服内容
<ol>
<li>理智与情感
<ul>
<li>说服内容or情感哪个更重要？取决于：
<ul>
<li>说服的对象
<ul>
<li>有良好教育背景或善于分析的人更容易接受理性的说服</li>
<li>有思想和积极参与的说服对象会选择中心路径，而不感兴趣的说服对象会选择外周路径</li>
</ul>
</li>
<li>态度形成的过程
<ul>
<li>如果个体态度形成主要受情感影响，那说服更容易被情感诉求打动，反之则理性论证更有说服力</li>
<li>新的情感体验体验会影响建立在情感基础上的态度；要改变基于信息的态度，就需要更多新信息</li>
</ul>
</li>
</ul>
</li>
<li><code>好心情效应</code>：说服对象如果心情愉快，信息的说服力更强，因为：
<ol>
<li>能促进个体积极思考</li>
<li>被说服者会把好心情与信息本身联系在一起</li>
</ol>
</li>
<li><code>唤起恐惧效应</code> ：吐过能引发说服对象的消极情绪反应，也有说服效果
<ul>
<li>一般情况下人们恐惧程度越高，感觉越脆弱，说服效果越好；例子：禁烟、酒驾</li>
<li>只有既让人们害怕威胁实践的严重性和可能性，同时有意识到解决之道并有能力实施，恐惧信息才能更有说服力</li>
</ul>
</li>
</ul>
</li>
<li>观点差异
<blockquote>
<p>意见不同 → 认知失调 → 改变观点</p>
</blockquote>
<ul>
<li>差异大小的影响取决于说服这是否可信</li>
<li>也取决于说服对象的参与程度，深度卷入者往往只能够接受狭隘的观点</li>
</ul>
</li>
<li>正面说服与反面说服
<ul>
<li>对于已经持有赞成态度的人，正面说服更有效；反之认可并反驳反面观点的说服更有效</li>
<li>如果人们已经了解正面和方面观点，那正反两方面的论证更有说服力，效果更持久（避免被认为持有偏见）</li>
<li>正面说服对乐观主义者最有效，负面说服对悲观主义者最有效</li>
</ul>
<blockquote>
<p><code>奥卡姆剃刀定律</code> “如无必要，勿增实体”</p>
</blockquote>
</li>
<li>首因效应与近因效应
<ul>
<li><code>首因效应</code>：最先呈现的信息最有说服力，适用于：
<ol>
<li>两种信息接连出现</li>
<li>接受者要经过一段时间后再反应</li>
</ol>
</li>
<li><code>近因效应</code>：最近的信息更有说服力，适用于：
<ol>
<li>时间长到足够分离两种信息</li>
<li>说服对象在接受第二种信息后立即表态</li>
</ol>
</li>
</ul>
</li>
</ol>
</li>
<li>说服渠道
<ul>
<li>主动参与或被动接受
<ul>
<li>随着问题的熟悉性和重要性增加，被动说服的效果会降低</li>
<li>主动的经历会强化人们的态度，基于经历的态度更加自信稳定、不容易改变</li>
</ul>
</li>
<li>个人与传媒的影响
<blockquote>
<p>研究表明影响我们的主要因素并非传媒，而是人际接触，但不能低估媒体的作用</p>
</blockquote>
<ul>
<li>媒体影响：两步流程
<ul>
<li>从媒体到意见领袖，再到普通大众，即先说服意见领袖和潮流引导者（被视为专业人士），再影响普通大众</li>
<li>媒体对文化影响是慢慢渗透的，即使媒体对态度的直接影响很小，但仍会产生巨大的<u>间接作用</u></li>
</ul>
</li>
<li>媒体的比较
<blockquote>
<p>信息难度与媒介形式的交互作用</p>
</blockquote>
<ul>
<li>
<p>媒体形式越贴近生活，其传递的信息越有说服力</p>
<p>通常情况下的说服力强弱排名：面对面接触、影像、录音、书面文字</p>
</li>
<li>
<p>如果信息难于理解，那么书面表达的说服效果最佳；简单的信息则是影像最佳</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>说服对象
<ul>
<li>年龄
<ul>
<li>不同年龄的人往往持有不同的社会和政治态度，两种解释
<ol>
<li>生命周期解释：态度随着人们成长而改变</li>
<li>代际隔阂解释：人的态度没有变化，只是人出现了代际隔阂（代沟）—— 主流观点</li>
</ol>
</li>
<li>青少年期和在成年早期是世界观定型的重要时期，部分原因是再此阶段的经历能留下深刻和持久的印象</li>
</ul>
</li>
<li>慎思
<blockquote>
<p>中心路径说服的关键并不在于信息本身，而在于能否激发说服对象积极思考。如果信息唤起了有利想法，就能说服，否则无法说服。</p>
</blockquote>
<ol>
<li>如果不想被人反驳，请勿引起对方警觉，避免打草惊蛇</li>
<li>分心会减少反驳（被说服者受到干扰无暇反驳，言语的说服力会增强）</li>
<li>激发思考可以使有说服力的信息更具说服力，并且使无说服力的信息更令人怀疑
<ul>
<li>我们对信息所产生的想法至关重要</li>
<li>激发思考的方式：使用反问句；使用多个演说者；使人们感到自己有责任传递和评价信息；重复信息；吸引人们集中注意力</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ol>
<h3 id="抵制极端说服的影响"><a class="markdownIt-Anchor" href="#抵制极端说服的影响"></a> 抵制极端说服的影响</h3>
<ul>
<li>加强个人承诺</li>
<li>挑战信念：温和地攻击他们的立场</li>
<li><code>态度免疫</code></li>
</ul>
<h2 id="群体影响"><a class="markdownIt-Anchor" href="#群体影响"></a> 群体影响</h2>
<h3 id="群体的概念"><a class="markdownIt-Anchor" href="#群体的概念"></a> 群体的概念</h3>
<ul>
<li>群体：两个或更多互动并相互影响的人</li>
<li>集体影响（低限群体情境）：社会助长作用、社会懈怠、去个性化</li>
<li>互动的群体中产生社会影响：群体极化、群体思维、少数派影响</li>
</ul>
<h3 id="社会助长作用"><a class="markdownIt-Anchor" href="#社会助长作用"></a> 社会助长作用</h3>
<blockquote>
<p>他人在场的影响</p>
</blockquote>
<ul>
<li>早期研究：观察者或共事者的存在会提高个体的作业成绩；另一些发现恰好相反</li>
<li><code>社会唤醒效应</code> ：唤醒能够增强任何优势反应的趋势
<ul>
<li>简单任务中优势反应恰好是正确反应，复杂任务中，正确答案往往不是优势反应</li>
<li>结果：提高简单任务的成绩、降低困难任务的作业成绩（证实了早期研究）</li>
<li>路径：他人在场 → 唤醒 → 增强优势反应 → 促进简单行为 / 妨碍复杂行为</li>
</ul>
</li>
<li><code>拥挤现象</code>：众多他人在场
<ul>
<li>他人的影响效应会随人数的增加而递增，对积极或消极的反应都会有增强作用</li>
<li>拥挤能增强唤醒状态，唤醒能促进优势反应</li>
</ul>
</li>
<li>他人在场引起唤醒的原因
<ul>
<li>
<p>评价顾忌：我们想知道别人怎么评价我们</p>
<p>如果人们认为在场的观察者正在评价自己，那么他们的优势反应就会明显改善（跑步更快、干扰熟练掌握的自动化行为）</p>
</li>
<li>
<p>分心：注意他人和注意任务之间的冲突会使认知系统的负荷过重，于是引起了唤醒</p>
<p>不仅他人在场会引起分心导致唤醒，其他分心物的出现也会引起唤醒（光线突然照射）</p>
</li>
<li>
<p>纯粹在场</p>
<p>动物身上也存在社会助长效应；无互动的集体也会增强唤醒</p>
</li>
</ul>
</li>
</ul>
<h3 id="社会懈怠"><a class="markdownIt-Anchor" href="#社会懈怠"></a> 社会懈怠</h3>
<blockquote>
<p>群体中的个人减少努力</p>
</blockquote>
<ul>
<li>
<p>个体受他人观察，评价顾忌增强 → 唤醒 → 社会助长作用</p>
<p>个体消失在人群，评价顾忌减小 → 较少唤醒 → <code>社会懈怠</code></p>
</li>
<li>
<p>个人责任感被群体分散了，导致个体成员搭群体便车 free-ride</p>
</li>
<li>
<p>任务具有挑战性、吸引力、参与度高的特点时，群体成员的懈怠程度会减弱</p>
</li>
<li>
<p>如果小组成员彼此是朋友或者很认同自己的群体，懈怠也会有所减少</p>
</li>
</ul>
<h3 id="去个体化"><a class="markdownIt-Anchor" href="#去个体化"></a> 去个体化</h3>
<blockquote>
<p>群体中的个体失去自我感</p>
</blockquote>
<ul>
<li>
<p>群体失控</p>
<ul>
<li>社会助长实验：群体引发唤醒</li>
<li>社会懈怠实验：群体分散责任</li>
<li>唤醒 + 责任分散 →  去个体化 → 失控</li>
</ul>
</li>
<li>
<p>引发去个体化心理状态的环境</p>
<ul>
<li>
<p>群体规模</p>
<p>群体引发唤醒，也使成员身份模糊化，把个体行为看作群体行为</p>
<p>个体把自己行为责任归因为情境而不是自己的选择</p>
</li>
<li>
<p>匿名性</p>
<p>匿名性使人们的自我意识减弱，群体意识增强，更容易对情境线索做出回应，无论线索是消极的还是积极的</p>
<p>互联网的匿名性的害处：助长人们的卑劣与冷漠</p>
</li>
<li>
<p>唤起和分心活动</p>
<p>群体表现出攻击性之前常常会发生一些较小的引发人们唤起状态或分散注意力的事件</p>
<p>当我们看到别人和自己做出同样的行动的时候，会对自己做出冲动性的举动产生一种自我强化的愉悦感</p>
</li>
</ul>
</li>
<li>
<p>弱化自我觉察</p>
<ul>
<li>
<p><code>自我觉察</code>是去个体化的<u>对立面</u></p>
</li>
<li>
<p>去个体化的人更难自控、自律，更可能毫不顾及自己的价值观就采取行动，对情境的反应性也更强烈</p>
<p>自我觉察的人会表现出更加的自控，行为能清晰反映他们的态度，不太可能做出欺骗行为</p>
</li>
</ul>
</li>
</ul>
<h3 id="群体极化"><a class="markdownIt-Anchor" href="#群体极化"></a> 群体极化</h3>
<blockquote>
<p>群体对我们观点的强化</p>
</blockquote>
<ul>
<li>风险转移
<ul>
<li>群体决策往往比个人决策得出的结论更倾向于冒险</li>
<li>风险转移不是普遍适用的（有些情境更倾向于谨慎）</li>
</ul>
</li>
<li>群体极化
<ul>
<li>讨论通常可以强化群体成员的普遍倾向</li>
<li>群体讨论倾向于使群体成员的初始观点得到加强（A 的更 A，B的更 B）</li>
</ul>
</li>
<li>日常生活中的群体极化
<ul>
<li>
<p>学校中的群体极化：“两极分化”现象</p>
</li>
<li>
<p>社区中的群体极化：</p>
<p>社区是回音壁，观点流转于志趣相投的朋友之间</p>
<p>社区中想法相似的人会联合起来，使他们共同的倾向得以加强</p>
</li>
<li>
<p>互联网的群体极化：</p>
<p>互联网为志趣相投的群体提供了新媒介，具有相同思想的人抱团为共同的关注点找到支持</p>
<p>多数人都喜欢看自己支持而非挑战自己观点的博客，又会链接到观点相近的博客（回音壁）</p>
</li>
<li>
<p>恐怖组织中的群体极化</p>
</li>
</ul>
</li>
<li>对极化的解释
<ul>
<li>
<p>信息影响（说服论据理论）</p>
<blockquote>
<p>由于接受了事实的证据而产生的影响</p>
</blockquote>
<ul>
<li>群体讨论过程中，成员所提供的绝大多数信息都是支持自己观点的，因此，群体成员逐渐相信了自己观点的正确性。当意见倾向于某一个方向时，大多数论据都用来论证该观点的正确性。于是，最初占优势的意见渐渐获得越来越多的支持。</li>
<li>讨论中的积极参与会比消极聆听更容易导致态度转变：群体成员对别人观点重复得越多，越可能在不断的复述中认同这些观点</li>
</ul>
</li>
<li>
<p>规范影响（社会比较理论）</p>
<blockquote>
<p>基于人们希望被他人接受或敬仰的愿望而产生的影响</p>
</blockquote>
<ul>
<li>
<p><code>社会比较（social comparison）</code></p>
<p>人类希望能对自己的观点和能力做出评价，为此我们可以将自己的观点与他人比较</p>
<p>我们常常被<u>参照群体</u>中的人说服（与我们相一致的群体）</p>
<p>我们发现其他人和自己持有相同观点时，为了使其他人喜欢我们，我们会讲观点表达得更强烈</p>
</li>
<li>
<p><code>人众无知、多数无知（pluralistic ignorance）</code></p>
<p>人们并没有意识到其他人会在多大程度上支持社会普遍认同的倾向，试图跟随所感知的规则而非实际的规则</p>
<p>人们倾向于人为自己要好于社会普遍希望所具有的特质和态度（自我服务偏差），当开始讨论时，发现自己的观点并没有那么出众 → 不再受群体规范的错误约束，更加强烈地表达自己的偏好，采取极端立场以表明自己比一般水平更高</p>
<p>需要有人站出来打破沉默（克服人众无知），使其他人能够发现并强化他们的共同观点和反应</p>
</li>
</ul>
</li>
<li>
<p>两种影响往往同时出现</p>
</li>
</ul>
</li>
</ul>
<h3 id="群体思维"><a class="markdownIt-Anchor" href="#群体思维"></a> 群体思维</h3>
<blockquote>
<p>群体对决策的影响</p>
</blockquote>
<ul>
<li>
<p>群体思维：在群体决策中人们为了维护群体和睦而压制异议</p>
<ul>
<li>在群体工作中，同志式的友情可以提高生产率，且团队精神有助于鼓舞士气</li>
<li>在决策时，紧密团结的群体可能反而不利</li>
<li>产生群体决策的社会条件
<ol>
<li>友善的、凝聚力强的群体</li>
<li>群体隔离</li>
<li>缺乏搜索和评估的方法学程序</li>
<li>从自己喜好出发做决策的支配型领导</li>
</ol>
</li>
</ul>
</li>
<li>
<p>群体决策的后果和症状表现</p>
<p>群体成员高估群体的力量和正确性</p>
<ol>
<li>无懈可击的错觉：群体表现的过分自信，蒙蔽了群体中个体的认知</li>
<li>群体道义毋庸置疑：群体成员接受了群体的内在道义，却忽略了伦理和道德上的其他问题</li>
</ol>
<p>在想法上越来越封闭</p>
<ol>
<li>合理化：群体以共同证明其决策正确的方式来减少质疑和挑战</li>
<li>对对手的刻板印象：陷于群体思维的人们往往认为自己的对手弱小，以至于难以抵抗群体</li>
</ol>
<p>受限于追求一致性的压力</p>
<ol>
<li>从众压力（对异议者的直接压力）：群体成员会抵制对群体的设想和计划提出疑问的人</li>
<li>自我审查：由于异议会令人不舒服，且整个群体似乎表现出一致性，导致个体会将自己的疑虑压制下来</li>
<li>一致同意的错觉：不要去破坏一致性的自我潜意识压力会导致一致同意的错觉</li>
<li>自我指向的心理防御：有些成员会保护群体，使质疑群体决策效率和道义的信息不会对群体构成干扰</li>
</ol>
</li>
<li>
<p>群体思维的其他观点</p>
<ul>
<li>支配型的领导方式和糟糕的决策相关，有时下属会认为自己太弱小或缺乏自信，不敢表达自己的观点</li>
<li>能做出明智决策的群体人人都有话语权，成员关系和睦，能轮流发言</li>
<li>群体确实偏爱支持的信息多于挑战性的信息</li>
<li>当成员们希望从群体中获得接纳、赞许和社会认同时，会压抑自己的不同想法</li>
<li>各种观点都有的群体会胜过观念类似的专家组，多样性群体会激发创造力</li>
<li>在讨论中，群体共享的信息更容易占据主导地位，大家不认同的信息会受到排挤（团体不会从每个成员都知道的信息受益）</li>
</ul>
</li>
<li>
<p>预防群体思维的方式</p>
<ul>
<li>公证——不偏向任何立场</li>
<li>鼓励批评性评价（魔鬼代言人）</li>
<li>将群体划分成几个小组，再重组一起表达不同意见</li>
<li>欢迎局外人提出批评</li>
<li>在执行之前召开“第二次机会”的会议</li>
</ul>
</li>
<li>
<p>群体问题的解决</p>
<ul>
<li>并非每个群体决策都会受到群体思维的不利影响，如果重视成员的技能和知识且能成员各抒己见，团体的决策要远好于个人决策</li>
<li>几个人的相互批评碰撞可以使群体避免某些认知偏见并产生一些高质量的想法和创意</li>
<li>在群体中提出想法时，人们会更有成就感；但单独工作的人们通常比在团队中工作能产生更多好想法（社会懈怠理论-搭便车、群体极化的规范影响）</li>
</ul>
</li>
</ul>
<h3 id="少数派影响"><a class="markdownIt-Anchor" href="#少数派影响"></a> 少数派影响</h3>
<blockquote>
<p>个体对群体的影响</p>
</blockquote>
<ul>
<li>少数派影响的几大决定因素
<ul>
<li>一致性
<ul>
<li>坚持自己立场的少数派更具有影响力</li>
<li>少数派缓慢效应：相对于多数派，少数派往往更慢地表达他们的观点（坚持一直不从众往往很痛苦）</li>
<li>相比于多数派不假思索的同意，少数派影响会激发更深刻的讨论，并且会提升创造力</li>
<li>自己群体内产生的异议会使人们获得更多的信息，会新的思路思考问题，并导致更好的决策</li>
</ul>
</li>
<li>自信
<ul>
<li>一致性和坚持性是自信的表现</li>
<li>少数派表达自信的任何行为都会使多数派产生自我怀疑，重新考虑他们的立场</li>
</ul>
</li>
<li>背叛（多数派）
<ul>
<li>坚持己见的少数派会打破一致同意错觉</li>
<li>如果少数派的某个人是多数派中投奔过来的，那他会比一直是少数派的人更有说服力（追随）。多数派也同理。</li>
</ul>
</li>
</ul>
</li>
<li>领导是否属于少数派
<ul>
<li>领导力（leadership）是特定个体动员和引导群体的过程</li>
<li>任务型领导：
<ul>
<li>通常是支配型的，有特定的目标取向</li>
<li>特定的、有挑战的目标加上周期性的进程报告会促进高成就的实现</li>
</ul>
</li>
<li>社会型领导
<ul>
<li>通常有民主风格，代表了权威，接纳团队成员的意见</li>
<li>避免群体思维，有利于鼓舞士气</li>
</ul>
</li>
<li>优秀领导者的特质？
<ul>
<li>任务型特点+社会型特点</li>
<li>靠坚持不懈自己的目标赢得信任，流露出自信的气质赢得下属的忠诚</li>
</ul>
</li>
<li>转变型领导
<ul>
<li>激励他人认同并承诺完成团队工作任务</li>
<li>有魅力、充满活力、自信、外向</li>
<li>阐明高标准、激励人们分享愿景、提供人际关注</li>
<li>如此的结果是形成参与度高、相互信任和有效率的工作团队</li>
</ul>
</li>
<li>群体也会影响领导者
<ul>
<li>过于偏离群体规范的领导者往往会被抵制</li>
<li>明智的领导者通常与多数派站在一起，并<u>谨慎地施加</u>自己的影响</li>
</ul>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Humanities</category>
      </categories>
      <tags>
        <tag>Psychology</tag>
        <tag>Sociology</tag>
      </tags>
  </entry>
</search>
