{"meta":{"title":"阿告今天学习了吗","subtitle":"","description":"","author":"阿告2426","url":"https://jiahaofang.github.io","root":"/"},"pages":[{"title":"","date":"2025-04-01T10:46:16.279Z","updated":"2025-04-01T10:46:16.279Z","comments":true,"path":"404.html","permalink":"https://jiahaofang.github.io/404.html","excerpt":"","text":""},{"title":"关于","date":"2025-04-01T10:46:16.279Z","updated":"2025-04-01T10:46:16.279Z","comments":true,"path":"about/index.html","permalink":"https://jiahaofang.github.io/about/index.html","excerpt":"","text":"About me"},{"title":"categories","date":"2022-02-22T11:29:09.000Z","updated":"2025-04-01T10:46:16.279Z","comments":true,"path":"categories/index.html","permalink":"https://jiahaofang.github.io/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2014-12-22T12:39:04.000Z","updated":"2025-04-01T10:46:16.280Z","comments":true,"path":"tags/index.html","permalink":"https://jiahaofang.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Notion + Elog + GitHub Actions + Hexo 博客解决方案","slug":"Notion + Elog + GitHub Actions + Hexo 博客解决方案","date":"2025-04-01T18:12:00.000Z","updated":"2025-04-01T18:23:00.000Z","comments":true,"path":"Notion + Elog + GitHub Actions + Hexo 博客解决方案/","link":"","permalink":"https://jiahaofang.github.io/Notion%20+%20Elog%20+%20GitHub%20Actions%20+%20Hexo%20%E5%8D%9A%E5%AE%A2%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","excerpt":"创作&amp;开发","text":"创作&amp;开发 Notion Hexo CI/CD Notion 创建 automation，设置触发器 Slack 注册 Slack 创建频道（channel） 添加应用 Notion Pipedream 注册 创建 Project 创建 workflow 设置 workflow 增加 Python step Elog + Github Action 添加 workflow 配置 添加环境变量；配置执行权限","categories":[{"name":"Blog","slug":"Blog","permalink":"https://jiahaofang.github.io/categories/Blog/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://jiahaofang.github.io/tags/hexo/"},{"name":"elog","slug":"elog","permalink":"https://jiahaofang.github.io/tags/elog/"},{"name":"notion","slug":"notion","permalink":"https://jiahaofang.github.io/tags/notion/"}]},{"title":"Notion + Hexo + GitHub Actions + Vercel 博客解决方案","slug":"Notion + Hexo + GitHub Actions + Vercel 博客解决方案","date":"2025-03-31T23:35:00.000Z","updated":"2025-04-01T18:12:00.000Z","comments":true,"path":"/notion-hexo/","link":"","permalink":"https://jiahaofang.github.io/notion-hexo/","excerpt":"博客工具","text":"博客工具 写作平台：Notion 博客平台：Hexo 博客主题：Butterfly@4.10.0 博客文档同步：Elog 部署平台：Vercel 博客仓库：https://github.com/LetTTGACO/notion-hexo 博客搭建指南 Fork模板仓库 点击 Fork 该模板仓库到个人 Github 账号仓库下并 clone 到本地 安装依赖 在项目根目录下运行命令安装依赖 1npm install 新建 Elog 本地调试文件 在项目根目录中复制.elog.example.env文件并改名为.elog.env，此文件将用于本地同步Notion 文档 配置 Notion 关键信息 按照文档提示配置 Notion 并获取 token 和 databaseId，在本地.elog.env中写入 text12NOTION_TOKEN=获取的tokenNOTION_DATABASE_ID=获取的databaseId 本地调试 在项目根目录运行同步命令 1npm run sync:local 启动 Hexo 在项目根目录运行hexo启动命令，会自动打开本地博客 1npm run server 配置 Hexo 博客 根据 Hexo 文档和 Butterfly 主题配置文档，配置你的博客直到你满意为主，你也可以换别的主题，这里不做演示 提交代码到 github 本地访问没问题直接提交所有文件到 Github 仓库即可 部署到 Vercel 注册 Vercel 账号并绑定 Github，在 Vercel 导入 该项目，Vercel 会自动识别出该 Hexo 项目，不需要改动，直接选择 Deploy 部署。部署完成会有一个 Vercel 临时域名，你也可以绑定自己的域名。 配置 Github Actions 权限 在 Github 仓库的设置中找到 Actions-General，打开流水线写入权限Workflow permissions 配置环境变量 在本地运行时，用的是.elog.env文件中定义的 Notion 账号信息，而在 Github Actions 时，需要提前配置环境变量。 在 Github 仓库的设置中找到 Secrets and variables，新增仓库的环境变量NOTION_DATABASE_ID和NOTION_TOKEN和.elog.env保持一致即可 自动化部署 当在 Notion 中改动文档后，手动/自动触发 Github Actions流水线，会重新从 Notion 增量拉取文档，自动提交代码到 Github 仓库。 Vercel 会实时监测仓库代码，当有新的提交时都会重新部署博客。如此就实现了自动化部署博客。 整个流程的关键点就在于：如何手动/自动触发 Github Actions 在项目.github/workflows/sync.yaml中已经配置了外部 API 触发 Github Actions 事件，所以只需要调用 API 触发流水线即可。 手动触发 为了方便，这里提供一个部署在 Vercel 的免费公用的ServerlessAPI，只需要配置好 URL 参数并浏览器访问即可触发流水线 1https://serverless-api-elog.vercel.app/api/github?user=xxx&amp;repo=xxx&amp;event_type=deploy&amp;token=xxx 自动触发 可在 Notion 中结合 Slack 触发，参考教程，这里就不做进一步演示了 自定义 Elog 配置 如果想自定义 Elog 配置，可访问 Elog 文档 博客示例 示例仓库：https://github.com/LetTTGACO/notion-hexo 博客示例地址：https://notion-hexo.vercel.app","categories":[{"name":"Blog","slug":"Blog","permalink":"https://jiahaofang.github.io/categories/Blog/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://jiahaofang.github.io/tags/hexo/"},{"name":"elog","slug":"elog","permalink":"https://jiahaofang.github.io/tags/elog/"},{"name":"notion","slug":"notion","permalink":"https://jiahaofang.github.io/tags/notion/"}]}],"categories":[{"name":"Blog","slug":"Blog","permalink":"https://jiahaofang.github.io/categories/Blog/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://jiahaofang.github.io/tags/hexo/"},{"name":"elog","slug":"elog","permalink":"https://jiahaofang.github.io/tags/elog/"},{"name":"notion","slug":"notion","permalink":"https://jiahaofang.github.io/tags/notion/"}]}